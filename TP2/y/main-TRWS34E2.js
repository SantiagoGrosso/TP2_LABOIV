import{a as c3,b as u3,c as nx,d as d3,e as h3,f as f3,g as BS,h as ix,i as kv,j as jS,k as rx,l as sx,m as p3,n as US,o as vi,p as oc,q as Zc,r as ox,s as $f,t as ax,u as m3,v as vl,w as HS,x as Ss}from"./chunk-AOC7W7WK.js";import{a as Dv}from"./chunk-OA5THNKF.js";import{a as $i,b as aq}from"./chunk-MJZ5ACB5.js";import{a as ut,b as hn,c as o3,d as a3,e as RS,f as oq,g as ma,h as l3,i as VS,j as Se}from"./chunk-4ZZIO3ZI.js";var Vh=RS((uu,MD)=>{"use strict";(function(t,e){typeof uu=="object"&&typeof MD<"u"?MD.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(uu,function(){"use strict";function t(z,x){(x==null||x>z.length)&&(x=z.length);for(var k=0,H=Array(x);k<x;k++)H[k]=z[k];return H}function e(z){if(Array.isArray(z))return z}function n(z){if(Array.isArray(z))return t(z)}function i(z,x,k){if(typeof z=="function"?z===x:z.has(x))return arguments.length<3?x:k;throw new TypeError("Private element is not present on this object")}function r(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function s(z,x,k){return x=y(x),I(z,E()?Reflect.construct(x,k||[],y(z).constructor):x.apply(z,k))}function o(z,x){if(x.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(z,x){if(!(z instanceof x))throw new TypeError("Cannot call a class as a function")}function l(z,x){return z.get(i(z,x))}function c(z,x,k){o(z,x),x.set(z,k)}function u(z,x,k){return z.set(i(z,x),k),k}function d(z,x,k){if(E())return Reflect.construct.apply(null,arguments);var H=[null];H.push.apply(H,x);var we=new(z.bind.apply(z,H));return we}function f(z,x){for(var k=0;k<x.length;k++){var H=x[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(z,R(H.key),H)}}function h(z,x,k){return x&&f(z.prototype,x),Object.defineProperty(z,"prototype",{writable:!1}),z}function _(z,x){var k=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!k){if(Array.isArray(z)||(k=oe(z))||x){k&&(z=k);var H=0,we=function(){};return{s:we,n:function(){return H>=z.length?{done:!0}:{done:!1,value:z[H++]}},e:function(bn){throw bn},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,Ot=!0,In=!1;return{s:function(){k=k.call(z)},n:function(){var bn=k.next();return Ot=bn.done,bn},e:function(bn){In=!0,Qe=bn},f:function(){try{Ot||k.return==null||k.return()}finally{if(In)throw Qe}}}}function g(){return g=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(z,x,k){var H=N(z,x);if(H){var we=Object.getOwnPropertyDescriptor(H,x);return we.get?we.get.call(arguments.length<3?z:k):we.value}},g.apply(null,arguments)}function y(z){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},y(z)}function b(z,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(x&&x.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),x&&T(z,x)}function E(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!z})()}function F(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function U(z,x){var k=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(k!=null){var H,we,Qe,Ot,In=[],bn=!0,yr=!1;try{if(Qe=(k=k.call(z)).next,x!==0)for(;!(bn=(H=Qe.call(k)).done)&&(In.push(H.value),In.length!==x);bn=!0);}catch(Kc){yr=!0,we=Kc}finally{try{if(!bn&&k.return!=null&&(Ot=k.return(),Object(Ot)!==Ot))return}finally{if(yr)throw we}}return In}}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(z,x){if(x&&(typeof x=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(z)}function T(z,x){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,H){return k.__proto__=H,k},T(z,x)}function L(z,x){return e(z)||U(z,x)||oe(z,x)||W()}function N(z,x){for(;!{}.hasOwnProperty.call(z,x)&&(z=y(z))!==null;);return z}function D(z){return n(z)||F(z)||oe(z)||te()}function M(z,x){if(typeof z!="object"||!z)return z;var k=z[Symbol.toPrimitive];if(k!==void 0){var H=k.call(z,x);if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function R(z){var x=M(z,"string");return typeof x=="symbol"?x:x+""}function Q(z){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Q(z)}function oe(z,x){if(z){if(typeof z=="string")return t(z,x);var k={}.toString.call(z).slice(8,-1);return k==="Object"&&z.constructor&&(k=z.constructor.name),k==="Map"||k==="Set"?Array.from(z):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?t(z,x):void 0}}var le=100,ie={},fe=function(){ie.previousActiveElement instanceof HTMLElement?(ie.previousActiveElement.focus(),ie.previousActiveElement=null):document.body&&document.body.focus()},be=function(x){return new Promise(function(k){if(!x)return k();var H=window.scrollX,we=window.scrollY;ie.restoreFocusTimeout=setTimeout(function(){fe(),k()},le),window.scrollTo(H,we)})},Ce="swal2-",Ue=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],C=Ue.reduce(function(z,x){return z[x]=Ce+x,z},{}),q=["success","warning","info","question","error"],j=q.reduce(function(z,x){return z[x]=Ce+x,z},{}),X="SweetAlert2:",de=function(x){return x.charAt(0).toUpperCase()+x.slice(1)},xe=function(x){console.warn("".concat(X," ").concat(Q(x)==="object"?x.join(" "):x))},Ee=function(x){console.error("".concat(X," ").concat(x))},Te=[],Fe=function(x){Te.includes(x)||(Te.push(x),xe(x))},et=function(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Fe('"'.concat(x,'" is deprecated and will be removed in the next major release.').concat(k?' Use "'.concat(k,'" instead.'):""))},ot=function(x){return typeof x=="function"?x():x},bt=function(x){return x&&typeof x.toPromise=="function"},Tt=function(x){return bt(x)?x.toPromise():Promise.resolve(x)},Ge=function(x){return x&&Promise.resolve(x)===x},ve=function(){return document.body.querySelector(".".concat(C.container))},rt=function(x){var k=ve();return k?k.querySelector(x):null},St=function(x){return rt(".".concat(x))},Ke=function(){return St(C.popup)},xt=function(){return St(C.icon)},kt=function(){return St(C["icon-content"])},Mt=function(){return St(C.title)},Wt=function(){return St(C["html-container"])},en=function(){return St(C.image)},cn=function(){return St(C["progress-steps"])},pn=function(){return St(C["validation-message"])},qt=function(){return rt(".".concat(C.actions," .").concat(C.confirm))},rn=function(){return rt(".".concat(C.actions," .").concat(C.cancel))},tn=function(){return rt(".".concat(C.actions," .").concat(C.deny))},Tn=function(){return St(C["input-label"])},Dt=function(){return rt(".".concat(C.loader))},qi=function(){return St(C.actions)},Dn=function(){return St(C.footer)},kr=function(){return St(C["timer-progress-bar"])},Jn=function(){return St(C.close)},mi=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,vs=function(){var x=Ke();if(!x)return[];var k=x.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),H=Array.from(k).sort(function(Ot,In){var bn=parseInt(Ot.getAttribute("tabindex")||"0"),yr=parseInt(In.getAttribute("tabindex")||"0");return bn>yr?1:bn<yr?-1:0}),we=x.querySelectorAll(mi),Qe=Array.from(we).filter(function(Ot){return Ot.getAttribute("tabindex")!=="-1"});return D(new Set(H.concat(Qe))).filter(function(Ot){return he(Ot)})},Gn=function(){return Xi(document.body,C.shown)&&!Xi(document.body,C["toast-shown"])&&!Xi(document.body,C["no-backdrop"])},ls=function(){var x=Ke();return x?Xi(x,C.toast):!1},Ei=function(){var x=Ke();return x?x.hasAttribute("data-loading"):!1},Ai=function(x,k){if(x.textContent="",k){var H=new DOMParser,we=H.parseFromString(k,"text/html"),Qe=we.querySelector("head");Qe&&Array.from(Qe.childNodes).forEach(function(In){x.appendChild(In)});var Ot=we.querySelector("body");Ot&&Array.from(Ot.childNodes).forEach(function(In){In instanceof HTMLVideoElement||In instanceof HTMLAudioElement?x.appendChild(In.cloneNode(!0)):x.appendChild(In)})}},Xi=function(x,k){if(!k)return!1;for(var H=k.split(/\s+/),we=0;we<H.length;we++)if(!x.classList.contains(H[we]))return!1;return!0},ui=function(x,k){Array.from(x.classList).forEach(function(H){!Object.values(C).includes(H)&&!Object.values(j).includes(H)&&!Object.values(k.showClass||{}).includes(H)&&x.classList.remove(H)})},Qt=function(x,k,H){if(ui(x,k),!!k.customClass){var we=k.customClass[H];if(we){if(typeof we!="string"&&!we.forEach){xe("Invalid type of customClass.".concat(H,'! Expected string or iterable object, got "').concat(Q(we),'"'));return}vn(x,we)}}},Sn=function(x,k){if(!k)return null;switch(k){case"select":case"textarea":case"file":return x.querySelector(".".concat(C.popup," > .").concat(C[k]));case"checkbox":return x.querySelector(".".concat(C.popup," > .").concat(C.checkbox," input"));case"radio":return x.querySelector(".".concat(C.popup," > .").concat(C.radio," input:checked"))||x.querySelector(".".concat(C.popup," > .").concat(C.radio," input:first-child"));case"range":return x.querySelector(".".concat(C.popup," > .").concat(C.range," input"));default:return x.querySelector(".".concat(C.popup," > .").concat(C.input))}},So=function(x){if(x.focus(),x.type!=="file"){var k=x.value;x.value="",x.value=k}},Yi=function(x,k,H){!x||!k||(typeof k=="string"&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(function(we){Array.isArray(x)?x.forEach(function(Qe){H?Qe.classList.add(we):Qe.classList.remove(we)}):H?x.classList.add(we):x.classList.remove(we)}))},vn=function(x,k){Yi(x,k,!0)},Pi=function(x,k){Yi(x,k,!1)},Kt=function(x,k){for(var H=Array.from(x.children),we=0;we<H.length;we++){var Qe=H[we];if(Qe instanceof HTMLElement&&Xi(Qe,k))return Qe}},ei=function(x,k,H){H==="".concat(parseInt(H))&&(H=parseInt(H)),H||parseInt(H)===0?x.style.setProperty(k,typeof H=="number"?"".concat(H,"px"):H):x.style.removeProperty(k)},ni=function(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";x&&(x.style.display=k)},Wn=function(x){x&&(x.style.display="none")},yi=function(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";x&&new MutationObserver(function(){J(x,x.innerHTML,k)}).observe(x,{childList:!0,subtree:!0})},Ki=function(x,k,H,we){var Qe=x.querySelector(k);Qe&&Qe.style.setProperty(H,we)},J=function(x,k){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";k?ni(x,H):Wn(x)},he=function(x){return!!(x&&(x.offsetWidth||x.offsetHeight||x.getClientRects().length))},ce=function(){return!he(qt())&&!he(tn())&&!he(rn())},ue=function(x){return x.scrollHeight>x.clientHeight},me=function(x){var k=window.getComputedStyle(x),H=parseFloat(k.getPropertyValue("animation-duration")||"0"),we=parseFloat(k.getPropertyValue("transition-duration")||"0");return H>0||we>0},ge=function(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=kr();H&&he(H)&&(k&&(H.style.transition="none",H.style.width="100%"),setTimeout(function(){H.style.transition="width ".concat(x/1e3,"s linear"),H.style.width="0%"},10))},Re=function(){var x=kr();if(x){var k=parseInt(window.getComputedStyle(x).width);x.style.removeProperty("transition"),x.style.width="100%";var H=parseInt(window.getComputedStyle(x).width),we=k/H*100;x.style.width="".concat(we,"%")}},$e=function(){return typeof window>"u"||typeof document>"u"},Oe=`
 <div aria-labelledby="`.concat(C.title,'" aria-describedby="').concat(C["html-container"],'" class="').concat(C.popup,`" tabindex="-1">
   <button type="button" class="`).concat(C.close,`"></button>
   <ul class="`).concat(C["progress-steps"],`"></ul>
   <div class="`).concat(C.icon,`"></div>
   <img class="`).concat(C.image,`" />
   <h2 class="`).concat(C.title,'" id="').concat(C.title,`"></h2>
   <div class="`).concat(C["html-container"],'" id="').concat(C["html-container"],`"></div>
   <input class="`).concat(C.input,'" id="').concat(C.input,`" />
   <input type="file" class="`).concat(C.file,`" />
   <div class="`).concat(C.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(C.select,'" id="').concat(C.select,`"></select>
   <div class="`).concat(C.radio,`"></div>
   <label class="`).concat(C.checkbox,`">
     <input type="checkbox" id="`).concat(C.checkbox,`" />
     <span class="`).concat(C.label,`"></span>
   </label>
   <textarea class="`).concat(C.textarea,'" id="').concat(C.textarea,`"></textarea>
   <div class="`).concat(C["validation-message"],'" id="').concat(C["validation-message"],`"></div>
   <div class="`).concat(C.actions,`">
     <div class="`).concat(C.loader,`"></div>
     <button type="button" class="`).concat(C.confirm,`"></button>
     <button type="button" class="`).concat(C.deny,`"></button>
     <button type="button" class="`).concat(C.cancel,`"></button>
   </div>
   <div class="`).concat(C.footer,`"></div>
   <div class="`).concat(C["timer-progress-bar-container"],`">
     <div class="`).concat(C["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ve=function(){var x=ve();return x?(x.remove(),Pi([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]),!0):!1},Be=function(){ie.currentInstance.resetValidationMessage()},ft=function(){var x=Ke(),k=Kt(x,C.input),H=Kt(x,C.file),we=x.querySelector(".".concat(C.range," input")),Qe=x.querySelector(".".concat(C.range," output")),Ot=Kt(x,C.select),In=x.querySelector(".".concat(C.checkbox," input")),bn=Kt(x,C.textarea);k.oninput=Be,H.onchange=Be,Ot.onchange=Be,In.onchange=Be,bn.oninput=Be,we.oninput=function(){Be(),Qe.value=we.value},we.onchange=function(){Be(),Qe.value=we.value}},wt=function(x){return typeof x=="string"?document.querySelector(x):x},Vt=function(x){var k=Ke();k.setAttribute("role",x.toast?"alert":"dialog"),k.setAttribute("aria-live",x.toast?"polite":"assertive"),x.toast||k.setAttribute("aria-modal","true")},Ct=function(x){window.getComputedStyle(x).direction==="rtl"&&vn(ve(),C.rtl)},At=function(x){var k=Ve();if($e()){Ee("SweetAlert2 requires document to initialize");return}var H=document.createElement("div");H.className=C.container,k&&vn(H,C["no-transition"]),Ai(H,Oe);var we=wt(x.target);we.appendChild(H),Vt(x),Ct(we),ft()},an=function(x,k){x instanceof HTMLElement?k.appendChild(x):Q(x)==="object"?ti(x,k):x&&Ai(k,x)},ti=function(x,k){x.jquery?pr(k,x):Ai(k,x.toString())},pr=function(x,k){if(x.textContent="",0 in k)for(var H=0;H in k;H++)x.appendChild(k[H].cloneNode(!0));else x.appendChild(k.cloneNode(!0))},Kn=function(){if($e())return!1;var z=document.createElement("div");return typeof z.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof z.style.animation<"u"?"animationend":!1}(),Fi=function(x,k){var H=qi(),we=Dt();!H||!we||(!k.showConfirmButton&&!k.showDenyButton&&!k.showCancelButton?Wn(H):ni(H),Qt(H,k,"actions"),Eo(H,we,k),Ai(we,k.loaderHtml||""),Qt(we,k,"loader"))};function Eo(z,x,k){var H=qt(),we=tn(),Qe=rn();!H||!we||!Qe||(_s(H,"confirm",k),_s(we,"deny",k),_s(Qe,"cancel",k),ea(H,we,Qe,k),k.reverseButtons&&(k.toast?(z.insertBefore(Qe,H),z.insertBefore(we,H)):(z.insertBefore(Qe,x),z.insertBefore(we,x),z.insertBefore(H,x))))}function ea(z,x,k,H){if(!H.buttonsStyling){Pi([z,x,k],C.styled);return}vn([z,x,k],C.styled),H.confirmButtonColor&&(z.style.backgroundColor=H.confirmButtonColor,vn(z,C["default-outline"])),H.denyButtonColor&&(x.style.backgroundColor=H.denyButtonColor,vn(x,C["default-outline"])),H.cancelButtonColor&&(k.style.backgroundColor=H.cancelButtonColor,vn(k,C["default-outline"]))}function _s(z,x,k){var H=de(x);J(z,k["show".concat(H,"Button")],"inline-block"),Ai(z,k["".concat(x,"ButtonText")]||""),z.setAttribute("aria-label",k["".concat(x,"ButtonAriaLabel")]||""),z.className=C[x],Qt(z,k,"".concat(x,"Button"))}var Ao=function(x,k){var H=Jn();H&&(Ai(H,k.closeButtonHtml||""),Qt(H,k,"closeButton"),J(H,k.showCloseButton),H.setAttribute("aria-label",k.closeButtonAriaLabel||""))},ys=function(x,k){var H=ve();H&&(Qi(H,k.backdrop),Vc(H,k.position),ju(H,k.grow),Qt(H,k,"container"))};function Qi(z,x){typeof x=="string"?z.style.background=x:x||vn([document.documentElement,document.body],C["no-backdrop"])}function Vc(z,x){x&&(x in C?vn(z,C[x]):(xe('The "position" parameter is not valid, defaulting to "center"'),vn(z,C.center)))}function ju(z,x){x&&vn(z,C["grow-".concat(x)])}var oi={innerParams:new WeakMap,domCache:new WeakMap},Uu=["input","file","range","select","radio","checkbox","textarea"],Vf=function(x,k){var H=Ke();if(H){var we=oi.innerParams.get(x),Qe=!we||k.input!==we.input;Uu.forEach(function(Ot){var In=Kt(H,C[Ot]);In&&(xs(Ot,k.inputAttributes),In.className=C[Ot],Qe&&Wn(In))}),k.input&&(Qe&&io(k),ko(k))}},io=function(x){if(x.input){if(!un[x.input]){Ee("Unexpected type of input! Expected ".concat(Object.keys(un).join(" | "),', got "').concat(x.input,'"'));return}var k=al(x.input),H=un[x.input](k,x);ni(k),x.inputAutoFocus&&setTimeout(function(){So(H)})}},Wl=function(x){for(var k=0;k<x.attributes.length;k++){var H=x.attributes[k].name;["id","type","value","style"].includes(H)||x.removeAttribute(H)}},xs=function(x,k){var H=Sn(Ke(),x);if(H){Wl(H);for(var we in k)H.setAttribute(we,k[we])}},ko=function(x){var k=al(x.input);Q(x.customClass)==="object"&&vn(k,x.customClass.input)},ws=function(x,k){(!x.placeholder||k.inputPlaceholder)&&(x.placeholder=k.inputPlaceholder)},ta=function(x,k,H){if(H.inputLabel){var we=document.createElement("label"),Qe=C["input-label"];we.setAttribute("for",x.id),we.className=Qe,Q(H.customClass)==="object"&&vn(we,H.customClass.inputLabel),we.innerText=H.inputLabel,k.insertAdjacentElement("beforebegin",we)}},al=function(x){return Kt(Ke(),C[x]||C.input)},ql=function(x,k){["string","number"].includes(Q(k))?x.value="".concat(k):Ge(k)||xe('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Q(k),'"'))},un={};un.text=un.email=un.password=un.number=un.tel=un.url=un.search=un.date=un["datetime-local"]=un.time=un.week=un.month=function(z,x){return ql(z,x.inputValue),ta(z,z,x),ws(z,x),z.type=x.input,z},un.file=function(z,x){return ta(z,z,x),ws(z,x),z},un.range=function(z,x){var k=z.querySelector("input"),H=z.querySelector("output");return ql(k,x.inputValue),k.type=x.input,ql(H,x.inputValue),ta(k,z,x),z},un.select=function(z,x){if(z.textContent="",x.inputPlaceholder){var k=document.createElement("option");Ai(k,x.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,z.appendChild(k)}return ta(z,z,x),z},un.radio=function(z){return z.textContent="",z},un.checkbox=function(z,x){var k=Sn(Ke(),"checkbox");k.value="1",k.checked=!!x.inputValue;var H=z.querySelector("span");return Ai(H,x.inputPlaceholder),k},un.textarea=function(z,x){ql(z,x.inputValue),ws(z,x),ta(z,z,x);var k=function(we){return parseInt(window.getComputedStyle(we).marginLeft)+parseInt(window.getComputedStyle(we).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var H=parseInt(window.getComputedStyle(Ke()).width),we=function(){if(document.body.contains(z)){var Ot=z.offsetWidth+k(z);Ot>H?Ke().style.width="".concat(Ot,"px"):ei(Ke(),"width",x.width)}};new MutationObserver(we).observe(z,{attributes:!0,attributeFilter:["style"]})}}),z};var Bc=function(x,k){var H=Wt();H&&(yi(H),Qt(H,k,"htmlContainer"),k.html?(an(k.html,H),ni(H,"block")):k.text?(H.textContent=k.text,ni(H,"block")):Wn(H),Vf(x,k))},Ea=function(x,k){var H=Dn();H&&(yi(H),J(H,k.footer,"block"),k.footer&&an(k.footer,H),Qt(H,k,"footer"))},Xl=function(x,k){var H=oi.innerParams.get(x),we=xt();if(we){if(H&&k.icon===H.icon){Yl(we,k),Zd(we,k);return}if(!k.icon&&!k.iconHtml){Wn(we);return}if(k.icon&&Object.keys(j).indexOf(k.icon)===-1){Ee('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(k.icon,'"')),Wn(we);return}ni(we),Yl(we,k),Zd(we,k),vn(we,k.showClass&&k.showClass.icon)}},Zd=function(x,k){for(var H=0,we=Object.entries(j);H<we.length;H++){var Qe=L(we[H],2),Ot=Qe[0],In=Qe[1];k.icon!==Ot&&Pi(x,In)}vn(x,k.icon&&j[k.icon]),eh(x,k),Jd(),Qt(x,k,"icon")},Jd=function(){var x=Ke();if(x)for(var k=window.getComputedStyle(x).getPropertyValue("background-color"),H=x.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),we=0;we<H.length;we++)H[we].style.backgroundColor=k},Aa=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,jc=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Yl=function(x,k){if(!(!k.icon&&!k.iconHtml)){var H=x.innerHTML,we="";if(k.iconHtml)we=mr(k.iconHtml);else if(k.icon==="success")we=Aa,H=H.replace(/ style=".*?"/g,"");else if(k.icon==="error")we=jc;else if(k.icon){var Qe={question:"?",warning:"!",info:"i"};we=mr(Qe[k.icon])}H.trim()!==we.trim()&&Ai(x,we)}},eh=function(x,k){if(k.iconColor){x.style.color=k.iconColor,x.style.borderColor=k.iconColor;for(var H=0,we=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];H<we.length;H++){var Qe=we[H];Ki(x,Qe,"background-color",k.iconColor)}Ki(x,".swal2-success-ring","border-color",k.iconColor)}},mr=function(x){return'<div class="'.concat(C["icon-content"],'">').concat(x,"</div>")},na=function(x,k){var H=en();if(H){if(!k.imageUrl){Wn(H);return}ni(H,""),H.setAttribute("src",k.imageUrl),H.setAttribute("alt",k.imageAlt||""),ei(H,"width",k.imageWidth),ei(H,"height",k.imageHeight),H.className=C.image,Qt(H,k,"image")}},Hu=function(x,k){var H=ve(),we=Ke();if(!(!H||!we)){if(k.toast){ei(H,"width",k.width),we.style.width="100%";var Qe=Dt();Qe&&we.insertBefore(Qe,xt())}else ei(we,"width",k.width);ei(we,"padding",k.padding),k.color&&(we.style.color=k.color),k.background&&(we.style.background=k.background),Wn(pn()),gn(we,k)}},gn=function(x,k){var H=k.showClass||{};x.className="".concat(C.popup," ").concat(he(x)?H.popup:""),k.toast?(vn([document.documentElement,document.body],C["toast-shown"]),vn(x,C.toast)):vn(x,C.modal),Qt(x,k,"popup"),typeof k.customClass=="string"&&vn(x,k.customClass),k.icon&&vn(x,C["icon-".concat(k.icon)])},th=function(x,k){var H=cn();if(H){var we=k.progressSteps,Qe=k.currentProgressStep;if(!we||we.length===0||Qe===void 0){Wn(H);return}ni(H),H.textContent="",Qe>=we.length&&xe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),we.forEach(function(Ot,In){var bn=ll(Ot);if(H.appendChild(bn),In===Qe&&vn(bn,C["active-progress-step"]),In!==we.length-1){var yr=ia(k);H.appendChild(yr)}})}},ll=function(x){var k=document.createElement("li");return vn(k,C["progress-step"]),Ai(k,x),k},ia=function(x){var k=document.createElement("li");return vn(k,C["progress-step-line"]),x.progressStepsDistance&&ei(k,"width",x.progressStepsDistance),k},nh=function(x,k){var H=Mt();H&&(yi(H),J(H,k.title||k.titleText,"block"),k.title&&an(k.title,H),k.titleText&&(H.innerText=k.titleText),Qt(H,k,"title"))},zu=function(x,k){Hu(x,k),ys(x,k),th(x,k),Xl(x,k),na(x,k),nh(x,k),Ao(x,k),Bc(x,k),Fi(x,k),Ea(x,k);var H=Ke();typeof k.didRender=="function"&&H&&k.didRender(H)},js=function(){return he(Ke())},Uc=function(){var x;return(x=qt())===null||x===void 0?void 0:x.click()},Bf=function(){var x;return(x=tn())===null||x===void 0?void 0:x.click()},Kl=function(){var x;return(x=rn())===null||x===void 0?void 0:x.click()},Do=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ql=function(x){x.keydownTarget&&x.keydownHandlerAdded&&(x.keydownTarget.removeEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!1)},Io=function(x,k,H){Ql(x),k.toast||(x.keydownHandler=function(we){return ki(k,we,H)},x.keydownTarget=k.keydownListenerCapture?window:Ke(),x.keydownListenerCapture=k.keydownListenerCapture,x.keydownTarget.addEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!0)},bs=function(x,k){var H,we=vs();if(we.length){x=x+k,x===we.length?x=0:x===-1&&(x=we.length-1),we[x].focus();return}(H=Ke())===null||H===void 0||H.focus()},$u=["ArrowRight","ArrowDown"],ka=["ArrowLeft","ArrowUp"],ki=function(x,k,H){x&&(k.isComposing||k.keyCode===229||(x.stopKeydownPropagation&&k.stopPropagation(),k.key==="Enter"?Hc(k,x):k.key==="Tab"?ih(k):[].concat($u,ka).includes(k.key)?Gu(k.key):k.key==="Escape"&&Wu(k,x,H)))},Hc=function(x,k){if(ot(k.allowEnterKey)){var H=Sn(Ke(),k.input);if(x.target&&H&&x.target instanceof HTMLElement&&x.target.outerHTML===H.outerHTML){if(["textarea","file"].includes(k.input))return;Uc(),x.preventDefault()}}},ih=function(x){for(var k=x.target,H=vs(),we=-1,Qe=0;Qe<H.length;Qe++)if(k===H[Qe]){we=Qe;break}x.shiftKey?bs(we,-1):bs(we,1),x.stopPropagation(),x.preventDefault()},Gu=function(x){var k=qi(),H=qt(),we=tn(),Qe=rn();if(!(!k||!H||!we||!Qe)){var Ot=[H,we,Qe];if(!(document.activeElement instanceof HTMLElement&&!Ot.includes(document.activeElement))){var In=$u.includes(x)?"nextElementSibling":"previousElementSibling",bn=document.activeElement;if(bn){for(var yr=0;yr<k.children.length;yr++){if(bn=bn[In],!bn)return;if(bn instanceof HTMLButtonElement&&he(bn))break}bn instanceof HTMLButtonElement&&bn.focus()}}}},Wu=function(x,k,H){ot(k.allowEscapeKey)&&(x.preventDefault(),H(Do.esc))},ra={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ro=function(){var x=ve(),k=Array.from(document.body.children);k.forEach(function(H){H.contains(x)||(H.hasAttribute("aria-hidden")&&H.setAttribute("data-previous-aria-hidden",H.getAttribute("aria-hidden")||""),H.setAttribute("aria-hidden","true"))})},sa=function(){var x=Array.from(document.body.children);x.forEach(function(k){k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")||""),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},so=typeof window<"u"&&!!window.GestureEvent,Da=function(){if(so&&!Xi(document.body,C.iosfix)){var x=document.body.scrollTop;document.body.style.top="".concat(x*-1,"px"),vn(document.body,C.iosfix),Mo()}},Mo=function(){var x=ve();if(x){var k;x.ontouchstart=function(H){k=Ia(H)},x.ontouchmove=function(H){k&&(H.preventDefault(),H.stopPropagation())}}},Ia=function(x){var k=x.target,H=ve(),we=Wt();return!H||!we||cl(x)||qu(x)?!1:k===H||!ue(H)&&k instanceof HTMLElement&&k.tagName!=="INPUT"&&k.tagName!=="TEXTAREA"&&!(ue(we)&&we.contains(k))},cl=function(x){return x.touches&&x.touches.length&&x.touches[0].touchType==="stylus"},qu=function(x){return x.touches&&x.touches.length>1},Ma=function(){if(Xi(document.body,C.iosfix)){var x=parseInt(document.body.style.top,10);Pi(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=x*-1}},rh=function(){var x=document.createElement("div");x.className=C["scrollbar-measure"],document.body.appendChild(x);var k=x.getBoundingClientRect().width-x.clientWidth;return document.body.removeChild(x),k},Us=null,Xu=function(x){Us===null&&(document.body.scrollHeight>window.innerHeight||x==="scroll")&&(Us=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Us+rh(),"px"))},Yu=function(){Us!==null&&(document.body.style.paddingRight="".concat(Us,"px"),Us=null)};function Po(z,x,k,H){ls()?oo(z,H):(be(k).then(function(){return oo(z,H)}),Ql(ie)),so?(x.setAttribute("style","display:none !important"),x.removeAttribute("class"),x.innerHTML=""):x.remove(),Gn()&&(Yu(),Ma(),sa()),zc()}function zc(){Pi([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"]])}function Hs(z){z=oa(z);var x=ra.swalPromiseResolve.get(this),k=$c(this);this.isAwaitingPromise?z.isDismissed||(Fo(this),x(z)):k&&x(z)}var $c=function(x){var k=Ke();if(!k)return!1;var H=oi.innerParams.get(x);if(!H||Xi(k,H.hideClass.popup))return!1;Pi(k,H.showClass.popup),vn(k,H.hideClass.popup);var we=ve();return Pi(we,H.showClass.backdrop),vn(we,H.hideClass.backdrop),Wc(x,k,H),!0};function Gc(z){var x=ra.swalPromiseReject.get(this);Fo(this),x&&x(z)}var Fo=function(x){x.isAwaitingPromise&&(delete x.isAwaitingPromise,oi.innerParams.get(x)||x._destroy())},oa=function(x){return typeof x>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},x)},Wc=function(x,k,H){var we=ve(),Qe=Kn&&me(k);typeof H.willClose=="function"&&H.willClose(k),Qe?Pa(x,k,we,H.returnFocus,H.didClose):Po(x,we,H.returnFocus,H.didClose)},Pa=function(x,k,H,we,Qe){Kn&&(ie.swalCloseEventFinishedCallback=Po.bind(null,x,H,we,Qe),k.addEventListener(Kn,function(Ot){Ot.target===k&&(ie.swalCloseEventFinishedCallback(),delete ie.swalCloseEventFinishedCallback)}))},oo=function(x,k){setTimeout(function(){typeof k=="function"&&k.bind(x.params)(),x._destroy&&x._destroy()})},w=function(x){var k=Ke();if(k||new H0,k=Ke(),!!k){var H=Dt();ls()?Wn(xt()):Y(k,x),ni(H),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()}},Y=function(x,k){var H=qi(),we=Dt();!H||!we||(!k&&he(qt())&&(k=qt()),ni(H),k&&(Wn(k),we.setAttribute("data-button-to-replace",k.className),H.insertBefore(we,k)),vn([x,H],C.loading))},_e=function(x,k){k.input==="select"||k.input==="radio"?Bt(x,k):["text","email","number","tel","textarea"].some(function(H){return H===k.input})&&(bt(k.inputValue)||Ge(k.inputValue))&&(w(qt()),Zt(x,k))},Ae=function(x,k){var H=x.getInput();if(!H)return null;switch(k.input){case"checkbox":return Ne(H);case"radio":return We(H);case"file":return gt(H);default:return k.inputAutoTrim?H.value.trim():H.value}},Ne=function(x){return x.checked?1:0},We=function(x){return x.checked?x.value:null},gt=function(x){return x.files&&x.files.length?x.getAttribute("multiple")!==null?x.files:x.files[0]:null},Bt=function(x,k){var H=Ke();if(H){var we=function(Ot){k.input==="select"?m(H,V(Ot),k):k.input==="radio"&&A(H,V(Ot),k)};bt(k.inputOptions)||Ge(k.inputOptions)?(w(qt()),Tt(k.inputOptions).then(function(Qe){x.hideLoading(),we(Qe)})):Q(k.inputOptions)==="object"?we(k.inputOptions):Ee("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Q(k.inputOptions)))}},Zt=function(x,k){var H=x.getInput();H&&(Wn(H),Tt(k.inputValue).then(function(we){H.value=k.input==="number"?"".concat(parseFloat(we)||0):"".concat(we),ni(H),H.focus(),x.hideLoading()}).catch(function(we){Ee("Error in inputValue promise: ".concat(we)),H.value="",ni(H),H.focus(),x.hideLoading()}))};function m(z,x,k){var H=Kt(z,C.select);if(H){var we=function(Ot,In,bn){var yr=document.createElement("option");yr.value=bn,Ai(yr,In),yr.selected=re(bn,k.inputValue),Ot.appendChild(yr)};x.forEach(function(Qe){var Ot=Qe[0],In=Qe[1];if(Array.isArray(In)){var bn=document.createElement("optgroup");bn.label=Ot,bn.disabled=!1,H.appendChild(bn),In.forEach(function(yr){return we(bn,yr[1],yr[0])})}else we(H,In,Ot)}),H.focus()}}function A(z,x,k){var H=Kt(z,C.radio);if(H){x.forEach(function(Qe){var Ot=Qe[0],In=Qe[1],bn=document.createElement("input"),yr=document.createElement("label");bn.type="radio",bn.name=C.radio,bn.value=Ot,re(Ot,k.inputValue)&&(bn.checked=!0);var Kc=document.createElement("span");Ai(Kc,In),Kc.className=C.label,yr.appendChild(bn),yr.appendChild(Kc),H.appendChild(yr)});var we=H.querySelectorAll("input");we.length&&we[0].focus()}}var V=function z(x){var k=[];return x instanceof Map?x.forEach(function(H,we){var Qe=H;Q(Qe)==="object"&&(Qe=z(Qe)),k.push([we,Qe])}):Object.keys(x).forEach(function(H){var we=x[H];Q(we)==="object"&&(we=z(we)),k.push([H,we])}),k},re=function(x,k){return!!k&&k.toString()===x.toString()},Ie=void 0,je=function(x){var k=oi.innerParams.get(x);x.disableButtons(),k.input?gi(x,"confirm"):Or(x,!0)},yt=function(x){var k=oi.innerParams.get(x);x.disableButtons(),k.returnInputValueOnDeny?gi(x,"deny"):Di(x,!1)},yn=function(x,k){x.disableButtons(),k(Do.cancel)},gi=function(x,k){var H=oi.innerParams.get(x);if(!H.input){Ee('The "input" parameter is needed to be set when using returnInputValueOn'.concat(de(k)));return}var we=x.getInput(),Qe=Ae(x,H);H.inputValidator?xn(x,Qe,k):we&&!we.checkValidity()?(x.enableButtons(),x.showValidationMessage(H.validationMessage||we.validationMessage)):k==="deny"?Di(x,Qe):Or(x,Qe)},xn=function(x,k,H){var we=oi.innerParams.get(x);x.disableInput();var Qe=Promise.resolve().then(function(){return Tt(we.inputValidator(k,we.validationMessage))});Qe.then(function(Ot){x.enableButtons(),x.enableInput(),Ot?x.showValidationMessage(Ot):H==="deny"?Di(x,k):Or(x,k)})},Di=function(x,k){var H=oi.innerParams.get(x||Ie);if(H.showLoaderOnDeny&&w(tn()),H.preDeny){x.isAwaitingPromise=!0;var we=Promise.resolve().then(function(){return Tt(H.preDeny(k,H.validationMessage))});we.then(function(Qe){Qe===!1?(x.hideLoading(),Fo(x)):x.close({isDenied:!0,value:typeof Qe>"u"?k:Qe})}).catch(function(Qe){return Lo(x||Ie,Qe)})}else x.close({isDenied:!0,value:k})},_r=function(x,k){x.close({isConfirmed:!0,value:k})},Lo=function(x,k){x.rejectPromise(k)},Or=function(x,k){var H=oi.innerParams.get(x||Ie);if(H.showLoaderOnConfirm&&w(),H.preConfirm){x.resetValidationMessage(),x.isAwaitingPromise=!0;var we=Promise.resolve().then(function(){return Tt(H.preConfirm(k,H.validationMessage))});we.then(function(Qe){he(pn())||Qe===!1?(x.hideLoading(),Fo(x)):_r(x,typeof Qe>"u"?k:Qe)}).catch(function(Qe){return Lo(x||Ie,Qe)})}else _r(x,k)};function ao(){var z=oi.innerParams.get(this);if(z){var x=oi.domCache.get(this);Wn(x.loader),ls()?z.icon&&ni(xt()):Zl(x),Pi([x.popup,x.actions],C.loading),x.popup.removeAttribute("aria-busy"),x.popup.removeAttribute("data-loading"),x.confirmButton.disabled=!1,x.denyButton.disabled=!1,x.cancelButton.disabled=!1}}var Zl=function(x){var k=x.popup.getElementsByClassName(x.loader.getAttribute("data-button-to-replace"));k.length?ni(k[0],"inline-block"):ce()&&Wn(x.actions)};function sh(){var z=oi.innerParams.get(this),x=oi.domCache.get(this);return x?Sn(x.popup,z.input):null}function Ku(z,x,k){var H=oi.domCache.get(z);x.forEach(function(we){H[we].disabled=k})}function zs(z,x){var k=Ke();if(!(!k||!z))if(z.type==="radio")for(var H=k.querySelectorAll('[name="'.concat(C.radio,'"]')),we=0;we<H.length;we++)H[we].disabled=x;else z.disabled=x}function Qu(){Ku(this,["confirmButton","denyButton","cancelButton"],!1)}function Zu(){Ku(this,["confirmButton","denyButton","cancelButton"],!0)}function Ju(){zs(this.getInput(),!1)}function oh(){zs(this.getInput(),!0)}function $s(z){var x=oi.domCache.get(this),k=oi.innerParams.get(this);Ai(x.validationMessage,z),x.validationMessage.className=C["validation-message"],k.customClass&&k.customClass.validationMessage&&vn(x.validationMessage,k.customClass.validationMessage),ni(x.validationMessage);var H=this.getInput();H&&(H.setAttribute("aria-invalid","true"),H.setAttribute("aria-describedby",C["validation-message"]),So(H),vn(H,C.inputerror))}function M0(){var z=oi.domCache.get(this);z.validationMessage&&Wn(z.validationMessage);var x=this.getInput();x&&(x.removeAttribute("aria-invalid"),x.removeAttribute("aria-describedby"),Pi(x,C.inputerror))}var ul={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},P0=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Fa={allowEnterKey:void 0},jf=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],F0=function(x){return Object.prototype.hasOwnProperty.call(ul,x)},L0=function(x){return P0.indexOf(x)!==-1},Jl=function(x){return Fa[x]},aa=function(x){F0(x)||xe('Unknown parameter "'.concat(x,'"'))},La=function(x){jf.includes(x)&&xe('The parameter "'.concat(x,'" is incompatible with toasts'))},qc=function(x){var k=Jl(x);k&&et(x,k)},dl=function(x){x.backdrop===!1&&x.allowOutsideClick&&xe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var k in x)aa(k),x.toast&&La(k),qc(k)};function hl(z){var x=Ke(),k=oi.innerParams.get(this);if(!x||Xi(x,k.hideClass.popup)){xe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var H=ah(z),we=Object.assign({},k,H);zu(this,we),oi.innerParams.set(this,we),Object.defineProperties(this,{params:{value:Object.assign({},this.params,z),writable:!1,enumerable:!0}})}var ah=function(x){var k={};return Object.keys(x).forEach(function(H){L0(H)?k[H]=x[H]:xe("Invalid parameter to update: ".concat(H))}),k};function la(){var z=oi.domCache.get(this),x=oi.innerParams.get(this);if(!x){ch(this);return}z.popup&&ie.swalCloseEventFinishedCallback&&(ie.swalCloseEventFinishedCallback(),delete ie.swalCloseEventFinishedCallback),typeof x.didDestroy=="function"&&x.didDestroy(),lh(this)}var lh=function(x){ch(x),delete x.params,delete ie.keydownHandler,delete ie.keydownTarget,delete ie.currentInstance},ch=function(x){x.isAwaitingPromise?(fl(oi,x),x.isAwaitingPromise=!0):(fl(ra,x),fl(oi,x),delete x.isAwaitingPromise,delete x.disableButtons,delete x.enableButtons,delete x.getInput,delete x.disableInput,delete x.enableInput,delete x.hideLoading,delete x.disableLoading,delete x.showValidationMessage,delete x.resetValidationMessage,delete x.close,delete x.closePopup,delete x.closeModal,delete x.closeToast,delete x.rejectPromise,delete x.update,delete x._destroy)},fl=function(x,k){for(var H in x)x[H].delete(k)},Na=Object.freeze({__proto__:null,_destroy:la,close:Hs,closeModal:Hs,closePopup:Hs,closeToast:Hs,disableButtons:Zu,disableInput:oh,disableLoading:ao,enableButtons:Qu,enableInput:Ju,getInput:sh,handleAwaitingPromise:Fo,hideLoading:ao,rejectPromise:Gc,resetValidationMessage:M0,showValidationMessage:$s,update:hl}),ec=function(x,k,H){x.toast?ed(x,k,H):(Xc(k),Uf(k),ca(x,k,H))},ed=function(x,k,H){k.popup.onclick=function(){x&&(uh(x)||x.timer||x.input)||H(Do.close)}},uh=function(x){return!!(x.showConfirmButton||x.showDenyButton||x.showCancelButton||x.showCloseButton)},pl=!1,Xc=function(x){x.popup.onmousedown=function(){x.container.onmouseup=function(k){x.container.onmouseup=function(){},k.target===x.container&&(pl=!0)}}},Uf=function(x){x.container.onmousedown=function(k){k.target===x.container&&k.preventDefault(),x.popup.onmouseup=function(H){x.popup.onmouseup=function(){},(H.target===x.popup||H.target instanceof HTMLElement&&x.popup.contains(H.target))&&(pl=!0)}}},ca=function(x,k,H){k.container.onclick=function(we){if(pl){pl=!1;return}we.target===k.container&&ot(x.allowOutsideClick)&&H(Do.backdrop)}},tc=function(x){return Q(x)==="object"&&x.jquery},Li=function(x){return x instanceof Element||tc(x)},Hi=function(x){var k={};return Q(x[0])==="object"&&!Li(x[0])?Object.assign(k,x[0]):["title","html","icon"].forEach(function(H,we){var Qe=x[we];typeof Qe=="string"||Li(Qe)?k[H]=Qe:Qe!==void 0&&Ee("Unexpected type of ".concat(H,'! Expected "string" or "Element", got ').concat(Q(Qe)))}),k};function Cr(){for(var z=this,x=arguments.length,k=new Array(x),H=0;H<x;H++)k[H]=arguments[H];return d(z,k)}function Rr(z){var x=function(k){function H(){return a(this,H),s(this,H,arguments)}return b(H,k),h(H,[{key:"_main",value:function(Qe,Ot){return g(y(H.prototype),"_main",this).call(this,Qe,Object.assign({},z,Ot))}}])}(this);return x}var nc=function(){return ie.timeout&&ie.timeout.getTimerLeft()},ic=function(){if(ie.timeout)return Re(),ie.timeout.stop()},td=function(){if(ie.timeout){var x=ie.timeout.start();return ge(x),x}},N0=function(){var x=ie.timeout;return x&&(x.running?ic():td())},Ny=function(x){if(ie.timeout){var k=ie.timeout.increase(x);return ge(k,!0),k}},Oy=function(){return!!(ie.timeout&&ie.timeout.isRunning())},_v=!1,O0={};function Ry(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";O0[z]=this,_v||(document.body.addEventListener("click",Vy),_v=!0)}var Vy=function(x){for(var k=x.target;k&&k!==document;k=k.parentNode)for(var H in O0){var we=k.getAttribute(H);if(we){O0[H].fire({template:we});return}}},yv=Object.freeze({__proto__:null,argsToParams:Hi,bindClickHandler:Ry,clickCancel:Kl,clickConfirm:Uc,clickDeny:Bf,enableLoading:w,fire:Cr,getActions:qi,getCancelButton:rn,getCloseButton:Jn,getConfirmButton:qt,getContainer:ve,getDenyButton:tn,getFocusableElements:vs,getFooter:Dn,getHtmlContainer:Wt,getIcon:xt,getIconContent:kt,getImage:en,getInputLabel:Tn,getLoader:Dt,getPopup:Ke,getProgressSteps:cn,getTimerLeft:nc,getTimerProgressBar:kr,getTitle:Mt,getValidationMessage:pn,increaseTimer:Ny,isDeprecatedParameter:Jl,isLoading:Ei,isTimerRunning:Oy,isUpdatableParameter:L0,isValidParameter:F0,isVisible:js,mixin:Rr,resumeTimer:td,showLoading:w,stopTimer:ic,toggleTimer:N0}),R0=function(){function z(x,k){a(this,z),this.callback=x,this.remaining=k,this.running=!1,this.start()}return h(z,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(k){var H=this.running;return H&&this.stop(),this.remaining+=k,H&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),lo=["swal-title","swal-html","swal-footer"],ua=function(x){var k=typeof x.template=="string"?document.querySelector(x.template):x.template;if(!k)return{};var H=k.content;wv(H);var we=Object.assign(V0(H),B0(H),By(H),j0(H),U0(H),xv(H),jy(H,lo));return we},V0=function(x){var k={},H=Array.from(x.querySelectorAll("swal-param"));return H.forEach(function(we){rc(we,["name","value"]);var Qe=we.getAttribute("name"),Ot=we.getAttribute("value");typeof ul[Qe]=="boolean"?k[Qe]=Ot!=="false":Q(ul[Qe])==="object"?k[Qe]=JSON.parse(Ot):k[Qe]=Ot}),k},B0=function(x){var k={},H=Array.from(x.querySelectorAll("swal-function-param"));return H.forEach(function(we){var Qe=we.getAttribute("name"),Ot=we.getAttribute("value");k[Qe]=new Function("return ".concat(Ot))()}),k},By=function(x){var k={},H=Array.from(x.querySelectorAll("swal-button"));return H.forEach(function(we){rc(we,["type","color","aria-label"]);var Qe=we.getAttribute("type");k["".concat(Qe,"ButtonText")]=we.innerHTML,k["show".concat(de(Qe),"Button")]=!0,we.hasAttribute("color")&&(k["".concat(Qe,"ButtonColor")]=we.getAttribute("color")),we.hasAttribute("aria-label")&&(k["".concat(Qe,"ButtonAriaLabel")]=we.getAttribute("aria-label"))}),k},j0=function(x){var k={},H=x.querySelector("swal-image");return H&&(rc(H,["src","width","height","alt"]),H.hasAttribute("src")&&(k.imageUrl=H.getAttribute("src")||void 0),H.hasAttribute("width")&&(k.imageWidth=H.getAttribute("width")||void 0),H.hasAttribute("height")&&(k.imageHeight=H.getAttribute("height")||void 0),H.hasAttribute("alt")&&(k.imageAlt=H.getAttribute("alt")||void 0)),k},U0=function(x){var k={},H=x.querySelector("swal-icon");return H&&(rc(H,["type","color"]),H.hasAttribute("type")&&(k.icon=H.getAttribute("type")),H.hasAttribute("color")&&(k.iconColor=H.getAttribute("color")),k.iconHtml=H.innerHTML),k},xv=function(x){var k={},H=x.querySelector("swal-input");H&&(rc(H,["type","label","placeholder","value"]),k.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(k.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(k.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(k.inputValue=H.getAttribute("value")));var we=Array.from(x.querySelectorAll("swal-input-option"));return we.length&&(k.inputOptions={},we.forEach(function(Qe){rc(Qe,["value"]);var Ot=Qe.getAttribute("value"),In=Qe.innerHTML;k.inputOptions[Ot]=In})),k},jy=function(x,k){var H={};for(var we in k){var Qe=k[we],Ot=x.querySelector(Qe);Ot&&(rc(Ot,[]),H[Qe.replace(/^swal-/,"")]=Ot.innerHTML.trim())}return H},wv=function(x){var k=lo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(x.children).forEach(function(H){var we=H.tagName.toLowerCase();k.includes(we)||xe("Unrecognized element <".concat(we,">"))})},rc=function(x,k){Array.from(x.attributes).forEach(function(H){k.indexOf(H.name)===-1&&xe(['Unrecognized attribute "'.concat(H.name,'" on <').concat(x.tagName.toLowerCase(),">."),"".concat(k.length?"Allowed attributes are: ".concat(k.join(", ")):"To set the value, use HTML within the element.")])})},Hf=10,bv=function(x){var k=ve(),H=Ke();typeof x.willOpen=="function"&&x.willOpen(H);var we=window.getComputedStyle(document.body),Qe=we.overflowY;vS(k,H,x),setTimeout(function(){gS(k,H)},Hf),Gn()&&(Uy(k,x.scrollbarPadding,Qe),ro()),!ls()&&!ie.previousActiveElement&&(ie.previousActiveElement=document.activeElement),typeof x.didOpen=="function"&&setTimeout(function(){return x.didOpen(H)}),Pi(k,C["no-transition"])},mS=function z(x){var k=Ke();if(!(x.target!==k||!Kn)){var H=ve();k.removeEventListener(Kn,z),H.style.overflowY="auto"}},gS=function(x,k){Kn&&me(k)?(x.style.overflowY="hidden",k.addEventListener(Kn,mS)):x.style.overflowY="auto"},Uy=function(x,k,H){Da(),k&&H!=="hidden"&&Xu(H),setTimeout(function(){x.scrollTop=0})},vS=function(x,k,H){vn(x,H.showClass.backdrop),H.animation?(k.style.setProperty("opacity","0","important"),ni(k,"grid"),setTimeout(function(){vn(k,H.showClass.popup),k.style.removeProperty("opacity")},Hf)):ni(k,"grid"),vn([document.documentElement,document.body],C.shown),H.heightAuto&&H.backdrop&&!H.toast&&vn([document.documentElement,document.body],C["height-auto"])},Hy={email:function(x,k){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(x)?Promise.resolve():Promise.resolve(k||"Invalid email address")},url:function(x,k){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(x)?Promise.resolve():Promise.resolve(k||"Invalid URL")}};function _S(z){z.inputValidator||(z.input==="email"&&(z.inputValidator=Hy.email),z.input==="url"&&(z.inputValidator=Hy.url))}function yS(z){(!z.target||typeof z.target=="string"&&!document.querySelector(z.target)||typeof z.target!="string"&&!z.target.appendChild)&&(xe('Target parameter is not valid, defaulting to "body"'),z.target="body")}function xS(z){_S(z),z.showLoaderOnConfirm&&!z.preConfirm&&xe(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),yS(z),typeof z.title=="string"&&(z.title=z.title.split(`
`).join("<br />")),At(z)}var da,dh=new WeakMap,Zi=function(){function z(){if(a(this,z),c(this,dh,void 0),!(typeof window>"u")){da=this;for(var x=arguments.length,k=new Array(x),H=0;H<x;H++)k[H]=arguments[H];var we=Object.freeze(this.constructor.argsToParams(k));this.params=we,this.isAwaitingPromise=!1,u(dh,this,this._main(da.params))}}return h(z,[{key:"_main",value:function(k){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dl(Object.assign({},H,k)),ie.currentInstance){var we=ra.swalPromiseResolve.get(ie.currentInstance),Qe=ie.currentInstance.isAwaitingPromise;ie.currentInstance._destroy(),Qe||we({isDismissed:!0}),Gn()&&sa()}ie.currentInstance=da;var Ot=bS(k,H);xS(Ot),Object.freeze(Ot),ie.timeout&&(ie.timeout.stop(),delete ie.timeout),clearTimeout(ie.restoreFocusTimeout);var In=zy(da);return zu(da,Ot),oi.innerParams.set(da,Ot),wS(da,In,Ot)}},{key:"then",value:function(k){return l(dh,this).then(k)}},{key:"finally",value:function(k){return l(dh,this).finally(k)}}])}(),wS=function(x,k,H){return new Promise(function(we,Qe){var Ot=function(bn){x.close({isDismissed:!0,dismiss:bn})};ra.swalPromiseResolve.set(x,we),ra.swalPromiseReject.set(x,Qe),k.confirmButton.onclick=function(){je(x)},k.denyButton.onclick=function(){yt(x)},k.cancelButton.onclick=function(){yn(x,Ot)},k.closeButton.onclick=function(){Ot(Do.close)},ec(H,k,Ot),Io(ie,H,Ot),_e(x,H),bv(H),CS(ie,H,Ot),TS(k,H),setTimeout(function(){k.container.scrollTop=0})})},bS=function(x,k){var H=ua(x),we=Object.assign({},ul,k,H,x);return we.showClass=Object.assign({},ul.showClass,we.showClass),we.hideClass=Object.assign({},ul.hideClass,we.hideClass),we.animation===!1&&(we.showClass={backdrop:"swal2-noanimation"},we.hideClass={}),we},zy=function(x){var k={popup:Ke(),container:ve(),actions:qi(),confirmButton:qt(),denyButton:tn(),cancelButton:rn(),loader:Dt(),closeButton:Jn(),validationMessage:pn(),progressSteps:cn()};return oi.domCache.set(x,k),k},CS=function(x,k,H){var we=kr();Wn(we),k.timer&&(x.timeout=new R0(function(){H("timer"),delete x.timeout},k.timer),k.timerProgressBar&&(ni(we),Qt(we,k,"timerProgressBar"),setTimeout(function(){x.timeout&&x.timeout.running&&ge(k.timer)})))},TS=function(x,k){if(!k.toast){if(!ot(k.allowEnterKey)){et("allowEnterKey"),Yc();return}SS(x)||ES(x,k)||bs(-1,1)}},SS=function(x){var k=x.popup.querySelectorAll("[autofocus]"),H=_(k),we;try{for(H.s();!(we=H.n()).done;){var Qe=we.value;if(Qe instanceof HTMLElement&&he(Qe))return Qe.focus(),!0}}catch(Ot){H.e(Ot)}finally{H.f()}return!1},ES=function(x,k){return k.focusDeny&&he(x.denyButton)?(x.denyButton.focus(),!0):k.focusCancel&&he(x.cancelButton)?(x.cancelButton.focus(),!0):k.focusConfirm&&he(x.confirmButton)?(x.confirmButton.focus(),!0):!1},Yc=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ha=new Date,ml=localStorage.getItem("swal-initiation");ml?(ha.getTime()-Date.parse(ml))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var z=document.createElement("audio");z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",z.loop=!0,document.body.appendChild(z),setTimeout(function(){z.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(ha))}Zi.prototype.disableButtons=Zu,Zi.prototype.enableButtons=Qu,Zi.prototype.getInput=sh,Zi.prototype.disableInput=oh,Zi.prototype.enableInput=Ju,Zi.prototype.hideLoading=ao,Zi.prototype.disableLoading=ao,Zi.prototype.showValidationMessage=$s,Zi.prototype.resetValidationMessage=M0,Zi.prototype.close=Hs,Zi.prototype.closePopup=Hs,Zi.prototype.closeModal=Hs,Zi.prototype.closeToast=Hs,Zi.prototype.rejectPromise=Gc,Zi.prototype.update=hl,Zi.prototype._destroy=la,Object.assign(Zi,yv),Object.keys(Na).forEach(function(z){Zi[z]=function(){if(da&&da[z]){var x;return(x=da)[z].apply(x,arguments)}return null}}),Zi.DismissReason=Do,Zi.version="11.12.2";var H0=Zi;return H0.default=H0,H0});typeof uu<"u"&&uu.Sweetalert2&&(uu.swal=uu.sweetAlert=uu.Swal=uu.SweetAlert=uu.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function uT(t,e){e===void 0&&(e={});var n=fve();n.p(t);var i=pve(t,e,2,4);return gve(i,e),mve(i,i.length-4,n.d()),i}function OH(t,e){return cve((vve(t),t.subarray(2,-4)),e)}var Qo,Zo,ny,lT,cT,vF,MH,PH,FH,_F,LH,rve,kH,yF,zd,Ti,Fu,Cf,Ti,Ti,Ti,Ti,iy,Ti,sve,ove,ave,lve,pF,Pc,mF,wF,NH,cve,$d,ey,gF,xF,DH,ty,aT,IH,uve,dve,hve,fve,pve,mve,gve,vve,RH=a3(()=>{"use strict";Qo=Uint8Array,Zo=Uint16Array,ny=Uint32Array,lT=new Qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cT=new Qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vF=new Qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MH=function(t,e){for(var n=new Zo(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new ny(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},PH=MH(lT,2),FH=PH[0],_F=PH[1];FH[28]=258,_F[258]=28;LH=MH(cT,0),rve=LH[0],kH=LH[1],yF=new Zo(32768);for(Ti=0;Ti<32768;++Ti)zd=(Ti&43690)>>>1|(Ti&21845)<<1,zd=(zd&52428)>>>2|(zd&13107)<<2,zd=(zd&61680)>>>4|(zd&3855)<<4,yF[Ti]=((zd&65280)>>>8|(zd&255)<<8)>>>1;Fu=function(t,e,n){for(var i=t.length,r=0,s=new Zo(e);r<i;++r)++s[t[r]-1];var o=new Zo(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new Zo(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],u=e-t[r],d=o[t[r]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[yF[d]>>>l]=c}else for(a=new Zo(i),r=0;r<i;++r)a[r]=yF[o[t[r]-1]++]>>>15-t[r];return a},Cf=new Qo(288);for(Ti=0;Ti<144;++Ti)Cf[Ti]=8;for(Ti=144;Ti<256;++Ti)Cf[Ti]=9;for(Ti=256;Ti<280;++Ti)Cf[Ti]=7;for(Ti=280;Ti<288;++Ti)Cf[Ti]=8;iy=new Qo(32);for(Ti=0;Ti<32;++Ti)iy[Ti]=5;sve=Fu(Cf,9,0),ove=Fu(Cf,9,1),ave=Fu(iy,5,0),lve=Fu(iy,5,1),pF=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Pc=function(t,e,n){var i=e/8>>0;return(t[i]|t[i+1]<<8)>>>(e&7)&n},mF=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},wF=function(t){return(t/8>>0)+(t&7&&1)},NH=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof Zo?Zo:t instanceof ny?ny:Qo)(n-e);return i.set(t.subarray(e,n)),i},cve=function(t,e,n){var i=t.length,r=!e||n,s=!n||n.i;n||(n={}),e||(e=new Qo(i*3));var o=function(de){var xe=e.length;if(de>xe){var Ee=new Qo(Math.max(xe*2,de));Ee.set(e),e=Ee}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,f=n.m,h=n.n,_=i*8;do{if(!u){n.f=a=Pc(t,l,1);var g=Pc(t,l+1,3);if(l+=3,g)if(g==1)u=ove,d=lve,f=9,h=5;else if(g==2){var F=Pc(t,l,31)+257,U=Pc(t,l+10,15)+4,W=F+Pc(t,l+5,31)+1;l+=14;for(var te=new Qo(W),I=new Qo(19),T=0;T<U;++T)I[vF[T]]=Pc(t,l+T*3,7);l+=U*3;var L=pF(I),N=(1<<L)-1;if(!s&&l+W*(L+7)>_)break;for(var D=Fu(I,L,1),T=0;T<W;){var M=D[Pc(t,l,N)];l+=M&15;var y=M>>>4;if(y<16)te[T++]=y;else{var R=0,Q=0;for(y==16?(Q=3+Pc(t,l,3),l+=2,R=te[T-1]):y==17?(Q=3+Pc(t,l,7),l+=3):y==18&&(Q=11+Pc(t,l,127),l+=7);Q--;)te[T++]=R}}var oe=te.subarray(0,F),le=te.subarray(F);f=pF(oe),h=pF(le),u=Fu(oe,f,1),d=Fu(le,h,1)}else throw"invalid block type";else{var y=wF(l)+4,b=t[y-4]|t[y-3]<<8,E=y+b;if(E>i){if(s)throw"unexpected EOF";break}r&&o(c+b),e.set(t.subarray(y,E),c),n.b=c+=b,n.p=l=E*8;continue}if(l>_)throw"unexpected EOF"}r&&o(c+131072);for(var ie=(1<<f)-1,fe=(1<<h)-1,be=f+h+18;s||l+be<_;){var R=u[mF(t,l)&ie],Ce=R>>>4;if(l+=R&15,l>_)throw"unexpected EOF";if(!R)throw"invalid length/literal";if(Ce<256)e[c++]=Ce;else if(Ce==256){u=null;break}else{var Ue=Ce-254;if(Ce>264){var T=Ce-257,C=lT[T];Ue=Pc(t,l,(1<<C)-1)+FH[T],l+=C}var q=d[mF(t,l)&fe],j=q>>>4;if(!q)throw"invalid distance";l+=q&15;var le=rve[j];if(j>3){var C=cT[j];le+=mF(t,l)&(1<<C)-1,l+=C}if(l>_)throw"unexpected EOF";r&&o(c+131072);for(var X=c+Ue;c<X;c+=4)e[c]=e[c-le],e[c+1]=e[c+1-le],e[c+2]=e[c+2-le],e[c+3]=e[c+3-le];c=X}}n.l=u,n.p=l,n.b=c,u&&(a=1,n.m=f,n.d=d,n.n=h)}while(!a);return c==e.length?e:NH(e,0,c)},$d=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},ey=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},gF=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return[new Qo(0),0];if(r==1){var o=new Qo(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(W,te){return W.f-te.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,i=1;i<r;++i)s[i].s>f&&(f=s[i].s);var h=new Zo(f+1),_=xF(n[u-1],h,0);if(_>e){var i=0,g=0,y=_-e,b=1<<y;for(s.sort(function(te,I){return h[I.s]-h[te.s]||te.f-I.f});i<r;++i){var E=s[i].s;if(h[E]>e)g+=b-(1<<_-h[E]),h[E]=e;else break}for(g>>>=y;g>0;){var F=s[i].s;h[F]<e?g-=1<<e-h[F]++-1:++i}for(;i>=0&&g;--i){var U=s[i].s;h[U]==e&&(--h[U],++g)}_=e}return[new Qo(h),_]},xF=function(t,e,n){return t.s==-1?Math.max(xF(t.l,e,n+1),xF(t.r,e,n+1)):e[t.s]=n},DH=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Zo(++e),i=0,r=t[0],s=1,o=function(l){n[i++]=l},a=1;a<=e;++a)if(t[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=t[a]}return[n.subarray(0,i),e]},ty=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},aT=function(t,e,n){var i=n.length,r=wF(e+2);t[r]=i&255,t[r+1]=i>>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},IH=function(t,e,n,i,r,s,o,a,l,c,u){$d(e,u++,n),++r[256];for(var d=gF(r,15),f=d[0],h=d[1],_=gF(s,15),g=_[0],y=_[1],b=DH(f),E=b[0],F=b[1],U=DH(g),W=U[0],te=U[1],I=new Zo(19),T=0;T<E.length;++T)I[E[T]&31]++;for(var T=0;T<W.length;++T)I[W[T]&31]++;for(var L=gF(I,7),N=L[0],D=L[1],M=19;M>4&&!N[vF[M-1]];--M);var R=c+5<<3,Q=ty(r,Cf)+ty(s,iy)+o,oe=ty(r,f)+ty(s,g)+o+14+3*M+ty(I,N)+(2*I[16]+3*I[17]+7*I[18]);if(R<=Q&&R<=oe)return aT(e,u,t.subarray(l,l+c));var le,ie,fe,be;if($d(e,u,1+(oe<Q)),u+=2,oe<Q){le=Fu(f,h,0),ie=f,fe=Fu(g,y,0),be=g;var Ce=Fu(N,D,0);$d(e,u,F-257),$d(e,u+5,te-1),$d(e,u+10,M-4),u+=14;for(var T=0;T<M;++T)$d(e,u+3*T,N[vF[T]]);u+=3*M;for(var Ue=[E,W],C=0;C<2;++C)for(var q=Ue[C],T=0;T<q.length;++T){var j=q[T]&31;$d(e,u,Ce[j]),u+=N[j],j>15&&($d(e,u,q[T]>>>5&127),u+=q[T]>>>12)}}else le=sve,ie=Cf,fe=ave,be=iy;for(var T=0;T<a;++T)if(i[T]>255){var j=i[T]>>>18&31;ey(e,u,le[j+257]),u+=ie[j+257],j>7&&($d(e,u,i[T]>>>23&31),u+=lT[j]);var X=i[T]&31;ey(e,u,fe[X]),u+=be[X],X>3&&(ey(e,u,i[T]>>>5&8191),u+=cT[X])}else ey(e,u,le[i[T]]),u+=ie[i[T]];return ey(e,u,le[256]),u+ie[256]},uve=new ny([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dve=new Qo(0),hve=function(t,e,n,i,r,s){var o=t.length,a=new Qo(i+o+5*(1+Math.floor(o/7e3))+r),l=a.subarray(i,a.length-r),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=aT(l,c,t.subarray(u,d)):(l[u]=s,c=aT(l,c,t.subarray(u,o)))}else{for(var f=uve[e-1],h=f>>>13,_=f&8191,g=(1<<n)-1,y=new Zo(32768),b=new Zo(g+1),E=Math.ceil(n/3),F=2*E,U=function(Tt){return(t[Tt]^t[Tt+1]<<E^t[Tt+2]<<F)&g},W=new ny(25e3),te=new Zo(288),I=new Zo(32),T=0,L=0,u=0,N=0,D=0,M=0;u<o;++u){var R=U(u),Q=u&32767,oe=b[R];if(y[Q]=oe,b[R]=Q,D<=u){var le=o-u;if((T>7e3||N>24576)&&le>423){c=IH(t,l,0,W,te,I,L,N,M,u-M,c),N=T=L=0,M=u;for(var ie=0;ie<286;++ie)te[ie]=0;for(var ie=0;ie<30;++ie)I[ie]=0}var fe=2,be=0,Ce=_,Ue=Q-oe&32767;if(le>2&&R==U(u-Ue))for(var C=Math.min(h,le)-1,q=Math.min(32767,u),j=Math.min(258,le);Ue<=q&&--Ce&&Q!=oe;){if(t[u+fe]==t[u+fe-Ue]){for(var X=0;X<j&&t[u+X]==t[u+X-Ue];++X);if(X>fe){if(fe=X,be=Ue,X>C)break;for(var de=Math.min(Ue,X-2),xe=0,ie=0;ie<de;++ie){var Ee=u-Ue+ie+32768&32767,Te=y[Ee],Fe=Ee-Te+32768&32767;Fe>xe&&(xe=Fe,oe=Ee)}}}Q=oe,oe=y[Q],Ue+=Q-oe+32768&32767}if(be){W[N++]=268435456|_F[fe]<<18|kH[be];var et=_F[fe]&31,ot=kH[be]&31;L+=lT[et]+cT[ot],++te[257+et],++I[ot],D=u+fe,++T}else W[N++]=t[u],++te[t[u]]}}c=IH(t,l,s,W,te,I,L,N,M,u-M,c),s||(c=aT(l,c,dve))}return NH(a,0,i+wF(c)+r)},fve=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length,o=0;o!=s;){for(var a=Math.min(o+5552,s);o<a;++o)i+=n[o],r+=i;i%=65521,r%=65521}t=i,e=r},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},pve=function(t,e,n,i,r){return hve(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,i,!r)},mve=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},gve=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=i<<6|(i?32-2*i:1)},vve=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"}});var NF={};oq(NF,{AcroForm:()=>Pve,AcroFormAppearance:()=>Yt,AcroFormButton:()=>ps,AcroFormCheckBox:()=>ay,AcroFormChoiceField:()=>f0,AcroFormComboBox:()=>m0,AcroFormEditBox:()=>sy,AcroFormListBox:()=>p0,AcroFormPasswordField:()=>ly,AcroFormPushButton:()=>oy,AcroFormRadioButton:()=>g0,AcroFormTextField:()=>Af,GState:()=>cy,ShadingPattern:()=>Sf,TilingPattern:()=>h0,default:()=>il,jsPDF:()=>mn});function bF(){_n.console&&typeof _n.console.log=="function"&&_n.console.log.apply(_n.console,arguments)}function CF(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){d0(i.response,e,n)},i.onerror=function(){lr.error("could not download file")},i.send()}function VH(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dT(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function tz(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function TF(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=yo(n,i,r,s,e[0],7,-680876936),s=yo(s,n,i,r,e[1],12,-389564586),r=yo(r,s,n,i,e[2],17,606105819),i=yo(i,r,s,n,e[3],22,-1044525330),n=yo(n,i,r,s,e[4],7,-176418897),s=yo(s,n,i,r,e[5],12,1200080426),r=yo(r,s,n,i,e[6],17,-1473231341),i=yo(i,r,s,n,e[7],22,-45705983),n=yo(n,i,r,s,e[8],7,1770035416),s=yo(s,n,i,r,e[9],12,-1958414417),r=yo(r,s,n,i,e[10],17,-42063),i=yo(i,r,s,n,e[11],22,-1990404162),n=yo(n,i,r,s,e[12],7,1804603682),s=yo(s,n,i,r,e[13],12,-40341101),r=yo(r,s,n,i,e[14],17,-1502002290),n=xo(n,i=yo(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=xo(s,n,i,r,e[6],9,-1069501632),r=xo(r,s,n,i,e[11],14,643717713),i=xo(i,r,s,n,e[0],20,-373897302),n=xo(n,i,r,s,e[5],5,-701558691),s=xo(s,n,i,r,e[10],9,38016083),r=xo(r,s,n,i,e[15],14,-660478335),i=xo(i,r,s,n,e[4],20,-405537848),n=xo(n,i,r,s,e[9],5,568446438),s=xo(s,n,i,r,e[14],9,-1019803690),r=xo(r,s,n,i,e[3],14,-187363961),i=xo(i,r,s,n,e[8],20,1163531501),n=xo(n,i,r,s,e[13],5,-1444681467),s=xo(s,n,i,r,e[2],9,-51403784),r=xo(r,s,n,i,e[7],14,1735328473),n=wo(n,i=xo(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=wo(s,n,i,r,e[8],11,-2022574463),r=wo(r,s,n,i,e[11],16,1839030562),i=wo(i,r,s,n,e[14],23,-35309556),n=wo(n,i,r,s,e[1],4,-1530992060),s=wo(s,n,i,r,e[4],11,1272893353),r=wo(r,s,n,i,e[7],16,-155497632),i=wo(i,r,s,n,e[10],23,-1094730640),n=wo(n,i,r,s,e[13],4,681279174),s=wo(s,n,i,r,e[0],11,-358537222),r=wo(r,s,n,i,e[3],16,-722521979),i=wo(i,r,s,n,e[6],23,76029189),n=wo(n,i,r,s,e[9],4,-640364487),s=wo(s,n,i,r,e[12],11,-421815835),r=wo(r,s,n,i,e[15],16,530742520),n=bo(n,i=wo(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=bo(s,n,i,r,e[7],10,1126891415),r=bo(r,s,n,i,e[14],15,-1416354905),i=bo(i,r,s,n,e[5],21,-57434055),n=bo(n,i,r,s,e[12],6,1700485571),s=bo(s,n,i,r,e[3],10,-1894986606),r=bo(r,s,n,i,e[10],15,-1051523),i=bo(i,r,s,n,e[1],21,-2054922799),n=bo(n,i,r,s,e[8],6,1873313359),s=bo(s,n,i,r,e[15],10,-30611744),r=bo(r,s,n,i,e[6],15,-1560198380),i=bo(i,r,s,n,e[13],21,1309151649),n=bo(n,i,r,s,e[4],6,-145523070),s=bo(s,n,i,r,e[11],10,-1120210379),r=bo(r,s,n,i,e[2],15,718787259),i=bo(i,r,s,n,e[9],21,-343485551),t[0]=Ef(n,t[0]),t[1]=Ef(i,t[1]),t[2]=Ef(r,t[2]),t[3]=Ef(s,t[3])}function gT(t,e,n,i,r,s){return e=Ef(Ef(e,t),Ef(i,s)),Ef(e<<r|e>>>32-r,n)}function yo(t,e,n,i,r,s,o){return gT(e&n|~e&i,t,e,r,s,o)}function xo(t,e,n,i,r,s,o){return gT(e&i|n&~i,t,e,r,s,o)}function wo(t,e,n,i,r,s,o){return gT(e^n^i,t,e,r,s,o)}function bo(t,e,n,i,r,s,o){return gT(n^(e|~i),t,e,r,s,o)}function nz(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)TF(i,_ve(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(TF(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,TF(i,r),i}function _ve(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function yve(t){for(var e="",n=0;n<4;n++)e+=BH[t>>8*n+4&15]+BH[t>>8*n&15];return e}function xve(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function DF(t){return nz(t).map(xve).join("")}function Ef(t,e){if(wve){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function IF(t,e){var n,i,r,s;if(t!==n){for(var o=(r=t,s=1+(256/t.length>>0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,i=a}else a=i;var d=e.length,f=0,h=0,_="";for(l=0;l<d;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,o=a[(a[f]+a[h])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}function av(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(jH.perm!==void 0)throw new Error("Invalid permission: "+a);r+=jH[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=DF(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=IF(this.encryptionKey,this.padding)}function lv(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=t[i]}return e}function UH(t){if($i(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,i)}catch(a){_n.console&&lr.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cy(t){if(!(this instanceof cy))return new cy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function iz(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sf(t,e,n,i,r){if(!(this instanceof Sf))return new Sf(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,iz.call(this,i,r)}function h0(t,e,n,i,r){if(!(this instanceof h0))return new h0(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,iz.call(this,i,r)}function mn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;$i(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=UH;var _="1.3",g=h.__private__.getPdfVersion=function(){return _};h.__private__.setPdfVersion=function(w){_=w};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var b=h.__private__.getPageFormat=function(w){return y[w]};r=r||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},F=E.COMPAT;function U(){this.saveGraphicsState(),ve(new Kt(Dt,0,0,-Dt,0,Pa()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),c="n",F=E.ADVANCED}function W(){this.restoreGraphicsState(),c="S",F=E.COMPAT}var te=h.__private__.combineFontStyleAndFontWeight=function(w,Y){if(w=="bold"&&Y=="normal"||w=="bold"&&Y==400||w=="normal"&&Y=="italic"||w=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(w=Y==400||Y==="normal"?w==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||w!=="normal"?(Y==700?"bold":Y)+""+w:"bold"),w};h.advancedAPI=function(w){var Y=F===E.COMPAT;return Y&&U.call(this),typeof w!="function"||(w(this),Y&&W.call(this)),this},h.compatAPI=function(w){var Y=F===E.ADVANCED;return Y&&W.call(this),typeof w!="function"||(w(this),Y&&U.call(this)),this},h.isAdvancedAPI=function(){return F===E.ADVANCED};var I,T=function(w){if(F!==E.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(w,Y){var _e=e||Y;if(isNaN(w)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(_e).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return L(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return L(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return L(w,16)};var N=h.f2=h.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return L(w,2)},D=h.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return L(w,3)},M=h.scale=h.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return F===E.COMPAT?w*Dt:F===E.ADVANCED?w:void 0},R=function(w){return F===E.COMPAT?Pa()-w:F===E.ADVANCED?w:void 0},Q=function(w){return M(R(w))};h.__private__.setPrecision=h.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var oe,le="00000000000000000000000000000000",ie=h.__private__.getFileId=function(){return le},fe=h.__private__.setFileId=function(w){return le=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(mr=new av(u.userPermissions,u.userPassword,u.ownerPassword,le)),le};h.setFileId=function(w){return fe(w),this},h.getFileId=function(){return ie()};var be=h.__private__.convertDateToPDFDate=function(w){var Y=w.getTimezoneOffset(),_e=Y<0?"+":"-",Ae=Math.floor(Math.abs(Y/60)),Ne=Math.abs(Y%60),We=[_e,j(Ae),"'",j(Ne),"'"].join("");return["D:",w.getFullYear(),j(w.getMonth()+1),j(w.getDate()),j(w.getHours()),j(w.getMinutes()),j(w.getSeconds()),We].join("")},Ce=h.__private__.convertPDFDateToDate=function(w){var Y=parseInt(w.substr(2,4),10),_e=parseInt(w.substr(6,2),10)-1,Ae=parseInt(w.substr(8,2),10),Ne=parseInt(w.substr(10,2),10),We=parseInt(w.substr(12,2),10),gt=parseInt(w.substr(14,2),10);return new Date(Y,_e,Ae,Ne,We,gt,0)},Ue=h.__private__.setCreationDate=function(w){var Y;if(w===void 0&&(w=new Date),w instanceof Date)Y=be(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=w}return oe=Y},C=h.__private__.getCreationDate=function(w){var Y=oe;return w==="jsDate"&&(Y=Ce(oe)),Y};h.setCreationDate=function(w){return Ue(w),this},h.getCreationDate=function(w){return C(w)};var q,j=h.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},X=h.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},de=0,xe=[],Ee=[],Te=0,Fe=[],et=[],ot=!1,bt=Ee,Tt=function(){de=0,Te=0,Ee=[],xe=[],Fe=[],ce=Ki(),ue=Ki()};h.__private__.setCustomOutputDestination=function(w){ot=!0,bt=w};var Ge=function(w){ot||(bt=w)};h.__private__.resetCustomOutputDestination=function(){ot=!1,bt=Ee};var ve=h.__private__.out=function(w){return w=w.toString(),Te+=w.length+1,bt.push(w),bt},rt=h.__private__.write=function(w){return ve(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},St=h.__private__.getArrayBuffer=function(w){for(var Y=w.length,_e=new ArrayBuffer(Y),Ae=new Uint8Array(_e);Y--;)Ae[Y]=w.charCodeAt(Y);return _e},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ke};var xt=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(w){return xt=F===E.ADVANCED?w/Dt:w,this};var kt,Mt=h.__private__.getFontSize=h.getFontSize=function(){return F===E.COMPAT?xt:xt*Dt},Wt=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(w){return Wt=w,this},h.__private__.getR2L=h.getR2L=function(){return Wt};var en,cn=h.__private__.setZoomMode=function(w){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))kt=w;else if(isNaN(w)){if(Y.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');kt=w}else kt=parseInt(w,10)};h.__private__.getZoomMode=function(){return kt};var pn,qt=h.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');en=w};h.__private__.getPageMode=function(){return en};var rn=h.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');pn=w};h.__private__.getLayoutMode=function(){return pn},h.__private__.setDisplayMode=h.setDisplayMode=function(w,Y,_e){return cn(w),rn(Y),qt(_e),this};var tn={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(w){if(Object.keys(tn).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tn[w]},h.__private__.getDocumentProperties=function(){return tn},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(w){for(var Y in tn)tn.hasOwnProperty(Y)&&w[Y]&&(tn[Y]=w[Y]);return this},h.__private__.setDocumentProperty=function(w,Y){if(Object.keys(tn).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tn[w]=Y};var Tn,Dt,qi,Dn,kr,Jn={},mi={},vs=[],Gn={},ls={},Ei={},Ai={},Xi=null,ui=0,Qt=[],Sn=new UH(h),So=t.hotfixes||[],Yi={},vn={},Pi=[],Kt=function w(Y,_e,Ae,Ne,We,gt){if(!(this instanceof w))return new w(Y,_e,Ae,Ne,We,gt);isNaN(Y)&&(Y=1),isNaN(_e)&&(_e=0),isNaN(Ae)&&(Ae=0),isNaN(Ne)&&(Ne=1),isNaN(We)&&(We=0),isNaN(gt)&&(gt=0),this._matrix=[Y,_e,Ae,Ne,We,gt]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(w)},Kt.prototype.multiply=function(w){var Y=w.sx*this.sx+w.shy*this.shx,_e=w.sx*this.shy+w.shy*this.sy,Ae=w.shx*this.sx+w.sy*this.shx,Ne=w.shx*this.shy+w.sy*this.sy,We=w.tx*this.sx+w.ty*this.shx+this.tx,gt=w.tx*this.shy+w.ty*this.sy+this.ty;return new Kt(Y,_e,Ae,Ne,We,gt)},Kt.prototype.decompose=function(){var w=this.sx,Y=this.shy,_e=this.shx,Ae=this.sy,Ne=this.tx,We=this.ty,gt=Math.sqrt(w*w+Y*Y),Bt=(w/=gt)*_e+(Y/=gt)*Ae;_e-=w*Bt,Ae-=Y*Bt;var Zt=Math.sqrt(_e*_e+Ae*Ae);return Bt/=Zt,w*(Ae/=Zt)<Y*(_e/=Zt)&&(w=-w,Y=-Y,Bt=-Bt,gt=-gt),{scale:new Kt(gt,0,0,Zt,0,0),translate:new Kt(1,0,0,1,Ne,We),rotate:new Kt(w,Y,-Y,w,0,0),skew:new Kt(1,0,Bt,1,0,0)}},Kt.prototype.toString=function(w){return this.join(" ")},Kt.prototype.inversed=function(){var w=this.sx,Y=this.shy,_e=this.shx,Ae=this.sy,Ne=this.tx,We=this.ty,gt=1/(w*Ae-Y*_e),Bt=Ae*gt,Zt=-Y*gt,m=-_e*gt,A=w*gt;return new Kt(Bt,Zt,m,A,-Bt*Ne-m*We,-Zt*Ne-A*We)},Kt.prototype.applyToPoint=function(w){var Y=w.x*this.sx+w.y*this.shx+this.tx,_e=w.x*this.shy+w.y*this.sy+this.ty;return new Po(Y,_e)},Kt.prototype.applyToRectangle=function(w){var Y=this.applyToPoint(w),_e=this.applyToPoint(new Po(w.x+w.w,w.y+w.h));return new zc(Y.x,Y.y,_e.x-Y.x,_e.y-Y.y)},Kt.prototype.clone=function(){var w=this.sx,Y=this.shy,_e=this.shx,Ae=this.sy,Ne=this.tx,We=this.ty;return new Kt(w,Y,_e,Ae,Ne,We)},h.Matrix=Kt;var ei=h.matrixMult=function(w,Y){return Y.multiply(w)},ni=new Kt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ni;var Wn=function(w,Y){if(!ls[w]){var _e=(Y instanceof Sf?"Sh":"P")+(Object.keys(Gn).length+1).toString(10);Y.id=_e,ls[w]=_e,Gn[_e]=Y,Sn.publish("addPattern",Y)}};h.ShadingPattern=Sf,h.TilingPattern=h0,h.addShadingPattern=function(w,Y){return T("addShadingPattern()"),Wn(w,Y),this},h.beginTilingPattern=function(w){T("beginTilingPattern()"),$c(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},h.endTilingPattern=function(w,Y){T("endTilingPattern()"),Y.stream=et[q].join(`
`),Wn(w,Y),Sn.publish("endTilingPattern",Y),Pi.pop().restore()};var yi=h.__private__.newObject=function(){var w=Ki();return J(w,!0),w},Ki=h.__private__.newObjectDeferred=function(){return de++,xe[de]=function(){return Te},de},J=function(w,Y){return Y=typeof Y=="boolean"&&Y,xe[w]=Te,Y&&ve(w+" 0 obj"),w},he=h.__private__.newAdditionalObject=function(){var w={objId:Ki(),content:""};return Fe.push(w),w},ce=Ki(),ue=Ki(),me=h.__private__.decodeColorString=function(w){var Y=w.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var _e=parseFloat(Y[0]);Y=[_e,_e,_e,"r"]}for(var Ae="#",Ne=0;Ne<3;Ne++)Ae+=("0"+Math.floor(255*parseFloat(Y[Ne])).toString(16)).slice(-2);return Ae},ge=h.__private__.encodeColorString=function(w){var Y;typeof w=="string"&&(w={ch1:w});var _e=w.ch1,Ae=w.ch2,Ne=w.ch3,We=w.ch4,gt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Bt=new tz(_e);if(Bt.ok)_e=Bt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Zt=parseInt(_e.substr(1),16);_e=Zt>>16&255,Ae=Zt>>8&255,Ne=255&Zt}if(Ae===void 0||We===void 0&&_e===Ae&&Ae===Ne)if(typeof _e=="string")Y=_e+" "+gt[0];else switch(w.precision){case 2:Y=N(_e/255)+" "+gt[0];break;case 3:default:Y=D(_e/255)+" "+gt[0]}else if(We===void 0||$i(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return Y=["1.","1.","1.",gt[1]].join(" ");if(typeof _e=="string")Y=[_e,Ae,Ne,gt[1]].join(" ");else switch(w.precision){case 2:Y=[N(_e/255),N(Ae/255),N(Ne/255),gt[1]].join(" ");break;default:case 3:Y=[D(_e/255),D(Ae/255),D(Ne/255),gt[1]].join(" ")}}else if(typeof _e=="string")Y=[_e,Ae,Ne,We,gt[2]].join(" ");else switch(w.precision){case 2:Y=[N(_e),N(Ae),N(Ne),N(We),gt[2]].join(" ");break;case 3:default:Y=[D(_e),D(Ae),D(Ne),D(We),gt[2]].join(" ")}return Y},Re=h.__private__.getFilters=function(){return o},$e=h.__private__.putStream=function(w){var Y=(w=w||{}).data||"",_e=w.filters||Re(),Ae=w.alreadyAppliedFilters||[],Ne=w.addLength1||!1,We=Y.length,gt=w.objectId,Bt=function(yt){return yt};if(u!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Bt=mr.encryptor(gt,0));var Zt={};_e===!0&&(_e=["FlateEncode"]);var m=w.additionalKeyValues||[],A=(Zt=mn.API.processDataByFilters!==void 0?mn.API.processDataByFilters(Y,_e):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Zt.data.length!==0&&(m.push({key:"Length",value:Zt.data.length}),Ne===!0&&m.push({key:"Length1",value:We})),A.length!=0)if(A.split("/").length-1==1)m.push({key:"Filter",value:A});else{m.push({key:"Filter",value:"["+A+"]"});for(var V=0;V<m.length;V+=1)if(m[V].key==="DecodeParms"){for(var re=[],Ie=0;Ie<Zt.reverseChain.split("/").length-1;Ie+=1)re.push("null");re.push(m[V].value),m[V].value="["+re.join(" ")+"]"}}ve("<<");for(var je=0;je<m.length;je++)ve("/"+m[je].key+" "+m[je].value);ve(">>"),Zt.data.length!==0&&(ve("stream"),ve(Bt(Zt.data)),ve("endstream"))},Oe=h.__private__.putPage=function(w){var Y=w.number,_e=w.data,Ae=w.objId,Ne=w.contentsObjId;J(Ae,!0),ve("<</Type /Page"),ve("/Parent "+w.rootDictionaryObjId+" 0 R"),ve("/Resources "+w.resourceDictionaryObjId+" 0 R"),ve("/MediaBox ["+parseFloat(I(w.mediaBox.bottomLeftX))+" "+parseFloat(I(w.mediaBox.bottomLeftY))+" "+I(w.mediaBox.topRightX)+" "+I(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ve("/CropBox ["+I(w.cropBox.bottomLeftX)+" "+I(w.cropBox.bottomLeftY)+" "+I(w.cropBox.topRightX)+" "+I(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ve("/BleedBox ["+I(w.bleedBox.bottomLeftX)+" "+I(w.bleedBox.bottomLeftY)+" "+I(w.bleedBox.topRightX)+" "+I(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ve("/TrimBox ["+I(w.trimBox.bottomLeftX)+" "+I(w.trimBox.bottomLeftY)+" "+I(w.trimBox.topRightX)+" "+I(w.trimBox.topRightY)+"]"),w.artBox!==null&&ve("/ArtBox ["+I(w.artBox.bottomLeftX)+" "+I(w.artBox.bottomLeftY)+" "+I(w.artBox.topRightX)+" "+I(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ve("/UserUnit "+w.userUnit),Sn.publish("putPage",{objId:Ae,pageContext:Qt[Y],pageNumber:Y,page:_e}),ve("/Contents "+Ne+" 0 R"),ve(">>"),ve("endobj");var We=_e.join(`
`);return F===E.ADVANCED&&(We+=`
Q`),J(Ne,!0),$e({data:We,filters:Re(),objectId:Ne}),ve("endobj"),Ae},Ve=h.__private__.putPages=function(){var w,Y,_e=[];for(w=1;w<=ui;w++)Qt[w].objId=Ki(),Qt[w].contentsObjId=Ki();for(w=1;w<=ui;w++)_e.push(Oe({number:w,data:et[w],objId:Qt[w].objId,contentsObjId:Qt[w].contentsObjId,mediaBox:Qt[w].mediaBox,cropBox:Qt[w].cropBox,bleedBox:Qt[w].bleedBox,trimBox:Qt[w].trimBox,artBox:Qt[w].artBox,userUnit:Qt[w].userUnit,rootDictionaryObjId:ce,resourceDictionaryObjId:ue}));J(ce,!0),ve("<</Type /Pages");var Ae="/Kids [";for(Y=0;Y<ui;Y++)Ae+=_e[Y]+" 0 R ";ve(Ae+"]"),ve("/Count "+ui),ve(">>"),ve("endobj"),Sn.publish("postPutPages")},Be=function(w){Sn.publish("putFont",{font:w,out:ve,newObject:yi,putStream:$e}),w.isAlreadyPutted!==!0&&(w.objectNumber=yi(),ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+lv(w.postScriptName)),ve("/Subtype /Type1"),typeof w.encoding=="string"&&ve("/Encoding /"+w.encoding),ve("/FirstChar 32"),ve("/LastChar 255"),ve(">>"),ve("endobj"))},ft=function(){for(var w in Jn)Jn.hasOwnProperty(w)&&(d===!1||d===!0&&f.hasOwnProperty(w))&&Be(Jn[w])},wt=function(w){w.objectNumber=yi();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[I(w.x),I(w.y),I(w.x+w.width),I(w.y+w.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var _e=w.pages[1].join(`
`);$e({data:_e,additionalKeyValues:Y,objectId:w.objectNumber}),ve("endobj")},Vt=function(){for(var w in Yi)Yi.hasOwnProperty(w)&&wt(Yi[w])},Ct=function(w,Y){var _e,Ae=[],Ne=1/(Y-1);for(_e=0;_e<1;_e+=Ne)Ae.push(_e);if(Ae.push(1),w[0].offset!=0){var We={offset:0,color:w[0].color};w.unshift(We)}if(w[w.length-1].offset!=1){var gt={offset:1,color:w[w.length-1].color};w.push(gt)}for(var Bt="",Zt=0,m=0;m<Ae.length;m++){for(_e=Ae[m];_e>w[Zt+1].offset;)Zt++;var A=w[Zt].offset,V=(_e-A)/(w[Zt+1].offset-A),re=w[Zt].color,Ie=w[Zt+1].color;Bt+=X(Math.round((1-V)*re[0]+V*Ie[0]).toString(16))+X(Math.round((1-V)*re[1]+V*Ie[1]).toString(16))+X(Math.round((1-V)*re[2]+V*Ie[2]).toString(16))}return Bt.trim()},At=function(w,Y){Y||(Y=21);var _e=yi(),Ae=Ct(w.colors,Y),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+Y+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e({data:Ae,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ve("endobj"),w.objectNumber=yi(),ve("<< /ShadingType "+w.type),ve("/ColorSpace /DeviceRGB");var We="/Coords ["+I(parseFloat(w.coords[0]))+" "+I(parseFloat(w.coords[1]))+" ";w.type===2?We+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3])):We+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3]))+" "+I(parseFloat(w.coords[4]))+" "+I(parseFloat(w.coords[5])),ve(We+="]"),w.matrix&&ve("/Matrix ["+w.matrix.toString()+"]"),ve("/Function "+_e+" 0 R"),ve("/Extend [true true]"),ve(">>"),ve("endobj")},an=function(w,Y){var _e=Ki(),Ae=yi();Y.push({resourcesOid:_e,objectOid:Ae}),w.objectNumber=Ae;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+w.boundingBox.map(I).join(" ")+"]"}),Ne.push({key:"XStep",value:I(w.xStep)}),Ne.push({key:"YStep",value:I(w.yStep)}),Ne.push({key:"Resources",value:_e+" 0 R"}),w.matrix&&Ne.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),$e({data:w.stream,additionalKeyValues:Ne,objectId:w.objectNumber}),ve("endobj")},ti=function(w){var Y;for(Y in Gn)Gn.hasOwnProperty(Y)&&(Gn[Y]instanceof Sf?At(Gn[Y]):Gn[Y]instanceof h0&&an(Gn[Y],w))},pr=function(w){for(var Y in w.objectNumber=yi(),ve("<<"),w)switch(Y){case"opacity":ve("/ca "+N(w[Y]));break;case"stroke-opacity":ve("/CA "+N(w[Y]))}ve(">>"),ve("endobj")},Kn=function(){var w;for(w in Ei)Ei.hasOwnProperty(w)&&pr(Ei[w])},Fi=function(){for(var w in ve("/XObject <<"),Yi)Yi.hasOwnProperty(w)&&Yi[w].objectNumber>=0&&ve("/"+w+" "+Yi[w].objectNumber+" 0 R");Sn.publish("putXobjectDict"),ve(">>")},Eo=function(){mr.oid=yi(),ve("<<"),ve("/Filter /Standard"),ve("/V "+mr.v),ve("/R "+mr.r),ve("/U <"+mr.toHexString(mr.U)+">"),ve("/O <"+mr.toHexString(mr.O)+">"),ve("/P "+mr.P),ve(">>"),ve("endobj")},ea=function(){for(var w in ve("/Font <<"),Jn)Jn.hasOwnProperty(w)&&(d===!1||d===!0&&f.hasOwnProperty(w))&&ve("/"+w+" "+Jn[w].objectNumber+" 0 R");ve(">>")},_s=function(){if(Object.keys(Gn).length>0){for(var w in ve("/Shading <<"),Gn)Gn.hasOwnProperty(w)&&Gn[w]instanceof Sf&&Gn[w].objectNumber>=0&&ve("/"+w+" "+Gn[w].objectNumber+" 0 R");Sn.publish("putShadingPatternDict"),ve(">>")}},Ao=function(w){if(Object.keys(Gn).length>0){for(var Y in ve("/Pattern <<"),Gn)Gn.hasOwnProperty(Y)&&Gn[Y]instanceof h.TilingPattern&&Gn[Y].objectNumber>=0&&Gn[Y].objectNumber<w&&ve("/"+Y+" "+Gn[Y].objectNumber+" 0 R");Sn.publish("putTilingPatternDict"),ve(">>")}},ys=function(){if(Object.keys(Ei).length>0){var w;for(w in ve("/ExtGState <<"),Ei)Ei.hasOwnProperty(w)&&Ei[w].objectNumber>=0&&ve("/"+w+" "+Ei[w].objectNumber+" 0 R");Sn.publish("putGStateDict"),ve(">>")}},Qi=function(w){J(w.resourcesOid,!0),ve("<<"),ve("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ea(),_s(),Ao(w.objectOid),ys(),Fi(),ve(">>"),ve("endobj")},Vc=function(){var w=[];ft(),Kn(),Vt(),ti(w),Sn.publish("putResources"),w.forEach(Qi),Qi({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),Sn.publish("postPutResources")},ju=function(){Sn.publish("putAdditionalObjects");for(var w=0;w<Fe.length;w++){var Y=Fe[w];J(Y.objId,!0),ve(Y.content),ve("endobj")}Sn.publish("postPutAdditionalObjects")},oi=function(w){mi[w.fontName]=mi[w.fontName]||{},mi[w.fontName][w.fontStyle]=w.id},Uu=function(w,Y,_e,Ae,Ne){var We={id:"F"+(Object.keys(Jn).length+1).toString(10),postScriptName:w,fontName:Y,fontStyle:_e,encoding:Ae,isStandardFont:Ne||!1,metadata:{}};return Sn.publish("addFont",{font:We,instance:this}),Jn[We.id]=We,oi(We),We.id},Vf=function(w){for(var Y=0,_e=Ke.length;Y<_e;Y++){var Ae=Uu.call(this,w[Y][0],w[Y][1],w[Y][2],Ke[Y][3],!0);d===!1&&(f[Ae]=!0);var Ne=w[Y][0].split("-");oi({id:Ae,fontName:Ne[0],fontStyle:Ne[1]||""})}Sn.publish("addFonts",{fonts:Jn,dictionary:mi})},io=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(Ae){var Y=Ae.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var _e="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!_n.console)throw new Error(_e);_n.console.error(_e,Ae),_n.alert&&alert(_e)}},w.foo.bar=w,w.foo},Wl=function(w,Y){var _e,Ae,Ne,We,gt,Bt,Zt,m,A;if(Ne=(Y=Y||{}).sourceEncoding||"Unicode",gt=Y.outputEncoding,(Y.autoencode||gt)&&Jn[Tn].metadata&&Jn[Tn].metadata[Ne]&&Jn[Tn].metadata[Ne].encoding&&(We=Jn[Tn].metadata[Ne].encoding,!gt&&Jn[Tn].encoding&&(gt=Jn[Tn].encoding),!gt&&We.codePages&&(gt=We.codePages[0]),typeof gt=="string"&&(gt=We[gt]),gt)){for(Zt=!1,Bt=[],_e=0,Ae=w.length;_e<Ae;_e++)(m=gt[w.charCodeAt(_e)])?Bt.push(String.fromCharCode(m)):Bt.push(w[_e]),Bt[_e].charCodeAt(0)>>8&&(Zt=!0);w=Bt.join("")}for(_e=w.length;Zt===void 0&&_e!==0;)w.charCodeAt(_e-1)>>8&&(Zt=!0),_e--;if(!Zt)return w;for(Bt=Y.noBOM?[]:[254,255],_e=0,Ae=w.length;_e<Ae;_e++){if((A=(m=w.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(A),Bt.push(m-(A<<8))}return String.fromCharCode.apply(void 0,Bt)},xs=h.__private__.pdfEscape=h.pdfEscape=function(w,Y){return Wl(w,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ko=h.__private__.beginPage=function(w){et[++ui]=[],Qt[ui]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},al(ui),Ge(et[q])},ws=function(w,Y){var _e,Ae,Ne;switch(n=Y||n,typeof w=="string"&&(_e=b(w.toLowerCase()),Array.isArray(_e)&&(Ae=_e[0],Ne=_e[1])),Array.isArray(w)&&(Ae=w[0]*Dt,Ne=w[1]*Dt),isNaN(Ae)&&(Ae=r[0],Ne=r[1]),(Ae>14400||Ne>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Ne=Math.min(14400,Ne)),r=[Ae,Ne],n.substr(0,1)){case"l":Ne>Ae&&(r=[Ne,Ae]);break;case"p":Ae>Ne&&(r=[Ne,Ae])}ko(r),ih(ki),ve(Mo),Us!==0&&ve(Us+" J"),Xu!==0&&ve(Xu+" j"),Sn.publish("addPage",{pageNumber:ui})},ta=function(w){w>0&&w<=ui&&(et.splice(w,1),Qt.splice(w,1),ui--,q>ui&&(q=ui),this.setPage(q))},al=function(w){w>0&&w<=ui&&(q=w)},ql=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return et.length-1},un=function(w,Y,_e){var Ae,Ne=void 0;return _e=_e||{},w=w!==void 0?w:Jn[Tn].fontName,Y=Y!==void 0?Y:Jn[Tn].fontStyle,Ae=w.toLowerCase(),mi[Ae]!==void 0&&mi[Ae][Y]!==void 0?Ne=mi[Ae][Y]:mi[w]!==void 0&&mi[w][Y]!==void 0?Ne=mi[w][Y]:_e.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+w+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ne||_e.noFallback||(Ne=mi.times[Y])==null&&(Ne=mi.times.normal),Ne},Bc=h.__private__.putInfo=function(){var w=yi(),Y=function(Ae){return Ae};for(var _e in u!==null&&(Y=mr.encryptor(w,0)),ve("<<"),ve("/Producer ("+xs(Y("jsPDF "+mn.version))+")"),tn)tn.hasOwnProperty(_e)&&tn[_e]&&ve("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+xs(Y(tn[_e]))+")");ve("/CreationDate ("+xs(Y(oe))+")"),ve(">>"),ve("endobj")},Ea=h.__private__.putCatalog=function(w){var Y=(w=w||{}).rootDictionaryObjId||ce;switch(yi(),ve("<<"),ve("/Type /Catalog"),ve("/Pages "+Y+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":ve("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ve("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ve("/OpenAction [3 0 R /Fit]");break;case"original":ve("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+kt;_e.substr(_e.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&ve("/OpenAction [3 0 R /XYZ null null "+N(kt)+"]")}switch(pn||(pn="continuous"),pn){case"continuous":ve("/PageLayout /OneColumn");break;case"single":ve("/PageLayout /SinglePage");break;case"two":case"twoleft":ve("/PageLayout /TwoColumnLeft");break;case"tworight":ve("/PageLayout /TwoColumnRight")}en&&ve("/PageMode /"+en),Sn.publish("putCatalog"),ve(">>"),ve("endobj")},Xl=h.__private__.putTrailer=function(){ve("trailer"),ve("<<"),ve("/Size "+(de+1)),ve("/Root "+de+" 0 R"),ve("/Info "+(de-1)+" 0 R"),u!==null&&ve("/Encrypt "+mr.oid+" 0 R"),ve("/ID [ <"+le+"> <"+le+"> ]"),ve(">>")},Zd=h.__private__.putHeader=function(){ve("%PDF-"+_),ve("%\xBA\xDF\xAC\xE0")},Jd=h.__private__.putXRef=function(){var w="0000000000";ve("xref"),ve("0 "+(de+1)),ve("0000000000 65535 f ");for(var Y=1;Y<=de;Y++)typeof xe[Y]=="function"?ve((w+xe[Y]()).slice(-10)+" 00000 n "):xe[Y]!==void 0?ve((w+xe[Y]).slice(-10)+" 00000 n "):ve("0000000000 00000 n ")},Aa=h.__private__.buildDocument=function(){Tt(),Ge(Ee),Sn.publish("buildDocument"),Zd(),Ve(),ju(),Vc(),u!==null&&Eo(),Bc(),Ea();var w=Te;return Jd(),Xl(),ve("startxref"),ve(""+w),ve("%%EOF"),Ge(et[q]),Ee.join(`
`)},jc=h.__private__.getBlob=function(w){return new Blob([St(w)],{type:"application/pdf"})},Yl=h.output=h.__private__.output=io(function(w,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",w){case void 0:return Aa();case"save":h.save(Y.filename);break;case"arraybuffer":return St(Aa());case"blob":return jc(Aa());case"bloburi":case"bloburl":if(_n.URL!==void 0&&typeof _n.URL.createObjectURL=="function")return _n.URL&&_n.URL.createObjectURL(jc(Aa()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ae=Aa();try{_e=kF(Ae)}catch{_e=kF(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+Y.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ne=Y.pdfObjectUrl,We="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Bt=_n.open();return Bt!==null&&Bt.document.write(gt),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',m=_n.open();if(m!==null){m.document.write(Zt);var A=this;m.document.documentElement.querySelector("#pdfViewer").onload=function(){m.document.title=Y.filename,m.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return m}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',re=_n.open();if(re!==null&&(re.document.write(V),re.document.title=Y.filename),re||typeof safari>"u")return re;break;case"datauri":case"dataurl":return _n.document.location.href=this.output("datauristring",Y);default:return null}}),eh=function(w){return Array.isArray(So)===!0&&So.indexOf(w)>-1};switch(i){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=eh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Dt=i}var mr=null;Ue(),fe();var na=function(w){return u!==null?mr.encryptor(w,0):function(Y){return Y}},Hu=h.__private__.getPageInfo=h.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[w].objId,pageNumber:w,pageContext:Qt[w]}},gn=h.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Qt)if(Qt[Y].objId===w)break;return Hu(Y)},th=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Qt[q].objId,pageNumber:q,pageContext:Qt[q]}};h.addPage=function(){return ws.apply(this,arguments),this},h.setPage=function(){return al.apply(this,arguments),Ge.call(this,et[q]),this},h.insertPage=function(w){return this.addPage(),this.movePage(q,w),this},h.movePage=function(w,Y){var _e,Ae;if(w>Y){_e=et[w],Ae=Qt[w];for(var Ne=w;Ne>Y;Ne--)et[Ne]=et[Ne-1],Qt[Ne]=Qt[Ne-1];et[Y]=_e,Qt[Y]=Ae,this.setPage(Y)}else if(w<Y){_e=et[w],Ae=Qt[w];for(var We=w;We<Y;We++)et[We]=et[We+1],Qt[We]=Qt[We+1];et[Y]=_e,Qt[Y]=Ae,this.setPage(Y)}return this},h.deletePage=function(){return ta.apply(this,arguments),this},h.__private__.text=h.text=function(w,Y,_e,Ae,Ne){var We,gt,Bt,Zt,m,A,V,re,Ie,je=(Ae=Ae||{}).scope||this;if(typeof w=="number"&&typeof Y=="number"&&(typeof _e=="string"||Array.isArray(_e))){var yt=_e;_e=Y,Y=w,w=yt}if(arguments[3]instanceof Kt?(T("The transform parameter of text() with a Matrix value"),Ie=Ne):(Bt=arguments[4],Zt=arguments[5],$i(V=arguments[3])==="object"&&V!==null||(typeof Bt=="string"&&(Zt=Bt,Bt=null),typeof V=="string"&&(Zt=V,V=null),typeof V=="number"&&(Bt=V,V=null),Ae={flags:V,angle:Bt,align:Zt})),isNaN(Y)||isNaN(_e)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return je;var yn="",gi=!1,xn=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ka,Di=je.internal.scaleFactor;function _r(Li){return Li=Li.split("	").join(Array(Ae.TabLen||9).join(" ")),xs(Li,V)}function Lo(Li){for(var Hi,Cr=Li.concat(),Rr=[],nc=Cr.length;nc--;)typeof(Hi=Cr.shift())=="string"?Rr.push(Hi):Array.isArray(Li)&&(Hi.length===1||Hi[1]===void 0&&Hi[2]===void 0)?Rr.push(Hi[0]):Rr.push([Hi[0],Hi[1],Hi[2]]);return Rr}function Or(Li,Hi){var Cr;if(typeof Li=="string")Cr=Hi(Li)[0];else if(Array.isArray(Li)){for(var Rr,nc,ic=Li.concat(),td=[],N0=ic.length;N0--;)typeof(Rr=ic.shift())=="string"?td.push(Hi(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(nc=Hi(Rr[0],Rr[1],Rr[2]),td.push([nc[0],nc[1],nc[2]]));Cr=td}return Cr}var ao=!1,Zl=!0;if(typeof w=="string")ao=!0;else if(Array.isArray(w)){var sh=w.concat();gt=[];for(var Ku,zs=sh.length;zs--;)(typeof(Ku=sh.shift())!="string"||Array.isArray(Ku)&&typeof Ku[0]!="string")&&(Zl=!1);ao=Zl}if(ao===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Qu=xt/je.internal.scaleFactor,Zu=Qu*(xn-1);switch(Ae.baseline){case"bottom":_e-=Zu;break;case"top":_e+=Qu-Zu;break;case"hanging":_e+=Qu-2*Zu;break;case"middle":_e+=Qu/2-Zu}if((A=Ae.maxWidth||0)>0&&(typeof w=="string"?w=je.splitTextToSize(w,A):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Li,Hi){return Li.concat(je.splitTextToSize(Hi,A))},[]))),We={text:w,x:Y,y:_e,options:Ae,mutex:{pdfEscape:xs,activeFontKey:Tn,fonts:Jn,activeFontSize:xt}},Sn.publish("preProcessText",We),w=We.text,Bt=(Ae=We.options).angle,!(Ie instanceof Kt)&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,Ae.rotationDirection===0&&(Bt=-Bt),F===E.ADVANCED&&(Bt=-Bt);var Ju=Math.cos(Bt),oh=Math.sin(Bt);Ie=new Kt(Ju,oh,-oh,Ju,0,0)}else Bt&&Bt instanceof Kt&&(Ie=Bt);F!==E.ADVANCED||Ie||(Ie=ni),(m=Ae.charSpace||Ma)!==void 0&&(yn+=I(M(m))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(re=Ae.horizontalScale)!==void 0&&(yn+=I(100*re)+` Tz
`),Ae.lang;var $s=-1,M0=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,ul=je.internal.getCurrentPageInfo().pageContext;switch(M0){case 0:case!1:case"fill":$s=0;break;case 1:case!0:case"stroke":$s=1;break;case 2:case"fillThenStroke":$s=2;break;case 3:case"invisible":$s=3;break;case 4:case"fillAndAddForClipping":$s=4;break;case 5:case"strokeAndAddPathForClipping":$s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$s=6;break;case 7:case"addToPathForClipping":$s=7}var P0=ul.usedRenderingMode!==void 0?ul.usedRenderingMode:-1;$s!==-1?yn+=$s+` Tr
`:P0!==-1&&(yn+=`0 Tr
`),$s!==-1&&(ul.usedRenderingMode=$s),Zt=Ae.align||"left";var Fa,jf=xt*xn,F0=je.internal.pageSize.getWidth(),L0=Jn[Tn];m=Ae.charSpace||Ma,A=Ae.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Jl=[];if(Object.prototype.toString.call(w)==="[object Array]"){var aa;gt=Lo(w),Zt!=="left"&&(Fa=gt.map(function(Li){return je.getStringUnitWidth(Li,{font:L0,charSpace:m,fontSize:xt,doKerning:!1})*xt/Di}));var La,qc=0;if(Zt==="right"){Y-=Fa[0],w=[],zs=gt.length;for(var dl=0;dl<zs;dl++)dl===0?(La=ro(Y),aa=sa(_e)):(La=M(qc-Fa[dl]),aa=-jf),w.push([gt[dl],La,aa]),qc=Fa[dl]}else if(Zt==="center"){Y-=Fa[0]/2,w=[],zs=gt.length;for(var hl=0;hl<zs;hl++)hl===0?(La=ro(Y),aa=sa(_e)):(La=M((qc-Fa[hl])/2),aa=-jf),w.push([gt[hl],La,aa]),qc=Fa[hl]}else if(Zt==="left"){w=[],zs=gt.length;for(var ah=0;ah<zs;ah++)w.push(gt[ah])}else{if(Zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');w=[],zs=gt.length,A=A!==0?A:F0;for(var la=0;la<zs;la++)aa=la===0?sa(_e):-jf,La=la===0?ro(Y):0,la<zs-1?Jl.push(I(M((A-Fa[la])/(gt[la].split(" ").length-1)))):Jl.push(0),w.push([gt[la],La,aa])}}var lh=typeof Ae.R2L=="boolean"?Ae.R2L:Wt;lh===!0&&(w=Or(w,function(Li,Hi,Cr){return[Li.split("").reverse().join(""),Hi,Cr]})),We={text:w,x:Y,y:_e,options:Ae,mutex:{pdfEscape:xs,activeFontKey:Tn,fonts:Jn,activeFontSize:xt}},Sn.publish("postProcessText",We),w=We.text,gi=We.mutex.isHex||!1;var ch=Jn[Tn].encoding;ch!=="WinAnsiEncoding"&&ch!=="StandardEncoding"||(w=Or(w,function(Li,Hi,Cr){return[_r(Li),Hi,Cr]})),gt=Lo(w),w=[];for(var fl,Na,ec,ed=0,uh=1,pl=Array.isArray(gt[0])?uh:ed,Xc="",Uf=function(Li,Hi,Cr){var Rr="";return Cr instanceof Kt?(Cr=typeof Ae.angle=="number"?ei(Cr,new Kt(1,0,0,1,Li,Hi)):ei(new Kt(1,0,0,1,Li,Hi),Cr),F===E.ADVANCED&&(Cr=ei(new Kt(1,0,0,-1,0,0),Cr)),Rr=Cr.join(" ")+` Tm
`):Rr=I(Li)+" "+I(Hi)+` Td
`,Rr},ca=0;ca<gt.length;ca++){switch(Xc="",pl){case uh:ec=(gi?"<":"(")+gt[ca][0]+(gi?">":")"),fl=parseFloat(gt[ca][1]),Na=parseFloat(gt[ca][2]);break;case ed:ec=(gi?"<":"(")+gt[ca]+(gi?">":")"),fl=ro(Y),Na=sa(_e)}Jl!==void 0&&Jl[ca]!==void 0&&(Xc=Jl[ca]+` Tw
`),ca===0?w.push(Xc+Uf(fl,Na,Ie)+ec):pl===ed?w.push(Xc+ec):pl===uh&&w.push(Xc+Uf(fl,Na,Ie)+ec)}w=pl===ed?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var tc=`BT
/`;return tc+=Tn+" "+xt+` Tf
`,tc+=I(xt*xn)+` TL
`,tc+=cl+`
`,tc+=yn,tc+=w,ve(tc+="ET"),f[Tn]=!0,je};var ll=h.__private__.clip=h.clip=function(w){return ve(w==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ll("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ve("n"),this};var ia=h.__private__.isValidStyle=function(w){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(Y=!0),Y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(w){return ia(w)&&(c=w),this};var nh=h.__private__.getStyle=h.getStyle=function(w){var Y=c;switch(w){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=w}return Y},zu=h.close=function(){return ve("h"),this};h.stroke=function(){return ve("S"),this},h.fill=function(w){return js("f",w),this},h.fillEvenOdd=function(w){return js("f*",w),this},h.fillStroke=function(w){return js("B",w),this},h.fillStrokeEvenOdd=function(w){return js("B*",w),this};var js=function(w,Y){$i(Y)==="object"?Kl(Y,w):ve(w)},Uc=function(w){w===null||F===E.ADVANCED&&w===void 0||(w=nh(w),ve(w))};function Bf(w,Y,_e,Ae,Ne){var We=new h0(Y||this.boundingBox,_e||this.xStep,Ae||this.yStep,this.gState,Ne||this.matrix);We.stream=this.stream;var gt=w+"$$"+this.cloneIndex+++"$$";return Wn(gt,We),We}var Kl=function(w,Y){var _e=ls[w.key],Ae=Gn[_e];if(Ae instanceof Sf)ve("q"),ve(Do(Y)),Ae.gState&&h.setGState(Ae.gState),ve(w.matrix.toString()+" cm"),ve("/"+_e+" sh"),ve("Q");else if(Ae instanceof h0){var Ne=new Kt(1,0,0,-1,0,Pa());w.matrix&&(Ne=Ne.multiply(w.matrix||ni),_e=Bf.call(Ae,w.key,w.boundingBox,w.xStep,w.yStep,Ne).id),ve("q"),ve("/Pattern cs"),ve("/"+_e+" scn"),Ae.gState&&h.setGState(Ae.gState),ve(Y),ve("Q")}},Do=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ql=h.moveTo=function(w,Y){return ve(I(M(w))+" "+I(Q(Y))+" m"),this},Io=h.lineTo=function(w,Y){return ve(I(M(w))+" "+I(Q(Y))+" l"),this},bs=h.curveTo=function(w,Y,_e,Ae,Ne,We){return ve([I(M(w)),I(Q(Y)),I(M(_e)),I(Q(Ae)),I(M(Ne)),I(Q(We)),"c"].join(" ")),this};h.__private__.line=h.line=function(w,Y,_e,Ae,Ne){if(isNaN(w)||isNaN(Y)||isNaN(_e)||isNaN(Ae)||!ia(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return F===E.COMPAT?this.lines([[_e-w,Ae-Y]],w,Y,[1,1],Ne||"S"):this.lines([[_e-w,Ae-Y]],w,Y,[1,1]).stroke()},h.__private__.lines=h.lines=function(w,Y,_e,Ae,Ne,We){var gt,Bt,Zt,m,A,V,re,Ie,je,yt,yn,gi;if(typeof w=="number"&&(gi=_e,_e=Y,Y=w,w=gi),Ae=Ae||[1,1],We=We||!1,isNaN(Y)||isNaN(_e)||!Array.isArray(w)||!Array.isArray(Ae)||!ia(Ne)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ql(Y,_e),gt=Ae[0],Bt=Ae[1],m=w.length,yt=Y,yn=_e,Zt=0;Zt<m;Zt++)(A=w[Zt]).length===2?(yt=A[0]*gt+yt,yn=A[1]*Bt+yn,Io(yt,yn)):(V=A[0]*gt+yt,re=A[1]*Bt+yn,Ie=A[2]*gt+yt,je=A[3]*Bt+yn,yt=A[4]*gt+yt,yn=A[5]*Bt+yn,bs(V,re,Ie,je,yt,yn));return We&&zu(),Uc(Ne),this},h.path=function(w){for(var Y=0;Y<w.length;Y++){var _e=w[Y],Ae=_e.c;switch(_e.op){case"m":Ql(Ae[0],Ae[1]);break;case"l":Io(Ae[0],Ae[1]);break;case"c":bs.apply(this,Ae);break;case"h":zu()}}return this},h.__private__.rect=h.rect=function(w,Y,_e,Ae,Ne){if(isNaN(w)||isNaN(Y)||isNaN(_e)||isNaN(Ae)||!ia(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return F===E.COMPAT&&(Ae=-Ae),ve([I(M(w)),I(Q(Y)),I(M(_e)),I(M(Ae)),"re"].join(" ")),Uc(Ne),this},h.__private__.triangle=h.triangle=function(w,Y,_e,Ae,Ne,We,gt){if(isNaN(w)||isNaN(Y)||isNaN(_e)||isNaN(Ae)||isNaN(Ne)||isNaN(We)||!ia(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-w,Ae-Y],[Ne-_e,We-Ae],[w-Ne,Y-We]],w,Y,[1,1],gt,!0),this},h.__private__.roundedRect=h.roundedRect=function(w,Y,_e,Ae,Ne,We,gt){if(isNaN(w)||isNaN(Y)||isNaN(_e)||isNaN(Ae)||isNaN(Ne)||isNaN(We)||!ia(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*_e),We=Math.min(We,.5*Ae),this.lines([[_e-2*Ne,0],[Ne*Bt,0,Ne,We-We*Bt,Ne,We],[0,Ae-2*We],[0,We*Bt,-Ne*Bt,We,-Ne,We],[2*Ne-_e,0],[-Ne*Bt,0,-Ne,-We*Bt,-Ne,-We],[0,2*We-Ae],[0,-We*Bt,Ne*Bt,-We,Ne,-We]],w+Ne,Y,[1,1],gt,!0),this},h.__private__.ellipse=h.ellipse=function(w,Y,_e,Ae,Ne){if(isNaN(w)||isNaN(Y)||isNaN(_e)||isNaN(Ae)||!ia(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*_e,gt=4/3*(Math.SQRT2-1)*Ae;return Ql(w+_e,Y),bs(w+_e,Y-gt,w+We,Y-Ae,w,Y-Ae),bs(w-We,Y-Ae,w-_e,Y-gt,w-_e,Y),bs(w-_e,Y+gt,w-We,Y+Ae,w,Y+Ae),bs(w+We,Y+Ae,w+_e,Y+gt,w+_e,Y),Uc(Ne),this},h.__private__.circle=h.circle=function(w,Y,_e,Ae){if(isNaN(w)||isNaN(Y)||isNaN(_e)||!ia(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,Y,_e,_e,Ae)},h.setFont=function(w,Y,_e){return _e&&(Y=te(Y,_e)),Tn=un(w,Y,{disableWarning:!1}),this};var $u=h.__private__.getFont=h.getFont=function(){return Jn[un.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var w,Y,_e={};for(w in mi)if(mi.hasOwnProperty(w))for(Y in _e[w]=[],mi[w])mi[w].hasOwnProperty(Y)&&_e[w].push(Y);return _e},h.addFont=function(w,Y,_e,Ae,Ne){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(_e=te(_e,Ae)),Ne=Ne||"Identity-H",Uu.call(this,w,Y,_e,Ne)};var ka,ki=t.lineWidth||.200025,Hc=h.__private__.getLineWidth=h.getLineWidth=function(){return ki},ih=h.__private__.setLineWidth=h.setLineWidth=function(w){return ki=w,ve(I(M(w))+" w"),this};h.__private__.setLineDash=mn.API.setLineDash=mn.API.setLineDashPattern=function(w,Y){if(w=w||[],Y=Y||0,isNaN(Y)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(_e){return I(M(_e))}).join(" "),Y=I(M(Y)),ve("["+w+"] "+Y+" d"),this};var Gu=h.__private__.getLineHeight=h.getLineHeight=function(){return xt*ka};h.__private__.getLineHeight=h.getLineHeight=function(){return xt*ka};var Wu=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ka=w),this},ra=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ka};Wu(t.lineHeight);var ro=h.__private__.getHorizontalCoordinate=function(w){return M(w)},sa=h.__private__.getVerticalCoordinate=function(w){return F===E.ADVANCED?w:Qt[q].mediaBox.topRightY-Qt[q].mediaBox.bottomLeftY-M(w)},so=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(w){return I(ro(w))},Da=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(w){return I(sa(w))},Mo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return me(Mo)},h.__private__.setStrokeColor=h.setDrawColor=function(w,Y,_e,Ae){return Mo=ge({ch1:w,ch2:Y,ch3:_e,ch4:Ae,pdfColorType:"draw",precision:2}),ve(Mo),this};var Ia=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return me(Ia)},h.__private__.setFillColor=h.setFillColor=function(w,Y,_e,Ae){return Ia=ge({ch1:w,ch2:Y,ch3:_e,ch4:Ae,pdfColorType:"fill",precision:2}),ve(Ia),this};var cl=t.textColor||"0 g",qu=h.__private__.getTextColor=h.getTextColor=function(){return me(cl)};h.__private__.setTextColor=h.setTextColor=function(w,Y,_e,Ae){return cl=ge({ch1:w,ch2:Y,ch3:_e,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ma=t.charSpace,rh=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ma||0)};h.__private__.setCharSpace=h.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ma=w,this};var Us=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(w){var Y=h.CapJoinStyles[w];if(Y===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Us=Y,ve(Y+" J"),this};var Xu=0;h.__private__.setLineJoin=h.setLineJoin=function(w){var Y=h.CapJoinStyles[w];if(Y===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xu=Y,ve(Y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ve(I(M(w))+" M"),this},h.GState=cy,h.setGState=function(w){(w=typeof w=="string"?Ei[Ai[w]]:Yu(null,w)).equals(Xi)||(ve("/"+w.id+" gs"),Xi=w)};var Yu=function(w,Y){if(!w||!Ai[w]){var _e=!1;for(var Ae in Ei)if(Ei.hasOwnProperty(Ae)&&Ei[Ae].equals(Y)){_e=!0;break}if(_e)Y=Ei[Ae];else{var Ne="GS"+(Object.keys(Ei).length+1).toString(10);Ei[Ne]=Y,Y.id=Ne}return w&&(Ai[w]=Y.id),Sn.publish("addGState",Y),Y}};h.addGState=function(w,Y){return Yu(w,Y),this},h.saveGraphicsState=function(){return ve("q"),vs.push({key:Tn,size:xt,color:cl}),this},h.restoreGraphicsState=function(){ve("Q");var w=vs.pop();return Tn=w.key,xt=w.size,cl=w.color,Xi=null,this},h.setCurrentTransformationMatrix=function(w){return ve(w.toString()+" cm"),this},h.comment=function(w){return ve("#"+w),this};var Po=function(w,Y){var _e=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(We){isNaN(We)||(_e=parseFloat(We))}});var Ae=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(We){isNaN(We)||(Ae=parseFloat(We))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(We){Ne=We.toString()}}),this},zc=function(w,Y,_e,Ae){Po.call(this,w,Y),this.type="rect";var Ne=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(gt){isNaN(gt)||(Ne=parseFloat(gt))}});var We=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(gt){isNaN(gt)||(We=parseFloat(gt))}}),this},Hs=function(){this.page=ui,this.currentPage=q,this.pages=et.slice(0),this.pagesContext=Qt.slice(0),this.x=qi,this.y=Dn,this.matrix=kr,this.width=oa(q),this.height=Pa(q),this.outputDestination=bt,this.id="",this.objectNumber=-1};Hs.prototype.restore=function(){ui=this.page,q=this.currentPage,Qt=this.pagesContext,et=this.pages,qi=this.x,Dn=this.y,kr=this.matrix,Wc(q,this.width),oo(q,this.height),bt=this.outputDestination};var $c=function(w,Y,_e,Ae,Ne){Pi.push(new Hs),ui=q=0,et=[],qi=w,Dn=Y,kr=Ne,ko([_e,Ae])},Gc=function(w){if(vn[w])Pi.pop().restore();else{var Y=new Hs,_e="Xo"+(Object.keys(Yi).length+1).toString(10);Y.id=_e,vn[w]=_e,Yi[_e]=Y,Sn.publish("addFormObject",Y),Pi.pop().restore()}};for(var Fo in h.beginFormObject=function(w,Y,_e,Ae,Ne){return $c(w,Y,_e,Ae,Ne),this},h.endFormObject=function(w){return Gc(w),this},h.doFormObject=function(w,Y){var _e=Yi[vn[w]];return ve("q"),ve(Y.toString()+" cm"),ve("/"+_e.id+" Do"),ve("Q"),this},h.getFormObject=function(w){var Y=Yi[vn[w]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},h.save=function(w,Y){return w=w||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(d0(jc(Aa()),w),typeof d0.unload=="function"&&_n.setTimeout&&setTimeout(d0.unload,911),this):new Promise(function(_e,Ae){try{var Ne=d0(jc(Aa()),w);typeof d0.unload=="function"&&_n.setTimeout&&setTimeout(d0.unload,911),_e(Ne)}catch(We){Ae(We.message)}})},mn.API)mn.API.hasOwnProperty(Fo)&&(Fo==="events"&&mn.API.events.length?function(w,Y){var _e,Ae,Ne;for(Ne=Y.length-1;Ne!==-1;Ne--)_e=Y[Ne][0],Ae=Y[Ne][1],w.subscribe.apply(w,[_e].concat(typeof Ae=="function"?[Ae]:Ae))}(Sn,mn.API.events):h[Fo]=mn.API[Fo]);var oa=h.getPageWidth=function(w){return(Qt[w=w||q].mediaBox.topRightX-Qt[w].mediaBox.bottomLeftX)/Dt},Wc=h.setPageWidth=function(w,Y){Qt[w].mediaBox.topRightX=Y*Dt+Qt[w].mediaBox.bottomLeftX},Pa=h.getPageHeight=function(w){return(Qt[w=w||q].mediaBox.topRightY-Qt[w].mediaBox.bottomLeftY)/Dt},oo=h.setPageHeight=function(w,Y){Qt[w].mediaBox.topRightY=Y*Dt+Qt[w].mediaBox.bottomLeftY};return h.internal={pdfEscape:xs,getStyle:nh,getFont:$u,getFontSize:Mt,getCharSpace:rh,getTextColor:qu,getLineHeight:Gu,getLineHeightFactor:ra,getLineWidth:Hc,write:rt,getHorizontalCoordinate:ro,getVerticalCoordinate:sa,getCoordinateString:so,getVerticalCoordinateString:Da,collections:{},newObject:yi,newAdditionalObject:he,newObjectDeferred:Ki,newObjectDeferredBegin:J,getFilters:Re,putStream:$e,events:Sn,scaleFactor:Dt,pageSize:{getWidth:function(){return oa(q)},setWidth:function(w){Wc(q,w)},getHeight:function(){return Pa(q)},setHeight:function(w){oo(q,w)}},encryptionOptions:u,encryption:mr,getEncryptor:na,output:Yl,getNumberOfPages:ql,pages:et,out:ve,f2:N,f3:D,getPageInfo:Hu,getPageInfoByObjId:gn,getCurrentPageInfo:th,getPDFVersion:g,Point:Po,Rectangle:zc,Matrix:Kt,hasHotfix:eh},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return oa(q)},set:function(w){Wc(q,w)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Pa(q)},set:function(w){oo(q,w)},enumerable:!0,configurable:!0}),Vf.call(h,Ke),Tn="F1",ws(r,n),Sn.publish("initialized"),h}function az(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}function FF(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return lz[s=s||"normal"]?s:"normal"}(t.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),r=function(s){return typeof PF[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function zH(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}function GH(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Nve(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},Lve,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(r[(s=FF(e[a])).family]&&(s.family=r[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[i]))throw new Error("Could not find a font-family for the rule '"+GH(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=PF[l],d=u<=PF.normal?-1:1,f=zH(c,cz,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=lz[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Fve[l],d=zH(c,uz,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+GH(s)+"'.");return o}function WH(t){return t.trimLeft()}function Ove(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Rve(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}function Bve(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,o=1<<(7&r)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,f=null,h=0,_=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],!(1&g)&&(f=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,U=t[e++],W=U>>6&1,te=1<<(7&U)+1,I=a,T=l,L=!1;U>>7&&(L=!0,I=e,T=te,e+=3*te);var N=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}u.push({x:y,y:b,width:E,height:F,has_local_palette:L,palette_offset:I,palette_size:T,data_offset:N,data_length:e-N,transparent_index:f,interlaced:!!W,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,R){var Q=this.frameInfo(M),oe=Q.width*Q.height,le=new Uint8Array(oe);ZH(t,Q.data_offset,le,oe);var ie=Q.palette_offset,fe=Q.transparent_index;fe===null&&(fe=256);var be=Q.width,Ce=n-be,Ue=be,C=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),j=C,X=4*Ce;Q.interlaced===!0&&(X+=4*n*7);for(var de=8,xe=0,Ee=le.length;xe<Ee;++xe){var Te=le[xe];if(Ue===0&&(Ue=be,(j+=X)>=q&&(X=4*Ce+4*n*(de-1),j=C+(be+Ce)*(de<<1),de>>=1)),Te===fe)j+=4;else{var Fe=t[ie+3*Te],et=t[ie+3*Te+1],ot=t[ie+3*Te+2];R[j++]=ot,R[j++]=et,R[j++]=Fe,R[j++]=255}--Ue}},this.decodeAndBlitFrameRGBA=function(M,R){var Q=this.frameInfo(M),oe=Q.width*Q.height,le=new Uint8Array(oe);ZH(t,Q.data_offset,le,oe);var ie=Q.palette_offset,fe=Q.transparent_index;fe===null&&(fe=256);var be=Q.width,Ce=n-be,Ue=be,C=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),j=C,X=4*Ce;Q.interlaced===!0&&(X+=4*n*7);for(var de=8,xe=0,Ee=le.length;xe<Ee;++xe){var Te=le[xe];if(Ue===0&&(Ue=be,(j+=X)>=q&&(X=4*Ce+4*n*(de-1),j=C+(be+Ce)*(de<<1),de>>=1)),Te===fe)j+=4;else{var Fe=t[ie+3*Te],et=t[ie+3*Te+1],ot=t[ie+3*Te+2];R[j++]=Fe,R[j++]=et,R[j++]=ot,R[j++]=255}--Ue}}}function ZH(t,e,n,i){for(var r=t[e++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,d=0,f=0,h=t[e++],_=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)d|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==s){if(y===o)break;for(var b=y<a?y:g,E=0,F=b;F>s;)F=_[F]>>8,++E;var U=F;if(f+E+(b!==y?1:0)>i)return void lr.log("Warning, gif stream longer than expected.");n[f++]=U;var W=f+=E;for(b!==y&&(n[f++]=U),F=b;E--;)F=_[F],n[--W]=255&F,F>>=8;g!==null&&a<4096&&(_[a++]=g<<8|U,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else a=o+1,c=(1<<(l=r+1))-1,g=null}return f!==i&&lr.log("Warning, gif stream shorter than expected."),n}function AF(t){var e,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),_=new Array(64),g=[],y=0,b=7,E=new Array(64),F=new Array(64),U=new Array(64),W=new Array(256),te=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(C,q){for(var j=0,X=0,de=new Array,xe=1;xe<=16;xe++){for(var Ee=1;Ee<=C[xe];Ee++)de[q[X]]=[],de[q[X]][0]=j,de[q[X]][1]=xe,X++,j++;j*=2}return de}function ie(C){for(var q=C[0],j=C[1]-1;j>=0;)q&1<<j&&(y|=1<<b),j--,--b<0&&(y==255?(fe(255),fe(0)):fe(y),b=7,y=0)}function fe(C){g.push(C)}function be(C){fe(C>>8&255),fe(255&C)}function Ce(C,q,j,X,de){for(var xe,Ee=de[0],Te=de[240],Fe=function(Ke,xt){var kt,Mt,Wt,en,cn,pn,qt,rn,tn,Tn,Dt=0;for(tn=0;tn<8;++tn){kt=Ke[Dt],Mt=Ke[Dt+1],Wt=Ke[Dt+2],en=Ke[Dt+3],cn=Ke[Dt+4],pn=Ke[Dt+5],qt=Ke[Dt+6];var qi=kt+(rn=Ke[Dt+7]),Dn=kt-rn,kr=Mt+qt,Jn=Mt-qt,mi=Wt+pn,vs=Wt-pn,Gn=en+cn,ls=en-cn,Ei=qi+Gn,Ai=qi-Gn,Xi=kr+mi,ui=kr-mi;Ke[Dt]=Ei+Xi,Ke[Dt+4]=Ei-Xi;var Qt=.707106781*(ui+Ai);Ke[Dt+2]=Ai+Qt,Ke[Dt+6]=Ai-Qt;var Sn=.382683433*((Ei=ls+vs)-(ui=Jn+Dn)),So=.5411961*Ei+Sn,Yi=1.306562965*ui+Sn,vn=.707106781*(Xi=vs+Jn),Pi=Dn+vn,Kt=Dn-vn;Ke[Dt+5]=Kt+So,Ke[Dt+3]=Kt-So,Ke[Dt+1]=Pi+Yi,Ke[Dt+7]=Pi-Yi,Dt+=8}for(Dt=0,tn=0;tn<8;++tn){kt=Ke[Dt],Mt=Ke[Dt+8],Wt=Ke[Dt+16],en=Ke[Dt+24],cn=Ke[Dt+32],pn=Ke[Dt+40],qt=Ke[Dt+48];var ei=kt+(rn=Ke[Dt+56]),ni=kt-rn,Wn=Mt+qt,yi=Mt-qt,Ki=Wt+pn,J=Wt-pn,he=en+cn,ce=en-cn,ue=ei+he,me=ei-he,ge=Wn+Ki,Re=Wn-Ki;Ke[Dt]=ue+ge,Ke[Dt+32]=ue-ge;var $e=.707106781*(Re+me);Ke[Dt+16]=me+$e,Ke[Dt+48]=me-$e;var Oe=.382683433*((ue=ce+J)-(Re=yi+ni)),Ve=.5411961*ue+Oe,Be=1.306562965*Re+Oe,ft=.707106781*(ge=J+yi),wt=ni+ft,Vt=ni-ft;Ke[Dt+40]=Vt+Ve,Ke[Dt+24]=Vt-Ve,Ke[Dt+8]=wt+Be,Ke[Dt+56]=wt-Be,Dt++}for(tn=0;tn<64;++tn)Tn=Ke[tn]*xt[tn],h[tn]=Tn>0?Tn+.5|0:Tn-.5|0;return h}(C,q),et=0;et<64;++et)_[I[et]]=Fe[et];var ot=_[0]-j;j=_[0],ot==0?ie(X[0]):(ie(X[f[xe=32767+ot]]),ie(d[xe]));for(var bt=63;bt>0&&_[bt]==0;)bt--;if(bt==0)return ie(Ee),j;for(var Tt,Ge=1;Ge<=bt;){for(var ve=Ge;_[Ge]==0&&Ge<=bt;)++Ge;var rt=Ge-ve;if(rt>=16){Tt=rt>>4;for(var St=1;St<=Tt;++St)ie(Te);rt&=15}xe=32767+_[Ge],ie(de[(rt<<4)+f[xe]]),ie(d[xe]),Ge++}return bt!=63&&ie(Ee),j}function Ue(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(q){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var de=o((j[X]*q+50)/100);de=Math.min(Math.max(de,1),255),a[I[X]]=de}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Te=o((xe[Ee]*q+50)/100);Te=Math.min(Math.max(Te,1),255),l[I[Ee]]=Te}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,ot=0;ot<8;ot++)for(var bt=0;bt<8;bt++)c[et]=1/(a[I[et]]*Fe[ot]*Fe[bt]*8),u[et]=1/(l[I[et]]*Fe[ot]*Fe[bt]*8),et++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,q){q&&Ue(q),g=new Array,y=0,b=7,be(65496),be(65504),be(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),be(1),be(1),fe(0),fe(0),function(){be(65499),be(132),fe(0);for(var Mt=0;Mt<64;Mt++)fe(a[Mt]);fe(1);for(var Wt=0;Wt<64;Wt++)fe(l[Wt])}(),function(Mt,Wt){be(65472),be(17),fe(8),be(Wt),be(Mt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(C.width,C.height),function(){be(65476),be(418),fe(0);for(var Mt=0;Mt<16;Mt++)fe(T[Mt+1]);for(var Wt=0;Wt<=11;Wt++)fe(L[Wt]);fe(16);for(var en=0;en<16;en++)fe(N[en+1]);for(var cn=0;cn<=161;cn++)fe(D[cn]);fe(1);for(var pn=0;pn<16;pn++)fe(M[pn+1]);for(var qt=0;qt<=11;qt++)fe(R[qt]);fe(17);for(var rn=0;rn<16;rn++)fe(Q[rn+1]);for(var tn=0;tn<=161;tn++)fe(oe[tn])}(),be(65498),be(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var j=0,X=0,de=0;y=0,b=7,this.encode.displayName="_encode_";for(var xe,Ee,Te,Fe,et,ot,bt,Tt,Ge,ve=C.data,rt=C.width,St=C.height,Ke=4*rt,xt=0;xt<St;){for(xe=0;xe<Ke;){for(et=Ke*xt+xe,bt=-1,Tt=0,Ge=0;Ge<64;Ge++)ot=et+(Tt=Ge>>3)*Ke+(bt=4*(7&Ge)),xt+Tt>=St&&(ot-=Ke*(xt+1+Tt-St)),xe+bt>=Ke&&(ot-=xe+bt-Ke+4),Ee=ve[ot++],Te=ve[ot++],Fe=ve[ot++],E[Ge]=(te[Ee]+te[Te+256>>0]+te[Fe+512>>0]>>16)-128,F[Ge]=(te[Ee+768>>0]+te[Te+1024>>0]+te[Fe+1280>>0]>>16)-128,U[Ge]=(te[Ee+1280>>0]+te[Te+1536>>0]+te[Fe+1792>>0]>>16)-128;j=Ce(E,c,j,e,i),X=Ce(F,u,X,n,r),de=Ce(U,u,de,n,r),xe+=32}xt+=8}if(b>=0){var kt=[];kt[1]=b+1,kt[0]=(1<<b+1)-1,ie(kt)}return be(65497),new Uint8Array(g)},t=t||50,function(){for(var C=String.fromCharCode,q=0;q<256;q++)W[q]=C(q)}(),e=le(T,L),n=le(M,R),i=le(N,D),r=le(Q,oe),function(){for(var C=1,q=2,j=1;j<=15;j++){for(var X=C;X<q;X++)f[32767+X]=j,d[32767+X]=[],d[32767+X][1]=j,d[32767+X][0]=X;for(var de=-(q-1);de<=-C;de++)f[32767+de]=j,d[32767+de]=[],d[32767+de][1]=j,d[32767+de][0]=q-1+de;C<<=1,q<<=1}}(),function(){for(var C=0;C<256;C++)te[C]=19595*C,te[C+256>>0]=38470*C,te[C+512>>0]=7471*C+32768,te[C+768>>0]=-11059*C,te[C+1024>>0]=-21709*C,te[C+1280>>0]=32768*C+8421375,te[C+1536>>0]=-27439*C,te[C+1792>>0]=-5329*C}(),Ue(t)}function Fc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JH(t){function e(T){if(!T)throw Error("assert :P")}function n(T,L,N){for(var D=0;4>D;D++)if(T[L+D]!=N.charCodeAt(D))return!0;return!1}function i(T,L,N,D,M){for(var R=0;R<M;R++)T[L+R]=N[D+R]}function r(T,L,N,D){for(var M=0;M<D;M++)T[L+M]=N}function s(T){return new Int32Array(T)}function o(T,L){for(var N=[],D=0;D<T;D++)N.push(new L);return N}function a(T,L){var N=[];return function D(M,R,Q){for(var oe=Q[R],le=0;le<oe&&(M.push(Q.length>R+1?[]:new L),!(Q.length<R+1));le++)D(M[le],R+1,Q)}(N,0,T),N}var l=function(){var T=this;function L(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function N(p,v,S,O,K){e(!(O%S));do p[v+(O-=S)]=K;while(0<O)}function D(p,v,S,O,K){if(e(2328>=K),512>=K)var ee=s(512);else if((ee=s(K))==null)return 0;return function(ne,se,ae,pe,ke,He){var ze,Le,lt=se,Ze=1<<ae,De=s(16),Me=s(16);for(e(ke!=0),e(pe!=null),e(ne!=null),e(0<ae),Le=0;Le<ke;++Le){if(15<pe[Le])return 0;++De[pe[Le]]}if(De[0]==ke)return 0;for(Me[1]=0,ze=1;15>ze;++ze){if(De[ze]>1<<ze)return 0;Me[ze+1]=Me[ze]+De[ze]}for(Le=0;Le<ke;++Le)ze=pe[Le],0<pe[Le]&&(He[Me[ze]++]=Le);if(Me[15]==1)return(pe=new M).g=0,pe.value=He[0],N(ne,lt,1,Ze,pe),Ze;var st,pt=-1,at=Ze-1,Ht=0,Lt=1,dn=1,jt=1<<ae;for(Le=0,ze=1,ke=2;ze<=ae;++ze,ke<<=1){if(Lt+=dn<<=1,0>(dn-=De[ze]))return 0;for(;0<De[ze];--De[ze])(pe=new M).g=ze,pe.value=He[Le++],N(ne,lt+Ht,ke,jt,pe),Ht=L(Ht,ze)}for(ze=ae+1,ke=2;15>=ze;++ze,ke<<=1){if(Lt+=dn<<=1,0>(dn-=De[ze]))return 0;for(;0<De[ze];--De[ze]){if(pe=new M,(Ht&at)!=pt){for(lt+=jt,st=1<<(pt=ze)-ae;15>pt&&!(0>=(st-=De[pt]));)++pt,st<<=1;Ze+=jt=1<<(st=pt-ae),ne[se+(pt=Ht&at)].g=st+ae,ne[se+pt].value=lt-se-pt}pe.g=ze-ae,pe.value=He[Le++],N(ne,lt+(Ht>>ae),ke,jt,pe),Ht=L(Ht,ze)}}return Lt!=2*Me[15]-1?0:Ze}(p,v,S,O,K,ee)}function M(){this.value=this.g=0}function R(){this.value=this.g=0}function Q(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zs,R)}function oe(p,v,S,O){e(p!=null),e(v!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+O,p.Zc=4<=O?S+O-4+1:S,xe(p)}function le(p,v){for(var S=0;0<v--;)S|=Te(p,128)<<v;return S}function ie(p,v){var S=le(p,v);return Ee(p)?-S:S}function fe(p,v,S,O){var K,ee=0;for(e(p!=null),e(v!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),K=0;K<O;++K)ee+=v[S+K]<<8*K;p.Ra=ee,p.bb=O,p.oa=v,p.pa=S}function be(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ju-8>>>0,++p.bb,p.u-=8;j(p)&&(p.h=1,p.u=0)}function Ce(p,v){if(e(0<=v),!p.h&&v<=Zu){var S=q(p)&Qu[v];return p.u+=v,be(p),S}return p.h=1,p.u=0}function Ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(p){return p.Ra>>>(p.u&Ju-1)>>>0}function j(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ju}function X(p,v){p.u=v,p.h=j(p)}function de(p){p.u>=oh&&(e(p.u>=oh),be(p))}function xe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ee(p){return le(p,1)}function Te(p,v){var S=p.Ca;0>p.b&&xe(p);var O=p.b,K=S*v>>>8,ee=(p.I>>>O>K)+0;for(ee?(S-=K,p.I-=K+1<<O>>>0):S=K+1,O=S,K=0;256<=O;)K+=8,O>>=8;return O=7^K+$s[O],p.b-=O,p.Ca=(S<<O)-1,ee}function Fe(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=S>>0&255}function et(p,v){return p[v+0]<<0|p[v+1]<<8}function ot(p,v){return et(p,v)|p[v+2]<<16}function bt(p,v){return et(p,v)|et(p,v+2)<<16}function Tt(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=s(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Ge(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),i(v.X,0,p.X,0,1<<v.Xa)}function ve(){this.X=[],this.Xa=this.Mb=0}function rt(p,v,S,O){e(S!=null),e(O!=null);var K=S[0],ee=O[0];return K==0&&(K=(p*ee+v/2)/v),ee==0&&(ee=(v*K+p/2)/p),0>=K||0>=ee?0:(S[0]=K,O[0]=ee,1)}function St(p,v){return p+(1<<v)-1>>>v}function Ke(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function xt(p,v){T[v]=function(S,O,K,ee,ne,se,ae){var pe;for(pe=0;pe<ne;++pe){var ke=T[p](se[ae+pe-1],K,ee+pe);se[ae+pe]=Ke(S[O+pe],ke)}}}function kt(){this.ud=this.hd=this.jd=0}function Mt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Wt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function en(p,v){return Wt(p+(p-v+.5>>1))}function cn(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function pn(p,v,S,O,K,ee,ne){for(O=ee[ne-1],S=0;S<K;++S)ee[ne+S]=O=Ke(p[v+S],O)}function qt(p,v,S,O,K){var ee;for(ee=0;ee<S;++ee){var ne=p[v+ee],se=ne>>8&255,ae=16711935&(ae=(ae=16711935&ne)+((se<<16)+se));O[K+ee]=(4278255360&ne)+ae>>>0}}function rn(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255}function tn(p,v,S,O,K,ee){var ne;for(ne=0;ne<O;++ne){var se=v[S+ne],ae=se>>>8,pe=se,ke=255&(ke=(ke=se>>>16)+((p.jd<<24>>24)*(ae<<24>>24)>>>5));pe=255&(pe=(pe=pe+((p.hd<<24>>24)*(ae<<24>>24)>>>5))+((p.ud<<24>>24)*(ke<<24>>24)>>>5)),K[ee+ne]=(4278255360&se)+(ke<<16)+pe}}function Tn(p,v,S,O,K){T[v]=function(ee,ne,se,ae,pe,ke,He,ze,Le){for(ae=He;ae<ze;++ae)for(He=0;He<Le;++He)pe[ke++]=K(se[O(ee[ne++])])},T[p]=function(ee,ne,se,ae,pe,ke,He){var ze=8>>ee.b,Le=ee.Ea,lt=ee.K[0],Ze=ee.w;if(8>ze)for(ee=(1<<ee.b)-1,Ze=(1<<ze)-1;ne<se;++ne){var De,Me=0;for(De=0;De<Le;++De)De&ee||(Me=O(ae[pe++])),ke[He++]=K(lt[Me&Ze]),Me>>=ze}else T["VP8LMapColor"+S](ae,pe,lt,Ze,ke,He,ne,se,Le)}}function Dt(p,v,S,O,K){for(S=v+S;v<S;){var ee=p[v++];O[K++]=ee>>16&255,O[K++]=ee>>8&255,O[K++]=ee>>0&255}}function qi(p,v,S,O,K){for(S=v+S;v<S;){var ee=p[v++];O[K++]=ee>>16&255,O[K++]=ee>>8&255,O[K++]=ee>>0&255,O[K++]=ee>>24&255}}function Dn(p,v,S,O,K){for(S=v+S;v<S;){var ee=(ne=p[v++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;O[K++]=ee,O[K++]=ne}}function kr(p,v,S,O,K){for(S=v+S;v<S;){var ee=(ne=p[v++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;O[K++]=ee,O[K++]=ne}}function Jn(p,v,S,O,K){for(S=v+S;v<S;){var ee=p[v++];O[K++]=ee>>0&255,O[K++]=ee>>8&255,O[K++]=ee>>16&255}}function mi(p,v,S,O,K,ee){if(ee==0)for(S=v+S;v<S;)Fe(O,((ee=p[v++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),K+=32;else i(O,K,p,v,S)}function vs(p,v){T[v][0]=T[p+"0"],T[v][1]=T[p+"1"],T[v][2]=T[p+"2"],T[v][3]=T[p+"3"],T[v][4]=T[p+"4"],T[v][5]=T[p+"5"],T[v][6]=T[p+"6"],T[v][7]=T[p+"7"],T[v][8]=T[p+"8"],T[v][9]=T[p+"9"],T[v][10]=T[p+"10"],T[v][11]=T[p+"11"],T[v][12]=T[p+"12"],T[v][13]=T[p+"13"],T[v][14]=T[p+"0"],T[v][15]=T[p+"0"]}function Gn(p){return p==wv||p==rc||p==Hf||p==bv}function ls(){this.eb=[],this.size=this.A=this.fb=0}function Ei(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ai(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ls,this.f.kb=new Ei,this.sd=null}function Xi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ui(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Sn(p,v){var S=p.T,O=v.ba.f.RGBA,K=O.eb,ee=O.fb+p.ka*O.A,ne=k[v.ba.S],se=p.y,ae=p.O,pe=p.f,ke=p.N,He=p.ea,ze=p.W,Le=v.cc,lt=v.dc,Ze=v.Mc,De=v.Nc,Me=p.ka,st=p.ka+p.T,pt=p.U,at=pt+1>>1;for(Me==0?ne(se,ae,null,null,pe,ke,He,ze,pe,ke,He,ze,K,ee,null,null,pt):(ne(v.ec,v.fc,se,ae,Le,lt,Ze,De,pe,ke,He,ze,K,ee-O.A,K,ee,pt),++S);Me+2<st;Me+=2)Le=pe,lt=ke,Ze=He,De=ze,ke+=p.Rc,ze+=p.Rc,ee+=2*O.A,ne(se,(ae+=2*p.fa)-p.fa,se,ae,Le,lt,Ze,De,pe,ke,He,ze,K,ee-O.A,K,ee,pt);return ae+=p.fa,p.j+st<p.o?(i(v.ec,v.fc,se,ae,pt),i(v.cc,v.dc,pe,ke,at),i(v.Mc,v.Nc,He,ze,at),S--):1&st||ne(se,ae,null,null,pe,ke,He,ze,pe,ke,He,ze,K,ee+O.A,null,null,pt),S}function So(p,v,S){var O=p.F,K=[p.J];if(O!=null){var ee=p.U,ne=v.ba.S,se=ne==U0||ne==Hf;v=v.ba.f.RGBA;var ae=[0],pe=p.ka;ae[0]=p.T,p.Kb&&(pe==0?--ae[0]:(--pe,K[0]-=p.width),p.j+p.ka+p.T==p.o&&(ae[0]=p.o-p.j-pe));var ke=v.eb;pe=v.fb+pe*v.A,p=N0(O,K[0],p.width,ee,ae,ke,pe+(se?0:3),v.A),e(S==ae),p&&Gn(ne)&&ic(ke,pe,se,ee,ae,v.A)}return 0}function Yi(p){var v=p.ma,S=v.ba.S,O=11>S,K=S==B0||S==j0||S==U0||S==xv||S==12||Gn(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Zl(v.Oa,p,K?11:12))return 0;if(K&&Gn(S)&&gt(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Qt,p.Kb){if(S=p.U+1>>1,v.memory=s(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Sn,gt()}}else alert("todo:EmitYUV");K&&(v.Jb=So,O&&Ne())}if(O&&!H4){for(p=0;256>p;++p)UW[p]=89858*(p-128)+$y>>Kc,$W[p]=-22014*(p-128)+$y,zW[p]=-45773*(p-128),HW[p]=113618*(p-128)+$y>>Kc;for(p=Cv;p<AS;++p)v=76283*(p-16)+$y>>Kc,GW[p-Cv]=xn(v,255),WW[p-Cv]=xn(v+8>>4,15);H4=1}return 1}function vn(p){var v=p.ma,S=p.U,O=p.T;return e(!(1&p.ka)),0>=S||0>=O?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Pi(p){p.ma.memory=null}function Kt(p,v,S,O){return Ce(p,8)!=47?0:(v[0]=Ce(p,14)+1,S[0]=Ce(p,14)+1,O[0]=Ce(p,1),Ce(p,3)!=0?0:!p.h)}function ei(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Ce(v,S)+1}function ni(p,v){return 120<v?v-120:1<=(S=((S=_S[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Wn(p,v,S){var O=q(S),K=p[v+=255&O].g-8;return 0<K&&(X(S,S.u+8),O=q(S),v+=p[v].value,v+=O&(1<<K)-1),X(S,S.u+p[v].g),p[v].value}function yi(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Ki(p,v,S){var O=p.xc;return e((v=O==0?0:p.vc[p.md*(S>>O)+(v>>O)])<p.Wb),p.Ya[v]}function J(p,v,S,O){var K=p.ab,ee=p.c*v,ne=p.C;v=ne+v;var se=S,ae=O;for(O=p.Ta,S=p.Ua;0<K--;){var pe=p.gc[K],ke=ne,He=v,ze=se,Le=ae,lt=(ae=O,se=S,pe.Ea);switch(e(ke<He),e(He<=pe.nc),pe.hc){case 2:P0(ze,Le,(He-ke)*lt,ae,se);break;case 0:var Ze=ke,De=He,Me=ae,st=se,pt=(jt=pe).Ea;Ze==0&&(M0(ze,Le,null,null,1,Me,st),pn(ze,Le+1,0,0,pt-1,Me,st+1),Le+=pt,st+=pt,++Ze);for(var at=1<<jt.b,Ht=at-1,Lt=St(pt,jt.b),dn=jt.K,jt=jt.w+(Ze>>jt.b)*Lt;Ze<De;){var xi=dn,Ni=jt,di=1;for(ul(ze,Le,Me,st-pt,1,Me,st);di<pt;){var ii=(di&~Ht)+at;ii>pt&&(ii=pt),(0,Jl[xi[Ni++]>>8&15])(ze,Le+ +di,Me,st+di-pt,ii-di,Me,st+di),di=ii}Le+=pt,st+=pt,++Ze&Ht||(jt+=Lt)}He!=pe.nc&&i(ae,se-lt,ae,se+(He-ke-1)*lt,lt);break;case 1:for(lt=ze,De=Le,pt=(ze=pe.Ea)-(st=ze&~(Me=(Le=1<<pe.b)-1)),Ze=St(ze,pe.b),at=pe.K,pe=pe.w+(ke>>pe.b)*Ze;ke<He;){for(Ht=at,Lt=pe,dn=new kt,jt=De+st,xi=De+ze;De<jt;)rn(Ht[Lt++],dn),aa(dn,lt,De,Le,ae,se),De+=Le,se+=Le;De<xi&&(rn(Ht[Lt++],dn),aa(dn,lt,De,pt,ae,se),De+=pt,se+=pt),++ke&Me||(pe+=Ze)}break;case 3:if(ze==ae&&Le==se&&0<pe.b){for(De=ae,ze=lt=se+(He-ke)*lt-(st=(He-ke)*St(pe.Ea,pe.b)),Le=ae,Me=se,Ze=[],st=(pt=st)-1;0<=st;--st)Ze[st]=Le[Me+st];for(st=pt-1;0<=st;--st)De[ze+st]=Ze[st];Fa(pe,ke,He,ae,lt,ae,se)}else Fa(pe,ke,He,ze,Le,ae,se)}se=O,ae=S}ae!=S&&i(O,S,se,ae,ee)}function he(p,v){var S=p.V,O=p.Ba+p.c*p.C,K=v-p.C;if(e(v<=p.l.o),e(16>=K),0<K){var ee=p.l,ne=p.Ta,se=p.Ua,ae=ee.width;if(J(p,K,S,O),K=se=[se],e((S=p.C)<(O=v)),e(ee.v<ee.va),O>ee.o&&(O=ee.o),S<ee.j){var pe=ee.j-S;S=ee.j,K[0]+=pe*ae}if(S>=O?S=0:(K[0]+=4*ee.v,ee.ka=S-ee.j,ee.U=ee.va-ee.v,ee.T=O-S,S=1),S){if(se=se[0],11>(S=p.ca).S){var ke=S.f.RGBA,He=(O=S.S,K=ee.U,ee=ee.T,pe=ke.eb,ke.A),ze=ee;for(ke=ke.fb+p.Ma*ke.A;0<ze--;){var Le=ne,lt=se,Ze=K,De=pe,Me=ke;switch(O){case V0:La(Le,lt,Ze,De,Me);break;case B0:qc(Le,lt,Ze,De,Me);break;case wv:qc(Le,lt,Ze,De,Me),ic(De,Me,0,Ze,1,0);break;case By:ah(Le,lt,Ze,De,Me);break;case j0:mi(Le,lt,Ze,De,Me,1);break;case rc:mi(Le,lt,Ze,De,Me,1),ic(De,Me,0,Ze,1,0);break;case U0:mi(Le,lt,Ze,De,Me,0);break;case Hf:mi(Le,lt,Ze,De,Me,0),ic(De,Me,1,Ze,1,0);break;case xv:dl(Le,lt,Ze,De,Me);break;case bv:dl(Le,lt,Ze,De,Me),td(De,Me,Ze,1,0);break;case jy:hl(Le,lt,Ze,De,Me);break;default:e(0)}se+=ae,ke+=He}p.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function ce(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,O=p.Ya[v].H;if(0<S[1][O[1]+0].g||0<S[2][O[2]+0].g||0<S[3][O[3]+0].g)return 0}return 1}function ue(p,v,S,O,K,ee){if(p.Z!=0){var ne=p.qd,se=p.rd;for(e(x[p.Z]!=null);v<S;++v)x[p.Z](ne,se,O,K,O,K,ee),ne=O,se=K,K+=ee;p.qd=ne,p.rd=se}}function me(p,v){var S=p.l.ma,O=S.Z==0||S.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(v<=p.l.o),v>O){var K=p.l.width,ee=S.ca,ne=S.tb+K*O,se=p.V,ae=p.Ba+p.c*O,pe=p.gc;e(p.ab==1),e(pe[0].hc==3),F0(pe[0],O,v,se,ae,ee,ne),ue(S,O,v,ee,ne,K)}p.C=p.Ma=v}function ge(p,v,S,O,K,ee,ne){var se=p.$/O,ae=p.$%O,pe=p.m,ke=p.s,He=S+p.$,ze=He;K=S+O*K;var Le=S+O*ee,lt=280+ke.ua,Ze=p.Pb?se:16777216,De=0<ke.ua?ke.Wa:null,Me=ke.wc,st=He<Le?Ki(ke,ae,se):null;e(p.C<ee),e(Le<=K);var pt=!1;e:for(;;){for(;pt||He<Le;){var at=0;if(se>=Ze){var Ht=He-S;e((Ze=p).Pb),Ze.wd=Ze.m,Ze.xd=Ht,0<Ze.s.ua&&Ge(Ze.s.Wa,Ze.s.vb),Ze=se+xS}if(ae&Me||(st=Ki(ke,ae,se)),e(st!=null),st.Qb&&(v[He]=st.qb,pt=!0),!pt)if(de(pe),st.jc){at=pe,Ht=v;var Lt=He,dn=st.pd[q(at)&zs-1];e(st.jc),256>dn.g?(X(at,at.u+dn.g),Ht[Lt]=dn.value,at=0):(X(at,at.u+dn.g-256),e(256<=dn.value),at=dn.value),at==0&&(pt=!0)}else at=Wn(st.G[0],st.H[0],pe);if(pe.h)break;if(pt||256>at){if(!pt)if(st.nd)v[He]=(st.qb|at<<8)>>>0;else{if(de(pe),pt=Wn(st.G[1],st.H[1],pe),de(pe),Ht=Wn(st.G[2],st.H[2],pe),Lt=Wn(st.G[3],st.H[3],pe),pe.h)break;v[He]=(Lt<<24|pt<<16|at<<8|Ht)>>>0}if(pt=!1,++He,++ae>=O&&(ae=0,++se,ne!=null&&se<=ee&&!(se%16)&&ne(p,se),De!=null))for(;ze<He;)at=v[ze++],De.X[(506832829*at&4294967295)>>>De.Mb]=at}else if(280>at){if(at=ei(at-256,pe),Ht=Wn(st.G[4],st.H[4],pe),de(pe),Ht=ni(O,Ht=ei(Ht,pe)),pe.h)break;if(He-S<Ht||K-He<at)break e;for(Lt=0;Lt<at;++Lt)v[He+Lt]=v[He+Lt-Ht];for(He+=at,ae+=at;ae>=O;)ae-=O,++se,ne!=null&&se<=ee&&!(se%16)&&ne(p,se);if(e(He<=K),ae&Me&&(st=Ki(ke,ae,se)),De!=null)for(;ze<He;)at=v[ze++],De.X[(506832829*at&4294967295)>>>De.Mb]=at}else{if(!(at<lt))break e;for(pt=at-280,e(De!=null);ze<He;)at=v[ze++],De.X[(506832829*at&4294967295)>>>De.Mb]=at;at=He,e(!(pt>>>(Ht=De).Xa)),v[at]=Ht.X[pt],pt=!0}pt||e(pe.h==j(pe))}if(p.Pb&&pe.h&&He<K)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ge(p.s.vb,p.s.Wa);else{if(pe.h)break e;ne?.(p,se>ee?ee:se),p.a=0,p.$=He-S}return 1}return p.a=3,0}function Re(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function $e(){var p=new Gc;return p==null?null:(p.a=0,p.xb=z,vs("Predictor","VP8LPredictors"),vs("Predictor","VP8LPredictors_C"),vs("PredictorAdd","VP8LPredictorsAdd"),vs("PredictorAdd","VP8LPredictorsAdd_C"),P0=qt,aa=tn,La=Dt,qc=qi,dl=Dn,hl=kr,ah=Jn,T.VP8LMapColor32b=jf,T.VP8LMapColor8b=L0,p)}function Oe(p,v,S,O,K){var ee=1,ne=[p],se=[v],ae=O.m,pe=O.s,ke=null,He=0;e:for(;;){if(S)for(;ee&&Ce(ae,1);){var ze=ne,Le=se,lt=O,Ze=1,De=lt.m,Me=lt.gc[lt.ab],st=Ce(De,2);if(lt.Oc&1<<st)ee=0;else{switch(lt.Oc|=1<<st,Me.hc=st,Me.Ea=ze[0],Me.nc=Le[0],Me.K=[null],++lt.ab,e(4>=lt.ab),st){case 0:case 1:Me.b=Ce(De,3)+2,Ze=Oe(St(Me.Ea,Me.b),St(Me.nc,Me.b),0,lt,Me.K),Me.K=Me.K[0];break;case 3:var pt,at=Ce(De,8)+1,Ht=16<at?0:4<at?1:2<at?2:3;if(ze[0]=St(Me.Ea,Ht),Me.b=Ht,pt=Ze=Oe(at,1,0,lt,Me.K)){var Lt,dn=at,jt=Me,xi=1<<(8>>jt.b),Ni=s(xi);if(Ni==null)pt=0;else{var di=jt.K[0],ii=jt.w;for(Ni[0]=jt.K[0][0],Lt=1;Lt<1*dn;++Lt)Ni[Lt]=Ke(di[ii+Lt],Ni[Lt-1]);for(;Lt<4*xi;++Lt)Ni[Lt]=0;jt.K[0]=null,jt.K[0]=Ni,pt=1}}Ze=pt;break;case 2:break;default:e(0)}ee=Ze}}if(ne=ne[0],se=se[0],ee&&Ce(ae,1)&&!(ee=1<=(He=Ce(ae,4))&&11>=He)){O.a=3;break e}var Ji;if(Ji=ee)t:{var zi,On,Yr,fa=O,Kr=ne,pa=se,Oi=He,Oa=S,Ra=fa.m,Cs=fa.s,Gs=[null],No=1,gl=0,Qc=yS[Oi];n:for(;;){if(Oa&&Ce(Ra,1)){var Ts=Ce(Ra,3)+2,nd=St(Kr,Ts),zf=St(pa,Ts),z0=nd*zf;if(!Oe(nd,zf,0,fa,Gs))break n;for(Gs=Gs[0],Cs.xc=Ts,zi=0;zi<z0;++zi){var hh=Gs[zi]>>8&65535;Gs[zi]=hh,hh>=No&&(No=hh+1)}}if(Ra.h)break n;for(On=0;5>On;++On){var Dr=Uy[On];!On&&0<Oi&&(Dr+=1<<Oi),gl<Dr&&(gl=Dr)}var kS=o(No*Qc,M),G4=No,W4=o(G4,Q);if(W4==null)var Wy=null;else e(65536>=G4),Wy=W4;var Tv=s(gl);if(Wy==null||Tv==null||kS==null){fa.a=1;break n}var qy=kS;for(zi=Yr=0;zi<No;++zi){var sc=Wy[zi],$0=sc.G,G0=sc.H,q4=0,Xy=1,X4=0;for(On=0;5>On;++On){Dr=Uy[On],$0[On]=qy,G0[On]=Yr,!On&&0<Oi&&(Dr+=1<<Oi);r:{var Yy,DS=Dr,Ky=fa,Sv=Tv,YW=qy,KW=Yr,IS=0,fh=Ky.m,QW=Ce(fh,1);if(r(Sv,0,0,DS),QW){var ZW=Ce(fh,1)+1,JW=Ce(fh,1),Y4=Ce(fh,JW==0?1:8);Sv[Y4]=1,ZW==2&&(Sv[Y4=Ce(fh,8)]=1);var Qy=1}else{var K4=s(19),Q4=Ce(fh,4)+4;if(19<Q4){Ky.a=3;var Zy=0;break r}for(Yy=0;Yy<Q4;++Yy)K4[Hy[Yy]]=Ce(fh,3);var MS=void 0,Ev=void 0,Z4=Ky,eq=K4,Jy=DS,J4=Sv,PS=0,ph=Z4.m,e3=8,t3=o(128,M);i:for(;D(t3,0,7,eq,19);){if(Ce(ph,1)){var tq=2+2*Ce(ph,3);if((MS=2+Ce(ph,tq))>Jy)break i}else MS=Jy;for(Ev=0;Ev<Jy&&MS--;){de(ph);var n3=t3[0+(127&q(ph))];X(ph,ph.u+n3.g);var W0=n3.value;if(16>W0)J4[Ev++]=W0,W0!=0&&(e3=W0);else{var nq=W0==16,i3=W0-16,iq=gS[i3],r3=Ce(ph,mS[i3])+iq;if(Ev+r3>Jy)break i;for(var rq=nq?e3:0;0<r3--;)J4[Ev++]=rq}}PS=1;break i}PS||(Z4.a=3),Qy=PS}(Qy=Qy&&!fh.h)&&(IS=D(YW,KW,8,Sv,DS)),Qy&&IS!=0?Zy=IS:(Ky.a=3,Zy=0)}if(Zy==0)break n;if(Xy&&vS[On]==1&&(Xy=qy[Yr].g==0),q4+=qy[Yr].g,Yr+=Zy,3>=On){var Av,FS=Tv[0];for(Av=1;Av<Dr;++Av)Tv[Av]>FS&&(FS=Tv[Av]);X4+=FS}}if(sc.nd=Xy,sc.Qb=0,Xy&&(sc.qb=($0[3][G0[3]+0].value<<24|$0[1][G0[1]+0].value<<16|$0[2][G0[2]+0].value)>>>0,q4==0&&256>$0[0][G0[0]+0].value&&(sc.Qb=1,sc.qb+=$0[0][G0[0]+0].value<<8)),sc.jc=!sc.Qb&&6>X4,sc.jc){var ex,id=sc;for(ex=0;ex<zs;++ex){var mh=ex,gh=id.pd[mh],tx=id.G[0][id.H[0]+mh];256<=tx.value?(gh.g=tx.g+256,gh.value=tx.value):(gh.g=0,gh.value=0,mh>>=yi(tx,8,gh),mh>>=yi(id.G[1][id.H[1]+mh],16,gh),mh>>=yi(id.G[2][id.H[2]+mh],0,gh),yi(id.G[3][id.H[3]+mh],24,gh))}}}Cs.vc=Gs,Cs.Wb=No,Cs.Ya=Wy,Cs.yc=kS,Ji=1;break t}Ji=0}if(!(ee=Ji)){O.a=3;break e}if(0<He){if(pe.ua=1<<He,!Tt(pe.Wa,He)){O.a=1,ee=0;break e}}else pe.ua=0;var LS=O,s3=ne,sq=se,NS=LS.s,OS=NS.xc;if(LS.c=s3,LS.i=sq,NS.md=St(s3,OS),NS.wc=OS==0?-1:(1<<OS)-1,S){O.xb=H0;break e}if((ke=s(ne*se))==null){O.a=1,ee=0;break e}ee=(ee=ge(O,ke,0,ne,se,se,null))&&!ae.h;break e}return ee?(K!=null?K[0]=ke:(e(ke==null),e(S)),O.$=0,S||Re(pe)):Re(pe),ee}function Ve(p,v){var S=p.c*p.i,O=S+v+16*v;return e(p.c<=v),p.V=s(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Be(p,v){var S=p.C,O=v-S,K=p.V,ee=p.Ba+p.c*S;for(e(v<=p.l.o);0<O;){var ne=16<O?16:O,se=p.l.ma,ae=p.l.width,pe=ae*ne,ke=se.ca,He=se.tb+ae*S,ze=p.Ta,Le=p.Ua;J(p,ne,K,ee),Ny(ze,Le,ke,He,pe),ue(se,S,S+ne,ke,He,ae),O-=ne,K+=ne*p.c,S+=ne}e(S==v),p.C=p.Ma=v}function ft(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ct(){this.Yb=function(){var p=[];return function v(S,O,K){for(var ee=K[O],ne=0;ne<ee&&(S.push(K.length>O+1?[]:0),!(K.length<O+1));ne++)v(S[ne],O+1,K)}(p,0,[3,11]),p}()}function At(){this.jb=s(3),this.Wc=a([4,8],Ct),this.Xc=a([4,17],Ct)}function an(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ti(){this.ld=this.La=this.dd=this.tc=0}function pr(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new ti),this.Y=0,this.ya=Array(new Fi),this.aa=0,this.l=new Ao}function ea(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _s(){this.cb=this.a=0,this.sc="",this.m=new Ue,this.Od=new ft,this.Kc=new wt,this.ed=new an,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new Eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ue),this.ia=0,this.pb=o(4,Kn),this.Pa=new At,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ea),this.Hd=0,this.rb=Array(new pr),this.sb=0,this.wa=Array(new ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fi),this.L=this.aa=0,this.gd=a([4,2],ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ao(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ys(){var p=new _s;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Zi||(Zi=oi)),p}function Qi(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Vc(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ju(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Qi(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,O=v.w,K=v.ha;if(4>K)return Qi(p,7,"Truncated header.");var ee=S[O+0]|S[O+1]<<8|S[O+2]<<16,ne=p.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return Qi(p,3,"Incorrect keyframe parameters.");if(!ne.yd)return Qi(p,4,"Frame not displayable.");O+=3,K-=3;var se=p.Kc;if(ne.Rb){if(7>K)return Qi(p,7,"cannot parse picture header");if(!Vc(S,O,K))return Qi(p,3,"Bad code word");se.c=16383&(S[O+4]<<8|S[O+3]),se.Td=S[O+4]>>6,se.i=16383&(S[O+6]<<8|S[O+5]),se.Ud=S[O+6]>>6,O+=7,K-=7,p.za=se.c+15>>4,p.Ub=se.i+15>>4,v.width=se.c,v.height=se.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,r((ee=p.Pa).jb,0,255,ee.jb.length),e((ee=p.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,r(ee.Zb,0,0,ee.Zb.length),r(ee.Lb,0,0,ee.Lb)}if(ne.ub>K)return Qi(p,7,"bad partition length");oe(ee=p.m,S,O,ne.ub),O+=ne.ub,K-=ne.ub,ne.Rb&&(se.Ld=Ee(ee),se.Kd=Ee(ee)),se=p.Qa;var ae,pe=p.Pa;if(e(ee!=null),e(se!=null),se.Cb=Ee(ee),se.Cb){if(se.Bb=Ee(ee),Ee(ee)){for(se.Fb=Ee(ee),ae=0;4>ae;++ae)se.Zb[ae]=Ee(ee)?ie(ee,7):0;for(ae=0;4>ae;++ae)se.Lb[ae]=Ee(ee)?ie(ee,6):0}if(se.Bb)for(ae=0;3>ae;++ae)pe.jb[ae]=Ee(ee)?le(ee,8):255}else se.Bb=0;if(ee.Ka)return Qi(p,3,"cannot parse segment header");if((se=p.ed).zd=Ee(ee),se.Tb=le(ee,6),se.wb=le(ee,3),se.Pc=Ee(ee),se.Pc&&Ee(ee)){for(pe=0;4>pe;++pe)Ee(ee)&&(se.vd[pe]=ie(ee,6));for(pe=0;4>pe;++pe)Ee(ee)&&(se.od[pe]=ie(ee,6))}if(p.L=se.Tb==0?0:se.zd?1:2,ee.Ka)return Qi(p,3,"cannot parse filter header");var ke=K;if(K=ae=O,O=ae+ke,se=ke,p.Xb=(1<<le(p.m,2))-1,ke<3*(pe=p.Xb))S=7;else{for(ae+=3*pe,se-=3*pe,ke=0;ke<pe;++ke){var He=S[K+0]|S[K+1]<<8|S[K+2]<<16;He>se&&(He=se),oe(p.Jc[+ke],S,ae,He),ae+=He,se-=He,K+=3}oe(p.Jc[+pe],S,ae,se),S=ae<O?0:5}if(S!=0)return Qi(p,S,"cannot parse partitions");for(S=le(ae=p.m,7),K=Ee(ae)?ie(ae,4):0,O=Ee(ae)?ie(ae,4):0,se=Ee(ae)?ie(ae,4):0,pe=Ee(ae)?ie(ae,4):0,ae=Ee(ae)?ie(ae,4):0,ke=p.Qa,He=0;4>He;++He){if(ke.Cb){var ze=ke.Zb[He];ke.Fb||(ze+=S)}else{if(0<He){p.pb[He]=p.pb[0];continue}ze=S}var Le=p.pb[He];Le.Sc[0]=da[xn(ze+K,127)],Le.Sc[1]=dh[xn(ze+0,127)],Le.Eb[0]=2*da[xn(ze+O,127)],Le.Eb[1]=101581*dh[xn(ze+se,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=da[xn(ze+pe,117)],Le.Qc[1]=dh[xn(ze+ae,127)],Le.lc=ze+ae}if(!ne.Rb)return Qi(p,4,"Not a key frame.");for(Ee(ee),ne=p.Pa,S=0;4>S;++S){for(K=0;8>K;++K)for(O=0;3>O;++O)for(se=0;11>se;++se)pe=Te(ee,SS[S][K][O][se])?le(ee,8):CS[S][K][O][se],ne.Wc[S][K].Yb[O][se]=pe;for(K=0;17>K;++K)ne.Xc[S][K]=ne.Wc[S][ES[K]]}return p.kc=Ee(ee),p.kc&&(p.Bd=le(ee,8)),p.cb=1}function oi(p,v,S,O,K,ee,ne){var se=v[K].Yb[S];for(S=0;16>K;++K){if(!Te(p,se[S+0]))return K;for(;!Te(p,se[S+1]);)if(se=v[++K].Yb[0],S=0,K==16)return 16;var ae=v[K+1].Yb;if(Te(p,se[S+2])){var pe=p,ke=0;if(Te(pe,(ze=se)[(He=S)+3]))if(Te(pe,ze[He+6])){for(se=0,He=2*(ke=Te(pe,ze[He+8]))+(ze=Te(pe,ze[He+9+ke])),ke=0,ze=wS[He];ze[se];++se)ke+=ke+Te(pe,ze[se]);ke+=3+(8<<He)}else Te(pe,ze[He+7])?(ke=7+2*Te(pe,165),ke+=Te(pe,145)):ke=5+Te(pe,159);else ke=Te(pe,ze[He+4])?3+Te(pe,ze[He+5]):2;se=ae[2]}else ke=1,se=ae[1];ae=ne+bS[K],0>(pe=p).b&&xe(pe);var He,ze=pe.b,Le=(He=pe.Ca>>1)-(pe.I>>ze)>>31;--pe.b,pe.Ca+=Le,pe.Ca|=1,pe.I-=(He+1&Le)<<ze,ee[ae]=((ke^Le)-Le)*O[(0<K)+0]}return 16}function Uu(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function Vf(p,v){if(p==null)return 0;if(v==null)return Qi(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!ju(p,v))return 0;if(e(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var S=Gy[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-S>>4,p.zb=v.j-S>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+S>>4,p.Hb=v.va+15+S>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var O=p.ed;for(S=0;4>S;++S){var K;if(p.Qa.Cb){var ee=p.Qa.Lb[S];p.Qa.Fb||(ee+=O.Tb)}else ee=O.Tb;for(K=0;1>=K;++K){var ne=p.gd[S][K],se=ee;if(O.Pc&&(se+=O.vd[0],K&&(se+=O.od[0])),0<(se=0>se?0:63<se?63:se)){var ae=se;0<O.wb&&(ae=4<O.wb?ae>>2:ae>>1)>9-O.wb&&(ae=9-O.wb),1>ae&&(ae=1),ne.dd=ae,ne.tc=2*se+ae,ne.ld=40<=se?2:15<=se?1:0}else ne.tc=0;ne.La=K}}}S=0}else Qi(p,6,"Frame setup failed"),S=p.a;if(S=S==0){if(S){p.$c=0,0<p.Aa||(p.Ic=XW);e:{S=p.Ic,O=4*(ae=p.za);var pe=32*ae,ke=ae+1,He=0<p.L?ae*(0<p.Aa?2:1):0,ze=(p.Aa==2?2:1)*ae;if((ne=O+832+(K=3*(16*S+Gy[p.L])/2*pe)+(ee=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=ne)S=0;else{if(ne>p.Vb){if(p.Vb=0,p.Ec=s(ne),p.Fc=0,p.Ec==null){S=Qi(p,1,"no memory during frame initialization.");break e}p.Vb=ne}ne=p.Ec,se=p.Fc,p.Ac=ne,p.Bc=se,se+=O,p.Gd=o(pe,ea),p.Hd=0,p.rb=o(ke+1,pr),p.sb=1,p.wa=He?o(He,ti):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ae),e(!0),p.oc=ne,p.pc=se,se+=832,p.ya=o(ze,Fi),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=ae),p.R=16*ae,p.B=8*ae,ae=(pe=Gy[p.L])*p.R,pe=pe/2*p.B,p.sa=ne,p.ta=se+ae,p.qa=p.sa,p.ra=p.ta+16*S*p.R+pe,p.Ha=p.qa,p.Ia=p.ra+8*S*p.B+pe,p.$c=0,se+=K,p.mb=ee?ne:null,p.nb=ee?se:null,e(se+ee<=p.Fc+p.Vb),Uu(p),r(p.Ac,p.Bc,0,O),S=1}}if(S){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!Vy){for(S=-255;255>=S;++S)Oy[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)_v[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)O0[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Ry[255+S]=0>S?0:255<S?255:S;Vy=1}la=Bc,lh=ta,fl=al,Na=ql,ec=un,ch=ws,ed=Ia,uh=cl,pl=rh,Xc=Us,Uf=qu,ca=Ma,tc=Xu,Li=Yu,Hi=ra,Cr=ro,Rr=sa,nc=so,ha[0]=ia,ha[1]=Xl,ha[2]=th,ha[3]=ll,ha[4]=nh,ha[5]=js,ha[6]=zu,ha[7]=Uc,ha[8]=Kl,ha[9]=Bf,Yc[0]=eh,Yc[1]=Jd,Yc[2]=Aa,Yc[3]=jc,Yc[4]=mr,Yc[5]=na,Yc[6]=Hu,ml[0]=bs,ml[1]=Zd,ml[2]=Do,ml[3]=Ql,ml[4]=ka,ml[5]=$u,ml[6]=ki,S=1}else S=0}S&&(S=function(Le,lt){for(Le.M=0;Le.M<Le.Va;++Le.M){var Ze,De=Le.Jc[Le.M&Le.Xb],Me=Le.m,st=Le;for(Ze=0;Ze<st.za;++Ze){var pt=Me,at=st,Ht=at.Ac,Lt=at.Bc+4*Ze,dn=at.zc,jt=at.ya[at.aa+Ze];if(at.Qa.Bb?jt.$b=Te(pt,at.Pa.jb[0])?2+Te(pt,at.Pa.jb[2]):Te(pt,at.Pa.jb[1]):jt.$b=0,at.kc&&(jt.Ad=Te(pt,at.Bd)),jt.Za=!Te(pt,145)+0,jt.Za){var xi=jt.Ob,Ni=0;for(at=0;4>at;++at){var di,ii=dn[0+at];for(di=0;4>di;++di){ii=TS[Ht[Lt+di]][ii];for(var Ji=zy[Te(pt,ii[0])];0<Ji;)Ji=zy[2*Ji+Te(pt,ii[Ji])];ii=-Ji,Ht[Lt+di]=ii}i(xi,Ni,Ht,Lt,4),Ni+=4,dn[0+at]=ii}}else ii=Te(pt,156)?Te(pt,128)?1:3:Te(pt,163)?2:0,jt.Ob[0]=ii,r(Ht,Lt,ii,4),r(dn,0,ii,4);jt.Dd=Te(pt,142)?Te(pt,114)?Te(pt,183)?1:3:2:0}if(st.m.Ka)return Qi(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(st=De,pt=(Me=Le).rb[Me.sb-1],Ht=Me.rb[Me.sb+Me.ja],Ze=Me.ya[Me.aa+Me.ja],Lt=Me.kc?Ze.Ad:0)pt.la=Ht.la=0,Ze.Za||(pt.Na=Ht.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var zi,On;if(pt=Ht,Ht=st,Lt=Me.Pa.Xc,dn=Me.ya[Me.aa+Me.ja],jt=Me.pb[dn.$b],at=dn.ad,xi=0,Ni=Me.rb[Me.sb-1],ii=di=0,r(at,xi,0,384),dn.Za)var Yr=0,fa=Lt[3];else{Ji=s(16);var Kr=pt.Na+Ni.Na;if(Kr=Zi(Ht,Lt[1],Kr,jt.Eb,0,Ji,0),pt.Na=Ni.Na=(0<Kr)+0,1<Kr)la(Ji,0,at,xi);else{var pa=Ji[0]+3>>3;for(Ji=0;256>Ji;Ji+=16)at[xi+Ji]=pa}Yr=1,fa=Lt[0]}var Oi=15&pt.la,Oa=15&Ni.la;for(Ji=0;4>Ji;++Ji){var Ra=1&Oa;for(pa=On=0;4>pa;++pa)Oi=Oi>>1|(Ra=(Kr=Zi(Ht,fa,Kr=Ra+(1&Oi),jt.Sc,Yr,at,xi))>Yr)<<7,On=On<<2|(3<Kr?3:1<Kr?2:at[xi+0]!=0),xi+=16;Oi>>=4,Oa=Oa>>1|Ra<<7,di=(di<<8|On)>>>0}for(fa=Oi,Yr=Oa>>4,zi=0;4>zi;zi+=2){for(On=0,Oi=pt.la>>4+zi,Oa=Ni.la>>4+zi,Ji=0;2>Ji;++Ji){for(Ra=1&Oa,pa=0;2>pa;++pa)Kr=Ra+(1&Oi),Oi=Oi>>1|(Ra=0<(Kr=Zi(Ht,Lt[2],Kr,jt.Qc,0,at,xi)))<<3,On=On<<2|(3<Kr?3:1<Kr?2:at[xi+0]!=0),xi+=16;Oi>>=2,Oa=Oa>>1|Ra<<5}ii|=On<<4*zi,fa|=Oi<<4<<zi,Yr|=(240&Oa)<<zi}pt.la=fa,Ni.la=Yr,dn.Hc=di,dn.Gc=ii,dn.ia=43690&ii?0:jt.ia,Lt=!(di|ii)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[Ze.$b][Ze.Za],Me.wa[Me.Y+Me.ja].La|=!Lt),st.Ka)return Qi(Le,7,"Premature end-of-file encountered.")}if(Uu(Le),Me=lt,st=1,Ze=(De=Le).D,pt=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(Ze.M=De.M,Ze.uc=pt,Or(De,Ze),st=1,Ze=(On=De.D).Nb,pt=(ii=Gy[De.L])*De.R,Ht=ii/2*De.B,Ji=16*Ze*De.R,pa=8*Ze*De.B,Lt=De.sa,dn=De.ta-pt+Ji,jt=De.qa,at=De.ra-Ht+pa,xi=De.Ha,Ni=De.Ia-Ht+pa,Oa=(Oi=On.M)==0,di=Oi>=De.Va-1,De.Aa==2&&Or(De,On),On.uc)for(Ra=(Kr=De).D.M,e(Kr.D.uc),On=Kr.yb;On<Kr.Hb;++On){Yr=On,fa=Ra;var Cs=(Gs=(Dr=Kr).D).Nb;zi=Dr.R;var Gs=Gs.wa[Gs.Y+Yr],No=Dr.sa,gl=Dr.ta+16*Cs*zi+16*Yr,Qc=Gs.dd,Ts=Gs.tc;if(Ts!=0)if(e(3<=Ts),Dr.L==1)0<Yr&&Cr(No,gl,zi,Ts+4),Gs.La&&nc(No,gl,zi,Ts),0<fa&&Hi(No,gl,zi,Ts+4),Gs.La&&Rr(No,gl,zi,Ts);else{var nd=Dr.B,zf=Dr.qa,z0=Dr.ra+8*Cs*nd+8*Yr,hh=Dr.Ha,Dr=Dr.Ia+8*Cs*nd+8*Yr;Cs=Gs.ld,0<Yr&&(uh(No,gl,zi,Ts+4,Qc,Cs),Xc(zf,z0,hh,Dr,nd,Ts+4,Qc,Cs)),Gs.La&&(ca(No,gl,zi,Ts,Qc,Cs),Li(zf,z0,hh,Dr,nd,Ts,Qc,Cs)),0<fa&&(ed(No,gl,zi,Ts+4,Qc,Cs),pl(zf,z0,hh,Dr,nd,Ts+4,Qc,Cs)),Gs.La&&(Uf(No,gl,zi,Ts,Qc,Cs),tc(zf,z0,hh,Dr,nd,Ts,Qc,Cs))}}if(De.ia&&alert("todo:DitherRow"),Me.put!=null){if(On=16*Oi,Oi=16*(Oi+1),Oa?(Me.y=De.sa,Me.O=De.ta+Ji,Me.f=De.qa,Me.N=De.ra+pa,Me.ea=De.Ha,Me.W=De.Ia+pa):(On-=ii,Me.y=Lt,Me.O=dn,Me.f=jt,Me.N=at,Me.ea=xi,Me.W=Ni),di||(Oi-=ii),Oi>Me.o&&(Oi=Me.o),Me.F=null,Me.J=null,De.Fa!=null&&0<De.Fa.length&&On<Oi&&(Me.J=oo(De,Me,On,Oi-On),Me.F=De.mb,Me.F==null&&Me.F.length==0)){st=Qi(De,3,"Could not decode alpha data.");break e}On<Me.j&&(ii=Me.j-On,On=Me.j,e(!(1&ii)),Me.O+=De.R*ii,Me.N+=De.B*(ii>>1),Me.W+=De.B*(ii>>1),Me.F!=null&&(Me.J+=Me.width*ii)),On<Oi&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=On-Me.j,Me.U=Me.va-Me.v,Me.T=Oi-On,st=Me.put(Me))}Ze+1!=De.Ic||di||(i(De.sa,De.ta-pt,Lt,dn+16*De.R,pt),i(De.qa,De.ra-Ht,jt,at+8*De.B,Ht),i(De.Ha,De.Ia-Ht,xi,Ni+8*De.B,Ht))}if(!st)return Qi(Le,6,"Output aborted.")}return 1}(p,v)),v.bc!=null&&v.bc(v),S&=1}return S?(p.cb=0,S):0}function io(p,v,S,O,K){K=p[v+S+32*O]+(K>>3),p[v+S+32*O]=-256&K?0>K?0:255:K}function Wl(p,v,S,O,K,ee){io(p,v,0,S,O+K),io(p,v,1,S,O+ee),io(p,v,2,S,O-ee),io(p,v,3,S,O-K)}function xs(p){return(20091*p>>16)+p}function ko(p,v,S,O){var K,ee=0,ne=s(16);for(K=0;4>K;++K){var se=p[v+0]+p[v+8],ae=p[v+0]-p[v+8],pe=(35468*p[v+4]>>16)-xs(p[v+12]),ke=xs(p[v+4])+(35468*p[v+12]>>16);ne[ee+0]=se+ke,ne[ee+1]=ae+pe,ne[ee+2]=ae-pe,ne[ee+3]=se-ke,ee+=4,v++}for(K=ee=0;4>K;++K)se=(p=ne[ee+0]+4)+ne[ee+8],ae=p-ne[ee+8],pe=(35468*ne[ee+4]>>16)-xs(ne[ee+12]),io(S,O,0,0,se+(ke=xs(ne[ee+4])+(35468*ne[ee+12]>>16))),io(S,O,1,0,ae+pe),io(S,O,2,0,ae-pe),io(S,O,3,0,se-ke),ee++,O+=32}function ws(p,v,S,O){var K=p[v+0]+4,ee=35468*p[v+4]>>16,ne=xs(p[v+4]),se=35468*p[v+1]>>16;Wl(S,O,0,K+ne,p=xs(p[v+1]),se),Wl(S,O,1,K+ee,p,se),Wl(S,O,2,K-ee,p,se),Wl(S,O,3,K-ne,p,se)}function ta(p,v,S,O,K){ko(p,v,S,O),K&&ko(p,v+16,S,O+4)}function al(p,v,S,O){lh(p,v+0,S,O,1),lh(p,v+32,S,O+128,1)}function ql(p,v,S,O){var K;for(p=p[v+0]+4,K=0;4>K;++K)for(v=0;4>v;++v)io(S,O,v,K,p)}function un(p,v,S,O){p[v+0]&&Na(p,v+0,S,O),p[v+16]&&Na(p,v+16,S,O+4),p[v+32]&&Na(p,v+32,S,O+128),p[v+48]&&Na(p,v+48,S,O+128+4)}function Bc(p,v,S,O){var K,ee=s(16);for(K=0;4>K;++K){var ne=p[v+0+K]+p[v+12+K],se=p[v+4+K]+p[v+8+K],ae=p[v+4+K]-p[v+8+K],pe=p[v+0+K]-p[v+12+K];ee[0+K]=ne+se,ee[8+K]=ne-se,ee[4+K]=pe+ae,ee[12+K]=pe-ae}for(K=0;4>K;++K)ne=(p=ee[0+4*K]+3)+ee[3+4*K],se=ee[1+4*K]+ee[2+4*K],ae=ee[1+4*K]-ee[2+4*K],pe=p-ee[3+4*K],S[O+0]=ne+se>>3,S[O+16]=pe+ae>>3,S[O+32]=ne-se>>3,S[O+48]=pe-ae>>3,O+=64}function Ea(p,v,S){var O,K=v-32,ee=lo,ne=255-p[K-1];for(O=0;O<S;++O){var se,ae=ee,pe=ne+p[v-1];for(se=0;se<S;++se)p[v+se]=ae[pe+p[K+se]];v+=32}}function Xl(p,v){Ea(p,v,4)}function Zd(p,v){Ea(p,v,8)}function Jd(p,v){Ea(p,v,16)}function Aa(p,v){var S;for(S=0;16>S;++S)i(p,v+32*S,p,v-32,16)}function jc(p,v){var S;for(S=16;0<S;--S)r(p,v,p[v-1],16),v+=32}function Yl(p,v,S){var O;for(O=0;16>O;++O)r(v,S+32*O,p,16)}function eh(p,v){var S,O=16;for(S=0;16>S;++S)O+=p[v-1+32*S]+p[v+S-32];Yl(O>>5,p,v)}function mr(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v-1+32*S];Yl(O>>4,p,v)}function na(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v+S-32];Yl(O>>4,p,v)}function Hu(p,v){Yl(128,p,v)}function gn(p,v,S){return p+2*v+S+2>>2}function th(p,v){var S,O=v-32;for(O=new Uint8Array([gn(p[O-1],p[O+0],p[O+1]),gn(p[O+0],p[O+1],p[O+2]),gn(p[O+1],p[O+2],p[O+3]),gn(p[O+2],p[O+3],p[O+4])]),S=0;4>S;++S)i(p,v+32*S,O,0,O.length)}function ll(p,v){var S=p[v-1],O=p[v-1+32],K=p[v-1+64],ee=p[v-1+96];Fe(p,v+0,16843009*gn(p[v-1-32],S,O)),Fe(p,v+32,16843009*gn(S,O,K)),Fe(p,v+64,16843009*gn(O,K,ee)),Fe(p,v+96,16843009*gn(K,ee,ee))}function ia(p,v){var S,O=4;for(S=0;4>S;++S)O+=p[v+S-32]+p[v-1+32*S];for(O>>=3,S=0;4>S;++S)r(p,v+32*S,O,4)}function nh(p,v){var S=p[v-1+0],O=p[v-1+32],K=p[v-1+64],ee=p[v-1-32],ne=p[v+0-32],se=p[v+1-32],ae=p[v+2-32],pe=p[v+3-32];p[v+0+96]=gn(O,K,p[v-1+96]),p[v+1+96]=p[v+0+64]=gn(S,O,K),p[v+2+96]=p[v+1+64]=p[v+0+32]=gn(ee,S,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=gn(ne,ee,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=gn(se,ne,ee),p[v+3+32]=p[v+2+0]=gn(ae,se,ne),p[v+3+0]=gn(pe,ae,se)}function zu(p,v){var S=p[v+1-32],O=p[v+2-32],K=p[v+3-32],ee=p[v+4-32],ne=p[v+5-32],se=p[v+6-32],ae=p[v+7-32];p[v+0+0]=gn(p[v+0-32],S,O),p[v+1+0]=p[v+0+32]=gn(S,O,K),p[v+2+0]=p[v+1+32]=p[v+0+64]=gn(O,K,ee),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=gn(K,ee,ne),p[v+3+32]=p[v+2+64]=p[v+1+96]=gn(ee,ne,se),p[v+3+64]=p[v+2+96]=gn(ne,se,ae),p[v+3+96]=gn(se,ae,ae)}function js(p,v){var S=p[v-1+0],O=p[v-1+32],K=p[v-1+64],ee=p[v-1-32],ne=p[v+0-32],se=p[v+1-32],ae=p[v+2-32],pe=p[v+3-32];p[v+0+0]=p[v+1+64]=ee+ne+1>>1,p[v+1+0]=p[v+2+64]=ne+se+1>>1,p[v+2+0]=p[v+3+64]=se+ae+1>>1,p[v+3+0]=ae+pe+1>>1,p[v+0+96]=gn(K,O,S),p[v+0+64]=gn(O,S,ee),p[v+0+32]=p[v+1+96]=gn(S,ee,ne),p[v+1+32]=p[v+2+96]=gn(ee,ne,se),p[v+2+32]=p[v+3+96]=gn(ne,se,ae),p[v+3+32]=gn(se,ae,pe)}function Uc(p,v){var S=p[v+0-32],O=p[v+1-32],K=p[v+2-32],ee=p[v+3-32],ne=p[v+4-32],se=p[v+5-32],ae=p[v+6-32],pe=p[v+7-32];p[v+0+0]=S+O+1>>1,p[v+1+0]=p[v+0+64]=O+K+1>>1,p[v+2+0]=p[v+1+64]=K+ee+1>>1,p[v+3+0]=p[v+2+64]=ee+ne+1>>1,p[v+0+32]=gn(S,O,K),p[v+1+32]=p[v+0+96]=gn(O,K,ee),p[v+2+32]=p[v+1+96]=gn(K,ee,ne),p[v+3+32]=p[v+2+96]=gn(ee,ne,se),p[v+3+64]=gn(ne,se,ae),p[v+3+96]=gn(se,ae,pe)}function Bf(p,v){var S=p[v-1+0],O=p[v-1+32],K=p[v-1+64],ee=p[v-1+96];p[v+0+0]=S+O+1>>1,p[v+2+0]=p[v+0+32]=O+K+1>>1,p[v+2+32]=p[v+0+64]=K+ee+1>>1,p[v+1+0]=gn(S,O,K),p[v+3+0]=p[v+1+32]=gn(O,K,ee),p[v+3+32]=p[v+1+64]=gn(K,ee,ee),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=ee}function Kl(p,v){var S=p[v-1+0],O=p[v-1+32],K=p[v-1+64],ee=p[v-1+96],ne=p[v-1-32],se=p[v+0-32],ae=p[v+1-32],pe=p[v+2-32];p[v+0+0]=p[v+2+32]=S+ne+1>>1,p[v+0+32]=p[v+2+64]=O+S+1>>1,p[v+0+64]=p[v+2+96]=K+O+1>>1,p[v+0+96]=ee+K+1>>1,p[v+3+0]=gn(se,ae,pe),p[v+2+0]=gn(ne,se,ae),p[v+1+0]=p[v+3+32]=gn(S,ne,se),p[v+1+32]=p[v+3+64]=gn(O,S,ne),p[v+1+64]=p[v+3+96]=gn(K,O,S),p[v+1+96]=gn(ee,K,O)}function Do(p,v){var S;for(S=0;8>S;++S)i(p,v+32*S,p,v-32,8)}function Ql(p,v){var S;for(S=0;8>S;++S)r(p,v,p[v-1],8),v+=32}function Io(p,v,S){var O;for(O=0;8>O;++O)r(v,S+32*O,p,8)}function bs(p,v){var S,O=8;for(S=0;8>S;++S)O+=p[v+S-32]+p[v-1+32*S];Io(O>>4,p,v)}function $u(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v+S-32];Io(O>>3,p,v)}function ka(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v-1+32*S];Io(O>>3,p,v)}function ki(p,v){Io(128,p,v)}function Hc(p,v,S){var O=p[v-S],K=p[v+0],ee=3*(K-O)+yv[1020+p[v-2*S]-p[v+S]],ne=R0[112+(ee+4>>3)];p[v-S]=lo[255+O+R0[112+(ee+3>>3)]],p[v+0]=lo[255+K-ne]}function ih(p,v,S,O){var K=p[v+0],ee=p[v+S];return ua[255+p[v-2*S]-p[v-S]]>O||ua[255+ee-K]>O}function Gu(p,v,S,O){return 4*ua[255+p[v-S]-p[v+0]]+ua[255+p[v-2*S]-p[v+S]]<=O}function Wu(p,v,S,O,K){var ee=p[v-3*S],ne=p[v-2*S],se=p[v-S],ae=p[v+0],pe=p[v+S],ke=p[v+2*S],He=p[v+3*S];return 4*ua[255+se-ae]+ua[255+ne-pe]>O?0:ua[255+p[v-4*S]-ee]<=K&&ua[255+ee-ne]<=K&&ua[255+ne-se]<=K&&ua[255+He-ke]<=K&&ua[255+ke-pe]<=K&&ua[255+pe-ae]<=K}function ra(p,v,S,O){var K=2*O+1;for(O=0;16>O;++O)Gu(p,v+O,S,K)&&Hc(p,v+O,S)}function ro(p,v,S,O){var K=2*O+1;for(O=0;16>O;++O)Gu(p,v+O*S,1,K)&&Hc(p,v+O*S,1)}function sa(p,v,S,O){var K;for(K=3;0<K;--K)ra(p,v+=4*S,S,O)}function so(p,v,S,O){var K;for(K=3;0<K;--K)ro(p,v+=4,S,O)}function Da(p,v,S,O,K,ee,ne,se){for(ee=2*ee+1;0<K--;){if(Wu(p,v,S,ee,ne))if(ih(p,v,S,se))Hc(p,v,S);else{var ae=p,pe=v,ke=S,He=ae[pe-2*ke],ze=ae[pe-ke],Le=ae[pe+0],lt=ae[pe+ke],Ze=ae[pe+2*ke],De=27*(st=yv[1020+3*(Le-ze)+yv[1020+He-lt]])+63>>7,Me=18*st+63>>7,st=9*st+63>>7;ae[pe-3*ke]=lo[255+ae[pe-3*ke]+st],ae[pe-2*ke]=lo[255+He+Me],ae[pe-ke]=lo[255+ze+De],ae[pe+0]=lo[255+Le-De],ae[pe+ke]=lo[255+lt-Me],ae[pe+2*ke]=lo[255+Ze-st]}v+=O}}function Mo(p,v,S,O,K,ee,ne,se){for(ee=2*ee+1;0<K--;){if(Wu(p,v,S,ee,ne))if(ih(p,v,S,se))Hc(p,v,S);else{var ae=p,pe=v,ke=S,He=ae[pe-ke],ze=ae[pe+0],Le=ae[pe+ke],lt=R0[112+((Ze=3*(ze-He))+4>>3)],Ze=R0[112+(Ze+3>>3)],De=lt+1>>1;ae[pe-2*ke]=lo[255+ae[pe-2*ke]+De],ae[pe-ke]=lo[255+He+Ze],ae[pe+0]=lo[255+ze-lt],ae[pe+ke]=lo[255+Le-De]}v+=O}}function Ia(p,v,S,O,K,ee){Da(p,v,S,1,16,O,K,ee)}function cl(p,v,S,O,K,ee){Da(p,v,1,S,16,O,K,ee)}function qu(p,v,S,O,K,ee){var ne;for(ne=3;0<ne;--ne)Mo(p,v+=4*S,S,1,16,O,K,ee)}function Ma(p,v,S,O,K,ee){var ne;for(ne=3;0<ne;--ne)Mo(p,v+=4,1,S,16,O,K,ee)}function rh(p,v,S,O,K,ee,ne,se){Da(p,v,K,1,8,ee,ne,se),Da(S,O,K,1,8,ee,ne,se)}function Us(p,v,S,O,K,ee,ne,se){Da(p,v,1,K,8,ee,ne,se),Da(S,O,1,K,8,ee,ne,se)}function Xu(p,v,S,O,K,ee,ne,se){Mo(p,v+4*K,K,1,8,ee,ne,se),Mo(S,O+4*K,K,1,8,ee,ne,se)}function Yu(p,v,S,O,K,ee,ne,se){Mo(p,v+4,1,K,8,ee,ne,se),Mo(S,O+4,1,K,8,ee,ne,se)}function Po(){this.ba=new Ai,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ui,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $c(){this.ua=0,this.Wa=new ve,this.vb=new ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function Gc(){this.xb=this.a=0,this.l=new Ao,this.ca=new Ai,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $c,this.ab=0,this.gc=o(4,Hs),this.Oc=0}function Fo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ao,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function oa(p,v,S,O,K,ee,ne){for(p=p==null?0:p[v+0],v=0;v<ne;++v)K[ee+v]=p+S[O+v]&255,p=K[ee+v]}function Wc(p,v,S,O,K,ee,ne){var se;if(p==null)oa(null,null,S,O,K,ee,ne);else for(se=0;se<ne;++se)K[ee+se]=p[v+se]+S[O+se]&255}function Pa(p,v,S,O,K,ee,ne){if(p==null)oa(null,null,S,O,K,ee,ne);else{var se,ae=p[v+0],pe=ae,ke=ae;for(se=0;se<ne;++se)pe=ke+(ae=p[v+se])-pe,ke=S[O+se]+(-256&pe?0>pe?0:255:pe)&255,pe=ae,K[ee+se]=ke}}function oo(p,v,S,O){var K=v.width,ee=v.o;if(e(p!=null&&v!=null),0>S||0>=O||S+O>ee)return null;if(!p.Cc){if(p.ga==null){var ne;if(p.ga=new Fo,(ne=p.ga==null)||(ne=v.width*v.o,e(p.Gb.length==0),p.Gb=s(ne),p.Uc=0,p.Gb==null?ne=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,ne=1),ne=!ne),!ne){ne=p.ga;var se=p.Fa,ae=p.P,pe=p.qc,ke=p.mb,He=p.nb,ze=ae+1,Le=pe-1,lt=ne.l;if(e(se!=null&&ke!=null&&v!=null),x[0]=null,x[1]=oa,x[2]=Wc,x[3]=Pa,ne.ca=ke,ne.tb=He,ne.c=v.width,ne.i=v.height,e(0<ne.c&&0<ne.i),1>=pe)v=0;else if(ne.$a=se[ae+0]>>0&3,ne.Z=se[ae+0]>>2&3,ne.Lc=se[ae+0]>>4&3,ae=se[ae+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ae)v=0;else if(lt.put=vn,lt.ac=Yi,lt.bc=Pi,lt.ma=ne,lt.width=v.width,lt.height=v.height,lt.Da=v.Da,lt.v=v.v,lt.va=v.va,lt.j=v.j,lt.o=v.o,ne.$a)e:{e(ne.$a==1),v=$e();t:for(;;){if(v==null){v=0;break e}if(e(ne!=null),ne.mc=v,v.c=ne.c,v.i=ne.i,v.l=ne.l,v.l.ma=ne,v.l.width=ne.c,v.l.height=ne.i,v.a=0,fe(v.m,se,ze,Le),!Oe(ne.c,ne.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&ce(v.s)?(ne.ic=1,se=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(se),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(ne.ic=0,v=Ve(v,ne.c)),!v))break t;v=1;break e}ne.mc=null,v=0}else v=Le>=ne.c*ne.i;ne=!v}if(ne)return null;p.ga.Lc!=1?p.Ga=0:O=ee-S}e(p.ga!=null),e(S+O<=ee);e:{if(v=(se=p.ga).c,ee=se.l.o,se.$a==0){if(ze=p.rc,Le=p.Vc,lt=p.Fa,ae=p.P+1+S*v,pe=p.mb,ke=p.nb+S*v,e(ae<=p.P+p.qc),se.Z!=0)for(e(x[se.Z]!=null),ne=0;ne<O;++ne)x[se.Z](ze,Le,lt,ae,pe,ke,v),ze=pe,Le=ke,ke+=v,ae+=v;else for(ne=0;ne<O;++ne)i(pe,ke,lt,ae,v),ze=pe,Le=ke,ke+=v,ae+=v;p.rc=ze,p.Vc=Le}else{if(e(se.mc!=null),v=S+O,e((ne=se.mc)!=null),e(v<=ne.i),ne.C>=v)v=1;else if(se.ic||Ne(),se.ic){se=ne.V,ze=ne.Ba,Le=ne.c;var Ze=ne.i,De=(lt=1,ae=ne.$/Le,pe=ne.$%Le,ke=ne.m,He=ne.s,ne.$),Me=Le*Ze,st=Le*v,pt=He.wc,at=De<st?Ki(He,pe,ae):null;e(De<=Me),e(v<=Ze),e(ce(He));t:for(;;){for(;!ke.h&&De<st;){if(pe&pt||(at=Ki(He,pe,ae)),e(at!=null),de(ke),256>(Ze=Wn(at.G[0],at.H[0],ke)))se[ze+De]=Ze,++De,++pe>=Le&&(pe=0,++ae<=v&&!(ae%16)&&me(ne,ae));else{if(!(280>Ze)){lt=0;break t}Ze=ei(Ze-256,ke);var Ht,Lt=Wn(at.G[4],at.H[4],ke);if(de(ke),!(De>=(Lt=ni(Le,Lt=ei(Lt,ke)))&&Me-De>=Ze)){lt=0;break t}for(Ht=0;Ht<Ze;++Ht)se[ze+De+Ht]=se[ze+De+Ht-Lt];for(De+=Ze,pe+=Ze;pe>=Le;)pe-=Le,++ae<=v&&!(ae%16)&&me(ne,ae);De<st&&pe&pt&&(at=Ki(He,pe,ae))}e(ke.h==j(ke))}me(ne,ae>v?v:ae);break t}!lt||ke.h&&De<Me?(lt=0,ne.a=ke.h?5:3):ne.$=De,v=lt}else v=ge(ne,ne.V,ne.Ba,ne.c,ne.i,v,Be);if(!v){O=0;break e}}S+O>=ee&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*K}function w(p,v,S,O,K,ee){for(;0<K--;){var ne,se=p,ae=v+(S?1:0),pe=p,ke=v+(S?0:3);for(ne=0;ne<O;++ne){var He=pe[ke+4*ne];He!=255&&(He*=32897,se[ae+4*ne+0]=se[ae+4*ne+0]*He>>23,se[ae+4*ne+1]=se[ae+4*ne+1]*He>>23,se[ae+4*ne+2]=se[ae+4*ne+2]*He>>23)}v+=ee}}function Y(p,v,S,O,K){for(;0<O--;){var ee;for(ee=0;ee<S;++ee){var ne=p[v+2*ee+0],se=15&(pe=p[v+2*ee+1]),ae=4369*se,pe=(240&pe|pe>>4)*ae>>16;p[v+2*ee+0]=(240&ne|ne>>4)*ae>>16&240|(15&ne|ne<<4)*ae>>16>>4&15,p[v+2*ee+1]=240&pe|se}v+=K}}function _e(p,v,S,O,K,ee,ne,se){var ae,pe,ke=255;for(pe=0;pe<K;++pe){for(ae=0;ae<O;++ae){var He=p[v+ae];ee[ne+4*ae]=He,ke&=He}v+=S,ne+=se}return ke!=255}function Ae(p,v,S,O,K){var ee;for(ee=0;ee<K;++ee)S[O+ee]=p[v+ee]>>8}function Ne(){ic=w,td=Y,N0=_e,Ny=Ae}function We(p,v,S){T[p]=function(O,K,ee,ne,se,ae,pe,ke,He,ze,Le,lt,Ze,De,Me,st,pt){var at,Ht=pt-1>>1,Lt=se[ae+0]|pe[ke+0]<<16,dn=He[ze+0]|Le[lt+0]<<16;e(O!=null);var jt=3*Lt+dn+131074>>2;for(v(O[K+0],255&jt,jt>>16,Ze,De),ee!=null&&(jt=3*dn+Lt+131074>>2,v(ee[ne+0],255&jt,jt>>16,Me,st)),at=1;at<=Ht;++at){var xi=se[ae+at]|pe[ke+at]<<16,Ni=He[ze+at]|Le[lt+at]<<16,di=Lt+xi+dn+Ni+524296,ii=di+2*(xi+dn)>>3;jt=ii+Lt>>1,Lt=(di=di+2*(Lt+Ni)>>3)+xi>>1,v(O[K+2*at-1],255&jt,jt>>16,Ze,De+(2*at-1)*S),v(O[K+2*at-0],255&Lt,Lt>>16,Ze,De+(2*at-0)*S),ee!=null&&(jt=di+dn>>1,Lt=ii+Ni>>1,v(ee[ne+2*at-1],255&jt,jt>>16,Me,st+(2*at-1)*S),v(ee[ne+2*at+0],255&Lt,Lt>>16,Me,st+(2*at+0)*S)),Lt=xi,dn=Ni}1&pt||(jt=3*Lt+dn+131074>>2,v(O[K+pt-1],255&jt,jt>>16,Ze,De+(pt-1)*S),ee!=null&&(jt=3*dn+Lt+131074>>2,v(ee[ne+pt-1],255&jt,jt>>16,Me,st+(pt-1)*S)))}}function gt(){k[V0]=H,k[B0]=Qe,k[By]=we,k[j0]=Ot,k[U0]=In,k[xv]=bn,k[jy]=yr,k[wv]=Qe,k[rc]=Ot,k[Hf]=In,k[bv]=bn}function Bt(p){return p&~jW?0>p?0:255:p>>U4}function Zt(p,v){return Bt((19077*p>>8)+(26149*v>>8)-14234)}function m(p,v,S){return Bt((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function A(p,v){return Bt((19077*p>>8)+(33050*v>>8)-17685)}function V(p,v,S,O,K){O[K+0]=Zt(p,S),O[K+1]=m(p,v,S),O[K+2]=A(p,v)}function re(p,v,S,O,K){O[K+0]=A(p,v),O[K+1]=m(p,v,S),O[K+2]=Zt(p,S)}function Ie(p,v,S,O,K){var ee=m(p,v,S);v=ee<<3&224|A(p,v)>>3,O[K+0]=248&Zt(p,S)|ee>>5,O[K+1]=v}function je(p,v,S,O,K){var ee=240&A(p,v)|15;O[K+0]=240&Zt(p,S)|m(p,v,S)>>4,O[K+1]=ee}function yt(p,v,S,O,K){O[K+0]=255,V(p,v,S,O,K+1)}function yn(p,v,S,O,K){re(p,v,S,O,K),O[K+3]=255}function gi(p,v,S,O,K){V(p,v,S,O,K),O[K+3]=255}function xn(p,v){return 0>p?0:p>v?v:p}function Di(p,v,S){T[p]=function(O,K,ee,ne,se,ae,pe,ke,He){for(var ze=ke+(-2&He)*S;ke!=ze;)v(O[K+0],ee[ne+0],se[ae+0],pe,ke),v(O[K+1],ee[ne+0],se[ae+0],pe,ke+S),K+=2,++ne,++ae,ke+=2*S;1&He&&v(O[K+0],ee[ne+0],se[ae+0],pe,ke)}}function _r(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lo(p,v,S,O,K){switch(p>>>30){case 3:lh(v,S,O,K,0);break;case 2:ch(v,S,O,K);break;case 1:Na(v,S,O,K)}}function Or(p,v){var S,O,K=v.M,ee=v.Nb,ne=p.oc,se=p.pc+40,ae=p.oc,pe=p.pc+584,ke=p.oc,He=p.pc+600;for(S=0;16>S;++S)ne[se+32*S-1]=129;for(S=0;8>S;++S)ae[pe+32*S-1]=129,ke[He+32*S-1]=129;for(0<K?ne[se-1-32]=ae[pe-1-32]=ke[He-1-32]=129:(r(ne,se-32-1,127,21),r(ae,pe-32-1,127,9),r(ke,He-32-1,127,9)),O=0;O<p.za;++O){var ze=v.ya[v.aa+O];if(0<O){for(S=-1;16>S;++S)i(ne,se+32*S-4,ne,se+32*S+12,4);for(S=-1;8>S;++S)i(ae,pe+32*S-4,ae,pe+32*S+4,4),i(ke,He+32*S-4,ke,He+32*S+4,4)}var Le=p.Gd,lt=p.Hd+O,Ze=ze.ad,De=ze.Hc;if(0<K&&(i(ne,se-32,Le[lt].y,0,16),i(ae,pe-32,Le[lt].f,0,8),i(ke,He-32,Le[lt].ea,0,8)),ze.Za){var Me=ne,st=se-32+16;for(0<K&&(O>=p.za-1?r(Me,st,Le[lt].y[15],4):i(Me,st,Le[lt+1].y,0,4)),S=0;4>S;S++)Me[st+128+S]=Me[st+256+S]=Me[st+384+S]=Me[st+0+S];for(S=0;16>S;++S,De<<=2)Me=ne,st=se+z4[S],ha[ze.Ob[S]](Me,st),Lo(De,Ze,16*+S,Me,st)}else if(Me=_r(O,K,ze.Ob[0]),Yc[Me](ne,se),De!=0)for(S=0;16>S;++S,De<<=2)Lo(De,Ze,16*+S,ne,se+z4[S]);for(S=ze.Gc,Me=_r(O,K,ze.Dd),ml[Me](ae,pe),ml[Me](ke,He),De=Ze,Me=ae,st=pe,255&(ze=S>>0)&&(170&ze?fl(De,256,Me,st):ec(De,256,Me,st)),ze=ke,De=He,255&(S>>=8)&&(170&S?fl(Ze,320,ze,De):ec(Ze,320,ze,De)),K<p.Ub-1&&(i(Le[lt].y,0,ne,se+480,16),i(Le[lt].f,0,ae,pe+224,8),i(Le[lt].ea,0,ke,He+224,8)),S=8*ee*p.B,Le=p.sa,lt=p.ta+16*O+16*ee*p.R,Ze=p.qa,ze=p.ra+8*O+S,De=p.Ha,Me=p.Ia+8*O+S,S=0;16>S;++S)i(Le,lt+S*p.R,ne,se+32*S,16);for(S=0;8>S;++S)i(Ze,ze+S*p.B,ae,pe+32*S,8),i(De,Me+S*p.B,ke,He+32*S,8)}}function ao(p,v,S,O,K,ee,ne,se,ae){var pe=[0],ke=[0],He=0,ze=ae!=null?ae.kd:0,Le=ae??new zc;if(p==null||12>S)return 7;Le.data=p,Le.w=v,Le.ha=S,v=[v],S=[S],Le.gb=[Le.gb];e:{var lt=v,Ze=S,De=Le.gb;if(e(p!=null),e(Ze!=null),e(De!=null),De[0]=0,12<=Ze[0]&&!n(p,lt[0],"RIFF")){if(n(p,lt[0]+8,"WEBP")){De=3;break e}var Me=bt(p,lt[0]+4);if(12>Me||4294967286<Me){De=3;break e}if(ze&&Me>Ze[0]-8){De=7;break e}De[0]=Me,lt[0]+=12,Ze[0]-=12}De=0}if(De!=0)return De;for(Me=0<Le.gb[0],S=S[0];;){e:{var st=p;Ze=v,De=S;var pt=pe,at=ke,Ht=lt=[0];if((jt=He=[He])[0]=0,8>De[0])De=7;else{if(!n(st,Ze[0],"VP8X")){if(bt(st,Ze[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Lt=bt(st,Ze[0]+8),dn=1+ot(st,Ze[0]+12);if(2147483648<=dn*(st=1+ot(st,Ze[0]+15))){De=3;break e}Ht!=null&&(Ht[0]=Lt),pt!=null&&(pt[0]=dn),at!=null&&(at[0]=st),Ze[0]+=18,De[0]-=18,jt[0]=1}De=0}}if(He=He[0],lt=lt[0],De!=0)return De;if(Ze=!!(2&lt),!Me&&He)return 3;if(ee!=null&&(ee[0]=!!(16&lt)),ne!=null&&(ne[0]=Ze),se!=null&&(se[0]=0),ne=pe[0],lt=ke[0],He&&Ze&&ae==null){De=0;break}if(4>S){De=7;break}if(Me&&He||!Me&&!He&&!n(p,v[0],"ALPH")){S=[S],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Lt=p,De=v,Me=S;var jt=Le.gb;pt=Le.na,at=Le.P,Ht=Le.Sa,dn=22,e(Lt!=null),e(Me!=null),st=De[0];var xi=Me[0];for(e(pt!=null),e(Ht!=null),pt[0]=null,at[0]=null,Ht[0]=0;;){if(De[0]=st,Me[0]=xi,8>xi){De=7;break e}var Ni=bt(Lt,st+4);if(4294967286<Ni){De=3;break e}var di=8+Ni+1&-2;if(dn+=di,0<jt&&dn>jt){De=3;break e}if(!n(Lt,st,"VP8 ")||!n(Lt,st,"VP8L")){De=0;break e}if(xi[0]<di){De=7;break e}n(Lt,st,"ALPH")||(pt[0]=Lt,at[0]=st+8,Ht[0]=Ni),st+=di,xi-=di}}if(S=S[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],De!=0)break}S=[S],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(jt=p,De=v,Me=S,pt=Le.gb[0],at=Le.Ja,Ht=Le.xa,Lt=De[0],st=!n(jt,Lt,"VP8 "),dn=!n(jt,Lt,"VP8L"),e(jt!=null),e(Me!=null),e(at!=null),e(Ht!=null),8>Me[0])De=7;else{if(st||dn){if(jt=bt(jt,Lt+4),12<=pt&&jt>pt-12){De=3;break e}if(ze&&jt>Me[0]-8){De=7;break e}at[0]=jt,De[0]+=8,Me[0]-=8,Ht[0]=dn}else Ht[0]=5<=Me[0]&&jt[Lt+0]==47&&!(jt[Lt+4]>>5),at[0]=Me[0];De=0}if(S=S[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],v=v[0],De!=0)break;if(4294967286<Le.Ja)return 3;if(se==null||Ze||(se[0]=Le.xa?2:1),ne=[ne],lt=[lt],Le.xa){if(5>S){De=7;break}se=ne,ze=lt,Ze=ee,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Me=[0],jt=[0],pt=[0],fe(at=new C,p,v,S),Kt(at,Me,jt,pt)?(se!=null&&(se[0]=Me[0]),ze!=null&&(ze[0]=jt[0]),Ze!=null&&(Ze[0]=pt[0]),p=1):p=0):p=0}else{if(10>S){De=7;break}se=lt,p==null||10>S||!Vc(p,v+3,S-3)?p=0:(ze=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ze=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Le.Ja||!Ze||!p?p=0:(ne&&(ne[0]=Ze),se&&(se[0]=p),p=1))}if(!p||(ne=ne[0],lt=lt[0],He&&(pe[0]!=ne||ke[0]!=lt)))return 3;ae!=null&&(ae[0]=Le,ae.offset=v-ae.w,e(4294967286>v-ae.w),e(ae.offset==ae.ha-S));break}return De==0||De==7&&He&&ae==null?(ee!=null&&(ee[0]|=Le.na!=null&&0<Le.na.length),O!=null&&(O[0]=ne),K!=null&&(K[0]=lt),0):De}function Zl(p,v,S){var O=v.width,K=v.height,ee=0,ne=0,se=O,ae=K;if(v.Da=p!=null&&0<p.Da,v.Da&&(se=p.cd,ae=p.bd,ee=p.v,ne=p.j,11>S||(ee&=-2,ne&=-2),0>ee||0>ne||0>=se||0>=ae||ee+se>O||ne+ae>K))return 0;if(v.v=ee,v.j=ne,v.va=ee+se,v.o=ne+ae,v.U=se,v.T=ae,v.da=p!=null&&0<p.da,v.da){if(!rt(se,ae,S=[p.ib],ee=[p.hb]))return 0;v.ib=S[0],v.hb=ee[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*K/4,v.Kb=0),1}function sh(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ku(p,v,S,O){if(O==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var K=S.cd,ee=S.bd,ne=-2&S.v,se=-2&S.j;if(0>ne||0>se||0>=K||0>=ee||ne+K>p||se+ee>v)return 2;p=K,v=ee}if(S.da){if(!rt(p,v,K=[S.ib],ee=[S.hb]))return 2;p=K[0],v=ee[0]}}O.width=p,O.height=v;e:{var ae=O.width,pe=O.height;if(p=O.S,0>=ae||0>=pe||!(p>=V0&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){ne=ee=K=v=0;var ke=(se=ae*$4[p])*pe;if(11>p||(ee=(pe+1)/2*(v=(ae+1)/2),p==12&&(ne=(K=ae)*pe)),(pe=s(ke+2*ee+ne))==null){p=1;break e}O.sd=pe,11>p?((ae=O.f.RGBA).eb=pe,ae.fb=0,ae.A=se,ae.size=ke):((ae=O.f.kb).y=pe,ae.O=0,ae.fa=se,ae.Fd=ke,ae.f=pe,ae.N=0+ke,ae.Ab=v,ae.Cd=ee,ae.ea=pe,ae.W=0+ke+ee,ae.Db=v,ae.Ed=ee,p==12&&(ae.F=pe,ae.J=0+ke+2*ee),ae.Tc=ne,ae.lb=K)}if(v=1,K=O.S,ee=O.width,ne=O.height,K>=V0&&13>K)if(11>K)p=O.f.RGBA,v&=(se=Math.abs(p.A))*(ne-1)+ee<=p.size,v&=se>=ee*$4[K],v&=p.eb!=null;else{p=O.f.kb,se=(ee+1)/2,ke=(ne+1)/2,ae=Math.abs(p.fa),pe=Math.abs(p.Ab);var He=Math.abs(p.Db),ze=Math.abs(p.lb),Le=ze*(ne-1)+ee;v&=ae*(ne-1)+ee<=p.Fd,v&=pe*(ke-1)+se<=p.Cd,v=(v&=He*(ke-1)+se<=p.Ed)&ae>=ee&pe>=se&He>=se,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,K==12&&(v&=ze>=ee,v&=Le<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=sh(O)),p}var zs=64,Qu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zu=24,Ju=32,oh=8,$s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(p){return p},T.Predictor2=function(p,v,S){return v[S+0]},T.Predictor3=function(p,v,S){return v[S+1]},T.Predictor4=function(p,v,S){return v[S-1]},T.Predictor5=function(p,v,S){return Mt(Mt(p,v[S+1]),v[S+0])},T.Predictor6=function(p,v,S){return Mt(p,v[S-1])},T.Predictor7=function(p,v,S){return Mt(p,v[S+0])},T.Predictor8=function(p,v,S){return Mt(v[S-1],v[S+0])},T.Predictor9=function(p,v,S){return Mt(v[S+0],v[S+1])},T.Predictor10=function(p,v,S){return Mt(Mt(p,v[S-1]),Mt(v[S+0],v[S+1]))},T.Predictor11=function(p,v,S){var O=v[S+0];return 0>=cn(O>>24&255,p>>24&255,(v=v[S-1])>>24&255)+cn(O>>16&255,p>>16&255,v>>16&255)+cn(O>>8&255,p>>8&255,v>>8&255)+cn(255&O,255&p,255&v)?O:p},T.Predictor12=function(p,v,S){var O=v[S+0];return(Wt((p>>24&255)+(O>>24&255)-((v=v[S-1])>>24&255))<<24|Wt((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|Wt((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|Wt((255&p)+(255&O)-(255&v)))>>>0},T.Predictor13=function(p,v,S){var O=v[S-1];return(en((p=Mt(p,v[S+0]))>>24&255,O>>24&255)<<24|en(p>>16&255,O>>16&255)<<16|en(p>>8&255,O>>8&255)<<8|en(p>>0&255,O>>0&255))>>>0};var M0=T.PredictorAdd0;T.PredictorAdd1=pn,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var ul=T.PredictorAdd2;Tn("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Tn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var P0,Fa=T.ColorIndexInverseTransform,jf=T.MapARGB,F0=T.VP8LColorIndexInverseTransformAlpha,L0=T.MapAlpha,Jl=T.VP8LPredictorsAdd=[];Jl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var aa,La,qc,dl,hl,ah,la,lh,ch,fl,Na,ec,ed,uh,pl,Xc,Uf,ca,tc,Li,Hi,Cr,Rr,nc,ic,td,N0,Ny,Oy=s(511),_v=s(2041),O0=s(225),Ry=s(767),Vy=0,yv=_v,R0=O0,lo=Ry,ua=Oy,V0=0,B0=1,By=2,j0=3,U0=4,xv=5,jy=6,wv=7,rc=8,Hf=9,bv=10,mS=[2,3,7],gS=[3,3,11],Uy=[280,256,256,256,40],vS=[0,1,1,1,0],Hy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_S=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xS=8,da=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],dh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zi=null,wS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],TS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],SS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ES=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yc=[],ha=[],ml=[],H0=1,z=2,x=[],k=[];We("UpsampleRgbLinePair",V,3),We("UpsampleBgrLinePair",re,3),We("UpsampleRgbaLinePair",gi,4),We("UpsampleBgraLinePair",yn,4),We("UpsampleArgbLinePair",yt,4),We("UpsampleRgba4444LinePair",je,2),We("UpsampleRgb565LinePair",Ie,2);var H=T.UpsampleRgbLinePair,we=T.UpsampleBgrLinePair,Qe=T.UpsampleRgbaLinePair,Ot=T.UpsampleBgraLinePair,In=T.UpsampleArgbLinePair,bn=T.UpsampleRgba4444LinePair,yr=T.UpsampleRgb565LinePair,Kc=16,$y=1<<Kc-1,Cv=-227,AS=482,U4=6,jW=(256<<U4)-1,H4=0,UW=s(256),HW=s(256),zW=s(256),$W=s(256),GW=s(AS-Cv),WW=s(AS-Cv);Di("YuvToRgbRow",V,3),Di("YuvToBgrRow",re,3),Di("YuvToRgbaRow",gi,4),Di("YuvToBgraRow",yn,4),Di("YuvToArgbRow",yt,4),Di("YuvToRgba4444Row",je,2),Di("YuvToRgb565Row",Ie,2);var z4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gy=[0,2,8],qW=[8,7,6,4,4,2,2,2,1,1,1,1],XW=1;this.WebPDecodeRGBA=function(p,v,S,O,K){var ee=B0,ne=new Po,se=new Ai;ne.ba=se,se.S=ee,se.width=[se.width],se.height=[se.height];var ae=se.width,pe=se.height,ke=new Xi;if(ke==null||p==null)var He=2;else e(ke!=null),He=ao(p,v,S,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(He!=0?ae=0:(ae!=null&&(ae[0]=ke.width[0]),pe!=null&&(pe[0]=ke.height[0]),ae=1),ae){se.width=se.width[0],se.height=se.height[0],O!=null&&(O[0]=se.width),K!=null&&(K[0]=se.height);e:{if(O=new Ao,(K=new zc).data=p,K.w=v,K.ha=S,K.kd=1,v=[0],e(K!=null),((p=ao(K.data,K.w,K.ha,null,null,null,v,null,K))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(ne!=null),O.data=K.data,O.w=K.w+K.offset,O.ha=K.ha-K.offset,O.put=vn,O.ac=Yi,O.bc=Pi,O.ma=ne,K.xa){if((p=$e())==null){ne=1;break e}if(function(ze,Le){var lt=[0],Ze=[0],De=[0];t:for(;;){if(ze==null)return 0;if(Le==null)return ze.a=2,0;if(ze.l=Le,ze.a=0,fe(ze.m,Le.data,Le.w,Le.ha),!Kt(ze.m,lt,Ze,De)){ze.a=3;break t}if(ze.xb=z,Le.width=lt[0],Le.height=Ze[0],!Oe(lt[0],Ze[0],1,ze,null))break t;return 1}return e(ze.a!=0),0}(p,O)){if(O=(v=Ku(O.width,O.height,ne.Oa,ne.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((S=O.l)!=null),e((K=S.ma)!=null),O.xb!=0){if(O.ca=K.ba,O.tb=K.tb,e(O.ca!=null),!Zl(K.Oa,S,j0)){O.a=2;break n}if(!Ve(O,S.width)||S.da)break n;if((S.da||Gn(O.ca.S))&&Ne(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ne()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Tt(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ge(O,O.V,O.Ba,O.c,O.i,S.o,he))break n;K.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new ys)==null){ne=1;break e}if(p.Fa=K.na,p.P=K.P,p.qc=K.Sa,ju(p,O)){if((v=Ku(O.width,O.height,ne.Oa,ne.ba))==0){if(p.Aa=0,S=ne.Oa,e((K=p)!=null),S!=null){if(0<(ae=0>(ae=S.Md)?0:100<ae?255:255*ae/100)){for(pe=ke=0;4>pe;++pe)12>(He=K.pb[pe]).lc&&(He.ia=ae*qW[0>He.lc?0:He.lc]>>3),ke|=He.ia;ke&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=S.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}Vf(p,O)||(v=p.a)}}else v=p.a}v==0&&ne.Oa!=null&&ne.Oa.fd&&(v=sh(ne.ba))}ne=v}ee=ne!=0?null:11>ee?se.f.RGBA.eb:se.f.kb.y}else ee=null;return ee};var $4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,L){for(var N="",D=0;D<4;D++)N+=String.fromCharCode(T[L++]);return N}function u(T,L){return(T[L+0]<<0|T[L+1]<<8|T[L+2]<<16)>>>0}function d(T,L){return(T[L+0]<<0|T[L+1]<<8|T[L+2]<<16|T[L+3]<<24)>>>0}new l;var f=[0],h=[0],_=[],g=new l,y=t,b=function(T,L){var N={},D=0,M=!1,R=0,Q=0;if(N.frames=[],!function(q,j,X,de){for(var xe=0;xe<de;xe++)if(q[j+xe]!=X.charCodeAt(xe))return!0;return!1}(T,L,"RIFF",4)){var oe,le;for(d(T,L+=4),L+=8;L<T.length;){var ie=c(T,L),fe=d(T,L+=4);L+=4;var be=fe+(1&fe);switch(ie){case"VP8 ":case"VP8L":N.frames[D]===void 0&&(N.frames[D]={}),(C=N.frames[D]).src_off=M?Q:L-8,C.src_size=R+fe+8,D++,M&&(M=!1,R=0,Q=0);break;case"VP8X":(C=N.header={}).feature_flags=T[L];var Ce=L+4;C.canvas_width=1+u(T,Ce),Ce+=3,C.canvas_height=1+u(T,Ce),Ce+=3;break;case"ALPH":M=!0,R=be+8,Q=L-8;break;case"ANIM":(C=N.header).bgcolor=d(T,L),Ce=L+4,C.loop_count=(oe=T)[(le=Ce)+0]<<0|oe[le+1]<<8,Ce+=2;break;case"ANMF":var Ue,C;(C=N.frames[D]={}).offset_x=2*u(T,L),L+=3,C.offset_y=2*u(T,L),L+=3,C.width=1+u(T,L),L+=3,C.height=1+u(T,L),L+=3,C.duration=u(T,L),L+=3,Ue=T[L++],C.dispose=1&Ue,C.blend=Ue>>1&1}ie!="ANMF"&&(L+=be)}return N}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var E=b.header?b.header:null,F=b.frames?b.frames:null;if(E){E.loop_counter=E.loop_count,f=[E.canvas_height],h=[E.canvas_width];for(var U=0;U<F.length&&F[U].blend!=0;U++);}var W=F[0],te=g.WebPDecodeRGBA(y,W.src_off,W.src_size,h,f);W.rgba=te,W.imgwidth=h[0],W.imgheight=f[0];for(var I=0;I<h[0]*f[0]*4;I++)_[I]=te[I];return this.width=h,this.height=f,this.data=_,this}var _n,lr,ry,kF,d0,BH,wve,jH,Nr,LF,v0,sv,Pn,Tf,Ta,HH,Lu,bve,Cve,Tve,Wr,qr,Xr,Sve,Eve,MF,hT,Ave,kve,Dve,Ive,rz,SF,Nu,sz,oz,Lc,f0,p0,m0,sy,ps,oy,g0,mT,ay,Af,ly,Yt,Mve,Pve,lz,cz,PF,uz,Fve,Lve,$H,fT,qH,XH,EF,ov,pT,YH,KH,QH,Vve,Nc,kf,jve,Uve,Ou,Hve,ez,dz,zve,$ve,Gve,Wve,qve,Xve,Yve,hz,Kve,Qve,Zve,Jve,e1e,il,Gd=a3(()=>{"use strict";aq();RH();_n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();lr={log:bF,warn:function(t){_n.console&&(typeof _n.console.warn=="function"?_n.console.warn.apply(_n.console,arguments):bF.call(null,arguments))},error:function(t){_n.console&&(typeof _n.console.error=="function"?_n.console.error.apply(_n.console,arguments):bF(t))}};d0=_n.saveAs||((typeof window>"u"?"undefined":$i(window))!=="object"||window!==_n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=_n.URL||_n.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?VH(r.href)?CF(t,e,n):dT(r,r.target="_blank"):dT(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){dT(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(VH(t))CF(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){dT(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:$i(s)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return CF(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(_n.HTMLElement)||_n.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":$i(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(t)}else{var l=_n.URL||_n.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});ry=_n.atob.bind(_n),kF=_n.btoa.bind(_n);BH="0123456789abcdef".split("");wve=function(t){for(var e=0;e<t.length;e++)t[e]=yve(t[e]);return t.join("")}(nz("hello"))!="5d41402abc4b2a76b9719d911017c592";jH={print:4,modify:8,copy:16,"annot-forms":32};av.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},av.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},av.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},av.prototype.processOwnerPassword=function(t,e){return IF(DF(e).substr(0,5),t)},av.prototype.encryptor=function(t,e){var n=DF(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return IF(n,i)}},cy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||$i(t)!==$i(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},mn.API={events:[]},mn.version="2.5.1";Nr=mn.API,LF=1,v0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sv=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pn=function(t){return t.toFixed(2)},Tf=function(t){return t.toFixed(5)};Nr.__acroform__={};Ta=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},HH=function(t){return t*LF},Lu=function(t){var e=new sz,n=Yt.internal.getHeight(t)||0,i=Yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Pn(i)),Number(Pn(n))],e},bve=Nr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Cve=Nr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Tve=Nr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Wr=Nr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tve(t,e-1)},qr=Nr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bve(t,e-1)},Xr=Nr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cve(t,e-1)},Sve=Nr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(Pn(l.lowerLeft_X)),Number(Pn(l.lowerLeft_Y)),Number(Pn(l.upperRight_X)),Number(Pn(l.upperRight_Y))]},Eve=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=MF(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Pn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Lu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},MF=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(D){return D.split(`
`)}):r.map(function(D){return[D]});var s=n,o=Yt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Yt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(D,M,R){if(D+1<r.length){var Q=M+" "+r[D+1][0];return hT(Q,t,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=hT("3",t,s).height,f=t.multiline?o-s:(o-d)/2,h=f+=2,_=0,g=0,y=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+hT(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",E=0,F=0;F<r.length;F++)if(r.hasOwnProperty(F)){var U=!1;if(r[F].length!==1&&y!==r[F].length-1){if((d+2)*(E+2)+2>o)continue e;b+=r[F][y],U=!0,g=F,F--}else{b=(b+=r[F][y]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var W=parseInt(F),te=l(W,b,s),I=F>=r.length-1;if(te&&!I){b+=" ",y=0;continue}if(te||I){if(I)g=W;else if(t.multiline&&(d+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(E+2)+2>o)continue e;g=W}}for(var T="",L=_;L<=g;L++){var N=r[L];if(t.multiline){if(L===g){T+=N[y]+" ",y=(y+1)%N.length;continue}if(L===_){T+=N[N.length-1]+" ";continue}}T+=N[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,u=hT(T,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Pn(c)+" "+Pn(h)+` Td
`,e+="("+v0(T)+`) Tj
`,e+=-Pn(c)+` 0 Td
`,h=-(s+2),u=0,_=U?g:g+1,E++,b=""}break}return i.text=e,i.fontSize=s,i},hT=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},Ave={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kve=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Dve=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,r=t[n];e.internal.newObjectDeferredBegin(r.objId,!0),$i(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete t[i]}},Ive=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Lc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ave)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LF=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new oz,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&kve(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Sve(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Yt.createDefaultAppearanceStream(a),$i(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Eve(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var _=h[o];typeof _=="function"&&(_=_.call(r,a)),d+="/"+o+" "+_+" ",r.internal.acroformPlugin.xForms.indexOf(_)>=0||r.internal.acroformPlugin.xForms.push(_)}}else typeof(_=h)=="function"&&(_=_.call(r,a)),d+="/"+o+" "+_,r.internal.acroformPlugin.xForms.indexOf(_)>=0||r.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&Dve(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},rz=Nr.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(o){return o};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),$i(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+v0(i(t[s].toString()))+")"):r+=t[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SF=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+v0(i(t))+")"},Nu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nu.prototype.toString=function(){return this.objId+" 0 R"},Nu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Nu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:rz(r,this.objId,this.scope)}):r instanceof Nu?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};sz=function(){Nu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ta(sz,Nu);oz=function(){Nu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+v0(n(t))+")"}},set:function(n){t=n}})};Ta(oz,Nu);Lc=function t(){Nu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wr(e,3)},set:function(b){b?this.F=qr(e,3):this.F=Xr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof mT)return;s="FieldObject"+t.FieldNum++}var b=function(E){return E};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+v0(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/LF:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof mT||this instanceof Af))return SF(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ps?f:SF(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof ps?b:b.substr(0,1)==="("?sv(b.substr(1,b.length-2)):sv(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ps?sv(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof ps?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ps?h:SF(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof ps?b:b.substr(0,1)==="("?sv(b.substr(1,b.length-2)):sv(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ps?sv(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ps?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(b){_=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,1)},set:function(b){b?this.Ff=qr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,2)},set:function(b){b?this.Ff=qr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,3)},set:function(b){b?this.Ff=qr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');y=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(y){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Ta(Lc,Nu);f0=function(){Lc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rz(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,18)},set:function(n){n?this.Ff=qr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=qr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,20)},set:function(n){n?(this.Ff=qr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,22)},set:function(n){n?this.Ff=qr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(n){n?this.Ff=qr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,27)},set:function(n){n?this.Ff=qr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ta(f0,Lc);p0=function(){f0.call(this),this.fontName="helvetica",this.combo=!1};Ta(p0,f0);m0=function(){p0.call(this),this.combo=!0};Ta(m0,p0);sy=function(){m0.call(this),this.edit=!0};Ta(sy,m0);ps=function(){Lc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,15)},set:function(n){n?this.Ff=qr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,16)},set:function(n){n?this.Ff=qr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,17)},set:function(n){n?this.Ff=qr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(n){n?this.Ff=qr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+v0(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){$i(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ta(ps,Lc);oy=function(){ps.call(this),this.pushButton=!0};Ta(oy,ps);g0=function(){ps.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ta(g0,ps);mT=function(){var t,e;Lc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+v0(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){$i(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ta(mT,Lc),g0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},g0.prototype.createOption=function(t){var e=new mT;return e.Parent=this,e.optionName=t,this.Kids.push(e),Mve.call(this.scope,e),e};ay=function(){ps.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};Ta(ay,ps);Af=function(){Lc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,13)},set:function(e){e?this.Ff=qr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,21)},set:function(e){e?this.Ff=qr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(e){e?this.Ff=qr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,24)},set:function(e){e?this.Ff=qr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,25)},set:function(e){e?this.Ff=qr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(e){e?this.Ff=qr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ta(Af,Lc);ly=function(){Af.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,14)},set:function(t){t?this.Ff=qr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};Ta(ly,Af);Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=MF(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Pn(Yt.internal.getWidth(t))+" "+Pn(Yt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Pn(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=Yt.internal.getHeight(t),o=Yt.internal.getWidth(t),a=MF(t,t.caption);return r.push("1 g"),r.push("0 0 "+Pn(o)+" "+Pn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Pn(o-1)+" "+Pn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Pn(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pn(Yt.internal.getWidth(t))+" "+Pn(Yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Yt.RadioButton.Circle.YesNormal,e.D[t]=Yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var n=[],i=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Yt.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Tf(Yt.internal.getWidth(t)/2)+" "+Tf(Yt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=[],i=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Yt.internal.Bezier_C).toFixed(5)),o=Number((i*Yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Tf(Yt.internal.getWidth(t)/2)+" "+Tf(Yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Tf(Yt.internal.getWidth(t)/2)+" "+Tf(Yt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=[],i=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Tf(Yt.internal.getWidth(t)/2)+" "+Tf(Yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Yt.RadioButton.Cross.YesNormal,e.D[t]=Yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var n=[],i=Yt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Pn(Yt.internal.getWidth(t)-2)+" "+Pn(Yt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pn(i.x1.x)+" "+Pn(i.x1.y)+" m"),n.push(Pn(i.x2.x)+" "+Pn(i.x2.y)+" l"),n.push(Pn(i.x4.x)+" "+Pn(i.x4.y)+" m"),n.push(Pn(i.x3.x)+" "+Pn(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=Yt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Pn(Yt.internal.getWidth(t))+" "+Pn(Yt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Pn(Yt.internal.getWidth(t)-2)+" "+Pn(Yt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Pn(n.x1.x)+" "+Pn(n.x1.y)+" m"),i.push(Pn(n.x2.x)+" "+Pn(n.x2.y)+" l"),i.push(Pn(n.x4.x)+" "+Pn(n.x4.y)+" m"),i.push(Pn(n.x3.x)+" "+Pn(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pn(Yt.internal.getWidth(t))+" "+Pn(Yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Yt.internal.getWidth(t),n=Yt.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Yt.internal.getWidth=function(t){var e=0;return $i(t)==="object"&&(e=HH(t.Rect[2])),e},Yt.internal.getHeight=function(t){var e=0;return $i(t)==="object"&&(e=HH(t.Rect[3])),e};Mve=Nr.addField=function(t){if(Ive(this,t),!(t instanceof Lc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Nr.AcroFormChoiceField=f0,Nr.AcroFormListBox=p0,Nr.AcroFormComboBox=m0,Nr.AcroFormEditBox=sy,Nr.AcroFormButton=ps,Nr.AcroFormPushButton=oy,Nr.AcroFormRadioButton=g0,Nr.AcroFormCheckBox=ay,Nr.AcroFormTextField=Af,Nr.AcroFormPasswordField=ly,Nr.AcroFormAppearance=Yt,Nr.AcroForm={ChoiceField:f0,ListBox:p0,ComboBox:m0,EditBox:sy,Button:ps,PushButton:oy,RadioButton:g0,CheckBox:ay,TextField:Af,PasswordField:ly,Appearance:Yt},mn.AcroForm={ChoiceField:f0,ListBox:p0,ComboBox:m0,EditBox:sy,Button:ps,PushButton:oy,RadioButton:g0,CheckBox:ay,TextField:Af,PasswordField:ly,Appearance:Yt};Pve=mn.AcroForm;(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(D,M){var R,Q,oe,le,ie,fe=e;if((M=M||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(te(D))for(ie in n)for(oe=n[ie],R=0;R<oe.length;R+=1){for(le=!0,Q=0;Q<oe[R].length;Q+=1)if(oe[R][Q]!==void 0&&oe[R][Q]!==D[Q]){le=!1;break}if(le===!0){fe=ie;break}}else for(ie in n)for(oe=n[ie],R=0;R<oe.length;R+=1){for(le=!0,Q=0;Q<oe[R].length;Q+=1)if(oe[R][Q]!==void 0&&oe[R][Q]!==D.charCodeAt(Q)){le=!1;break}if(le===!0){fe=ie;break}}return fe===e&&M!==e&&(fe=M),fe},r=function D(M){for(var R=this.internal.write,Q=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:M.width}),le.push({key:"Height",value:M.height}),M.colorSpace===y.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===y.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var ie="",fe=0,be=M.transparency.length;fe<be;fe++)ie+=M.transparency[fe]+" "+M.transparency[fe]+" ";le.push({key:"Mask",value:"["+ie+"]"})}M.sMask!==void 0&&le.push({key:"SMask",value:M.objectId+1+" 0 R"});var Ce=M.filter!==void 0?["/"+M.filter]:void 0;if(Q({data:M.data,additionalKeyValues:le,alreadyAppliedFilters:Ce,objectId:M.objectId}),R("endobj"),"sMask"in M&&M.sMask!==void 0){var Ue="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,C={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:Ue,data:M.sMask};"filter"in M&&(C.filter=M.filter),D.call(this,C)}if(M.colorSpace===y.INDEXED){var q=this.internal.newObject();Q({data:T(new Uint8Array(M.palette)),objectId:q}),R("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var M in D)r.call(this,D[M])},o=function(){var D,M=this.internal.collections.addImage_images,R=this.internal.write;for(var Q in M)R("/I"+(D=M[Q]).index,D.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var D=this.internal.collections.addImage_images;return a.call(this),D},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(D){return typeof t["process"+D.toUpperCase()]=="function"},d=function(D){return $i(D)==="object"&&D.nodeType===1},f=function(D,M){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var R=""+D.getAttribute("src");if(R.indexOf("data:image/")===0)return ry(unescape(R).split("base64,").pop());var Q=t.loadFile(R,!0);if(Q!==void 0)return Q}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var oe;switch(M){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return ry(D.toDataURL(oe,1).split("base64,").pop())}},h=function(D){var M=this.internal.collections.addImage_images;if(M){for(var R in M)if(D===M[R].alias)return M[R]}},_=function(D,M,R){return D||M||(D=-96,M=-96),D<0&&(D=-1*R.width*72/D/this.internal.scaleFactor),M<0&&(M=-1*R.height*72/M/this.internal.scaleFactor),D===0&&(D=M*R.width/R.height),M===0&&(M=D*R.height/R.width),[D,M]},g=function(D,M,R,Q,oe,le){var ie=_.call(this,R,Q,oe),fe=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Ce=l.call(this);if(R=ie[0],Q=ie[1],Ce[oe.index]=oe,le){le*=Math.PI/180;var Ue=Math.cos(le),C=Math.sin(le),q=function(X){return X.toFixed(4)},j=[q(Ue),q(C),q(-1*C),q(Ue),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,fe(D),be(M+Q),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([fe(R),"0","0",fe(Q),"0","0","cm"].join(" "))):this.internal.write([fe(R),"0","0",fe(Q),fe(D),be(M+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(D){var M,R,Q=0;if(typeof D=="string")for(R=D.length,M=0;M<R;M++)Q=(Q<<5)-Q+D.charCodeAt(M),Q|=0;else if(te(D))for(R=D.byteLength/2,M=0;M<R;M++)Q=(Q<<5)-Q+D[M],Q|=0;return Q},F=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var M=!0;return D.length===0&&(M=!1),D.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(M=!1),M},U=t.__addimage__.extractImageFromDataUrl=function(D){var M=(D=D||"").split("base64,"),R=null;if(M.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(Q)&&(R={mimeType:Q[1],charset:Q[2],data:M[1]})}return R},W=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return W()&&D instanceof ArrayBuffer};var te=t.__addimage__.isArrayBufferView=function(D){return W()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(D){for(var M=D.length,R=new Uint8Array(M),Q=0;Q<M;Q++)R[Q]=D.charCodeAt(Q);return R},T=t.__addimage__.arrayBufferToBinaryString=function(D){for(var M="",R=te(D)?D:new Uint8Array(D),Q=0;Q<R.length;Q+=8192)M+=String.fromCharCode.apply(null,R.subarray(Q,Q+8192));return M};t.addImage=function(){var D,M,R,Q,oe,le,ie,fe,be;if(typeof arguments[1]=="number"?(M=e,R=arguments[1],Q=arguments[2],oe=arguments[3],le=arguments[4],ie=arguments[5],fe=arguments[6],be=arguments[7]):(M=arguments[1],R=arguments[2],Q=arguments[3],oe=arguments[4],le=arguments[5],ie=arguments[6],fe=arguments[7],be=arguments[8]),$i(D=arguments[0])==="object"&&!d(D)&&"imageData"in D){var Ce=D;D=Ce.imageData,M=Ce.format||M||e,R=Ce.x||R||0,Q=Ce.y||Q||0,oe=Ce.w||Ce.width||oe,le=Ce.h||Ce.height||le,ie=Ce.alias||ie,fe=Ce.compression||fe,be=Ce.rotation||Ce.angle||be}var Ue=this.internal.getFilters();if(fe===void 0&&Ue.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(R)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var C=L.call(this,D,M,ie,fe);return g.call(this,R,Q,oe,le,C,be),this};var L=function(D,M,R,Q){var oe,le,ie;if(typeof D=="string"&&i(D)===e){D=unescape(D);var fe=N(D,!1);(fe!==""||(fe=t.loadFile(D,!0))!==void 0)&&(D=fe)}if(d(D)&&(D=f(D,M)),M=i(D,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ie=R)==null||ie.length===0)&&(R=function(be){return typeof be=="string"||te(be)?E(be):te(be.data)?E(be.data):null}(D)),(oe=h.call(this,R))||(W()&&(D instanceof Uint8Array||M==="RGBA"||(le=D,D=I(D))),oe=this["process"+M.toUpperCase()](D,c.call(this),R,function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in t.image_compression?be:b.NONE}(Q),le)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},N=t.__addimage__.convertBase64ToBinaryString=function(D,M){var R;M=typeof M!="boolean"||M;var Q,oe="";if(typeof D=="string"){Q=(R=U(D))!==null?R.data:D;try{oe=ry(Q)}catch(le){if(M)throw F(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(D){var M,R,Q="";if(d(D)&&(D=f(D)),typeof D=="string"&&i(D)===e&&((Q=N(D,!1))===""&&(Q=t.loadFile(D)||""),D=Q),R=i(D),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!W()||D instanceof Uint8Array||(D=I(D)),!(M=this["process"+R.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=R,M}})(mn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){i=c[f];var h=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),E=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+h(b(i.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(b(E))+") >>",g.content=s;var F=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+F,i.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var U=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(_(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var W=this.annotations._nameMap[i.options.name];i.options.pageNumber=W.page,i.options.top=W.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(_(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var te=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+te+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:o,type:"link"})},t.textWithLink=function(n,i,r,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,a,o,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(mn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&r.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(g){var y=0,b=n,E="",F=0;for(y=0;y<g.length;y+=1)b[g.charCodeAt(y)]!==void 0?(F++,typeof(b=b[g.charCodeAt(y)])=="number"&&(E+=String.fromCharCode(b),b=n,F=0),y===g.length-1&&(b=n,E+=g.charAt(y-(F-1)),y-=F-1,F=0)):(b=n,E+=g.charAt(y-F),y-=F,F=0);return E};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&i[g.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(g,y,b){return o(g)?s(g)===!1?-1:!c(g)||!o(y)&&!o(b)||!o(b)&&a(y)||a(g)&&!o(y)||a(g)&&l(y)||a(g)&&a(y)?0:u(g)&&o(y)&&!a(y)&&o(b)&&c(b)?3:a(g)||!o(b)?1:2:-1},h=function(g){var y=0,b=0,E=0,F="",U="",W="",te=(g=g||"").split("\\s+"),I=[];for(y=0;y<te.length;y+=1){for(I.push(""),b=0;b<te[y].length;b+=1)F=te[y][b],U=te[y][b-1],W=te[y][b+1],o(F)?(E=f(F,U,W),I[y]+=E!==-1?String.fromCharCode(e[F.charCodeAt(0)][E]):F):I[y]+=F;I[y]=d(I[y])}return I.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(y)){var E=0;for(b=[],E=0;E<y.length;E+=1)Array.isArray(y[E])?b.push([h(y[E][0]),y[E][1],y[E][2]]):b.push([h(y[E])]);g=b}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",_])}(mn.API),mn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(g){_=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,_=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(F,U){return F.concat(y.splitTextToSize(U,b))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)h<(g=this.getStringUnitWidth(l[E],{font:d})*u)&&(h=g);return h!==0&&(_=l.length),{w:h/=f,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(i.call(this),!u)throw new Error("No data for PDF table.");var h,_,g,y,b=[],E=[],F=[],U={},W={},te=[],I=[],T=(f=f||{}).autoSize||!1,L=f.printHeaders!==!1,N=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,D=f.margins||Object.assign({width:this.getPageWidth()},e),M=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",Q=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=Q,this.setFontSize(N),d==null)E=b=Object.keys(u[0]),F=b.map(function(){return"left"});else if(Array.isArray(d)&&$i(d[0])==="object")for(b=d.map(function(Ce){return Ce.name}),E=d.map(function(Ce){return Ce.prompt||Ce.name||""}),F=d.map(function(Ce){return Ce.align||"left"}),h=0;h<d.length;h+=1)W[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(E=b=d,F=b.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<b.length;h+=1){for(U[y=b[h]]=u.map(function(Ce){return Ce[y]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=U[y],this.setFont(void 0,"normal"),g=0;g<_.length;g+=1)te.push(this.getTextDimensions(_[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[y]=Math.max.apply(null,te)+M+M,te=[]}if(L){var oe={};for(h=0;h<b.length;h+=1)oe[b[h]]={},oe[b[h]].text=E[h],oe[b[h]].align=F[h];var le=a.call(this,oe,W);I=b.map(function(Ce){return new s(l,c,W[Ce],le,oe[Ce].text,void 0,oe[Ce].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ie=d.reduce(function(Ce,Ue){return Ce[Ue.name]=Ue.align,Ce},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var fe=a.call(this,u[h],W);for(g=0;g<b.length;g+=1){var be=u[h][b[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:g,data:be},this),o.call(this,new s(l,c,W[b[g]],fe,be,h+2,ie[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var _=l[h];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,_){return Math.max(h,_)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(_)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(mn.API);lz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PF=az(cz),uz=[100,200,300,400,500,600,700,800,900],Fve=az(uz);Lve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$H={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};EF=["times"];(function(t){var e,n,i,r,s,o,a,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=C;Object.defineProperty(this,"pdf",{get:function(){return q}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(Ge){j=!!Ge}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ge){X=!!Ge}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Ge){isNaN(Ge)||(de=Ge)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Ge){isNaN(Ge)||(xe=Ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ge){var ve;typeof Ge=="number"?ve=[Ge,Ge,Ge,Ge]:((ve=new Array(4))[0]=Ge[0],ve[1]=Ge.length>=2?Ge[1]:ve[0],ve[2]=Ge.length>=3?Ge[2]:ve[0],ve[3]=Ge.length>=4?Ge[3]:ve[1]),c.margin=ve}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Ge){Ee=Ge}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Ge){Te=Ge}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Ge){Fe=Ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ge){Ge instanceof u&&(c=Ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ge){c.path=Ge}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(Ge){et=Ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ge){var ve;ve=f(Ge),this.ctx.fillStyle=ve.style,this.ctx.isFillTransparent=ve.a===0,this.ctx.fillOpacity=ve.a,this.pdf.setFillColor(ve.r,ve.g,ve.b,{a:ve.a}),this.pdf.setTextColor(ve.r,ve.g,ve.b,{a:ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ge){var ve=f(Ge);this.ctx.strokeStyle=ve.style,this.ctx.isStrokeTransparent=ve.a===0,this.ctx.strokeOpacity=ve.a,ve.a===0?this.pdf.setDrawColor(255,255,255):(ve.a,this.pdf.setDrawColor(ve.r,ve.g,ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ge){["butt","round","square"].indexOf(Ge)!==-1&&(this.ctx.lineCap=Ge,this.pdf.setLineCap(Ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ge){isNaN(Ge)||(this.ctx.lineWidth=Ge,this.pdf.setLineWidth(Ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ge){["bevel","round","miter"].indexOf(Ge)!==-1&&(this.ctx.lineJoin=Ge,this.pdf.setLineJoin(Ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ge){isNaN(Ge)||(this.ctx.miterLimit=Ge,this.pdf.setMiterLimit(Ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ge){this.ctx.textBaseline=Ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ge){["right","end","center","left","start"].indexOf(Ge)!==-1&&(this.ctx.textAlign=Ge)}});var ot=null;function bt(Ge,ve){if(ot===null){var rt=function(St){var Ke=[];return Object.keys(St).forEach(function(xt){St[xt].forEach(function(kt){var Mt=null;switch(kt){case"bold":Mt={family:xt,weight:"bold"};break;case"italic":Mt={family:xt,style:"italic"};break;case"bolditalic":Mt={family:xt,weight:"bold",style:"italic"};break;case"":case"normal":Mt={family:xt}}Mt!==null&&(Mt.ref={name:xt,style:kt},Ke.push(Mt))})}),Ke}(Ge.getFontList());ot=function(St){for(var Ke={},xt=0;xt<St.length;++xt){var kt=FF(St[xt]),Mt=kt.family,Wt=kt.stretch,en=kt.style,cn=kt.weight;Ke[Mt]=Ke[Mt]||{},Ke[Mt][Wt]=Ke[Mt][Wt]||{},Ke[Mt][Wt][en]=Ke[Mt][Wt][en]||{},Ke[Mt][Wt][en][cn]=kt}return Ke}(rt.concat(ve))}return ot}var Tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Tt},set:function(Ge){ot=null,Tt=Ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ge){var ve;if(this.ctx.font=Ge,(ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ge))!==null){var rt=ve[1],St=(ve[2],ve[3]),Ke=ve[4],xt=(ve[5],ve[6]),kt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(kt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:kt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Mt=function(tn){var Tn,Dt,qi=[],Dn=tn.trim();if(Dn==="")return EF;if(Dn in $H)return[$H[Dn]];for(;Dn!=="";){switch(Dt=null,Tn=(Dn=WH(Dn)).charAt(0)){case'"':case"'":Dt=Ove(Dn.substring(1),Tn);break;default:Dt=Rve(Dn)}if(Dt===null||(qi.push(Dt[0]),(Dn=WH(Dt[1]))!==""&&Dn.charAt(0)!==","))return EF;Dn=Dn.replace(/^,/,"")}return qi}(xt);if(this.fontFaces){var Wt=Nve(bt(this.pdf,this.fontFaces),Mt.map(function(tn){return{family:tn,stretch:"normal",weight:St,style:rt}}));this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var en="";(St==="bold"||parseInt(St,10)>=700||rt==="bold")&&(en="bold"),rt==="italic"&&(en+="italic"),en.length===0&&(en="normal");for(var cn="",pn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qt=0;qt<Mt.length;qt++){if(this.pdf.internal.getFont(Mt[qt],en,{noFallback:!0,disableWarning:!0})!==void 0){cn=Mt[qt];break}if(en==="bolditalic"&&this.pdf.internal.getFont(Mt[qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cn=Mt[qt],en="bold";else if(this.pdf.internal.getFont(Mt[qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cn=Mt[qt],en="normal";break}}if(cn===""){for(var rn=0;rn<Mt.length;rn++)if(pn[Mt[rn]]){cn=pn[Mt[rn]];break}}cn=cn===""?"Times":cn,this.pdf.setFont(cn,en)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ge){this.ctx.globalCompositeOperation=Ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ge){this.ctx.globalAlpha=Ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ge){this.ctx.lineDashOffset=Ge,Ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ge){this.ctx.lineDash=Ge,Ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ge){this.ctx.ignoreClearRect=!!Ge}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){U.call(this,"fill",!1)},d.prototype.stroke=function(){U.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,q){if(isNaN(C)||isNaN(q))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(C,q)},d.prototype.closePath=function(){var C=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&$i(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){C=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},d.prototype.lineTo=function(C,q){if(isNaN(C)||isNaN(q))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,q,j,X){if(isNaN(j)||isNaN(X)||isNaN(C)||isNaN(q))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(j,X)),xe=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},d.prototype.bezierCurveTo=function(C,q,j,X,de,xe){if(isNaN(de)||isNaN(xe)||isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new o(de,xe)),Te=this.ctx.transform.applyToPoint(new o(C,q)),Fe=this.ctx.transform.applyToPoint(new o(j,X));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Fe.x,y2:Fe.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new o(Ee.x,Ee.y)},d.prototype.arc=function(C,q,j,X,de,xe){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X)||isNaN(de))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new o(C,q));C=Ee.x,q=Ee.y;var Te=this.ctx.transform.applyToPoint(new o(0,j)),Fe=this.ctx.transform.applyToPoint(new o(0,0));j=Math.sqrt(Math.pow(Te.x-Fe.x,2)+Math.pow(Te.y-Fe.y,2))}Math.abs(de-X)>=2*Math.PI&&(X=0,de=2*Math.PI),this.path.push({type:"arc",x:C,y:q,radius:j,startAngle:X,endAngle:de,counterclockwise:xe})},d.prototype.arcTo=function(C,q,j,X,de){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,q,j,X){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,q),this.lineTo(C+j,q),this.lineTo(C+j,q+X),this.lineTo(C,q+X),this.lineTo(C,q),this.lineTo(C+j,q),this.lineTo(C,q)},d.prototype.fillRect=function(C,q,j,X){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,q,j,X),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},d.prototype.strokeRect=function(C,q,j,X){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,q,j,X),this.stroke())},d.prototype.clearRect=function(C,q,j,X){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,q,j,X))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage(q),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(C){var q,j,X,de;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))q=0,j=0,X=0,de=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(xe!==null)q=parseInt(xe[1]),j=parseInt(xe[2]),X=parseInt(xe[3]),de=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)q=parseInt(xe[1]),j=parseInt(xe[2]),X=parseInt(xe[3]),de=parseFloat(xe[4]);else{if(de=1,typeof C=="string"&&C.charAt(0)!=="#"){var Ee=new tz(C);C=Ee.ok?Ee.toHex():"#000000"}C.length===4?(q=C.substring(1,2),q+=q,j=C.substring(2,3),j+=j,X=C.substring(3,4),X+=X):(q=C.substring(1,3),j=C.substring(3,5),X=C.substring(5,7)),q=parseInt(q,16),j=parseInt(j,16),X=parseInt(X,16)}}return{r:q,g:j,b:X,a:de,style:C}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,q,j,X){if(isNaN(q)||isNaN(j)||typeof C!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!h.call(this)){var de=fe(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:C,x:q,y:j,scale:xe,angle:de,align:this.textAlign,maxWidth:X})}},d.prototype.strokeText=function(C,q,j,X){if(isNaN(q)||isNaN(j)||typeof C!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){X=isNaN(X)?void 0:X;var de=fe(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:C,x:q,y:j,scale:xe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:X})}},d.prototype.measureText=function(C){if(typeof C!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,j=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),de=q.getStringUnitWidth(C)*X/q.internal.scaleFactor,xe=function(Ee){var Te=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new xe({width:de*=Math.round(96*j/72*1e4)/1e4})},d.prototype.scale=function(C,q){if(isNaN(C)||isNaN(q))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new l(C,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.rotate=function(C){if(isNaN(C))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(C,q){if(isNaN(C)||isNaN(q))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new l(1,0,0,1,C,q);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.transform=function(C,q,j,X,de,xe){if(isNaN(C)||isNaN(q)||isNaN(j)||isNaN(X)||isNaN(de)||isNaN(xe))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new l(C,q,j,X,de,xe);this.ctx.transform=this.ctx.transform.multiply(Ee)},d.prototype.setTransform=function(C,q,j,X,de,xe){C=isNaN(C)?1:C,q=isNaN(q)?0:q,j=isNaN(j)?0:j,X=isNaN(X)?1:X,de=isNaN(de)?0:de,xe=isNaN(xe)?0:xe,this.ctx.transform=new l(C,q,j,X,de,xe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,q,j,X,de,xe,Ee,Te,Fe){var et=this.pdf.getImageProperties(C),ot=1,bt=1,Tt=1,Ge=1;X!==void 0&&Te!==void 0&&(Tt=Te/X,Ge=Fe/de,ot=et.width/X*Te/X,bt=et.height/de*Fe/de),xe===void 0&&(xe=q,Ee=j,q=0,j=0),X!==void 0&&Te===void 0&&(Te=X,Fe=de),X===void 0&&Te===void 0&&(Te=et.width,Fe=et.height);for(var ve,rt=this.ctx.transform.decompose(),St=fe(rt.rotate.shx),Ke=new l,xt=(Ke=(Ke=(Ke=Ke.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new a(xe-q*Tt,Ee-j*Ge,X*ot,de*bt)),kt=y.call(this,xt),Mt=[],Wt=0;Wt<kt.length;Wt+=1)Mt.indexOf(kt[Wt])===-1&&Mt.push(kt[Wt]);if(F(Mt),this.autoPaging)for(var en=Mt[0],cn=Mt[Mt.length-1],pn=en;pn<cn+1;pn++){this.pdf.setPage(pn);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rn=pn===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=pn===1?0:tn+(pn-2)*Tn;if(this.ctx.clip_path.length!==0){var qi=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ve,this.posX+this.margin[3],-Dt+rn+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=qi}var Dn=JSON.parse(JSON.stringify(xt));Dn=E([Dn],this.posX+this.margin[3],-Dt+rn+this.ctx.prevPageLastElemOffset)[0];var kr=(pn>en||pn<cn)&&g.call(this);kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Tn,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Dn.x,Dn.y,Dn.w,Dn.h,null,null,St),kr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,St)};var y=function(C,q,j){var X=[];q=q||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":X.push(Math.floor((C.y+de)/j)+1);break;case"arc":X.push(Math.floor((C.y+de-C.radius)/j)+1),X.push(Math.floor((C.y+de+C.radius)/j)+1);break;case"qct":var xe=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);X.push(Math.floor((xe.y+de)/j)+1),X.push(Math.floor((xe.y+xe.h+de)/j)+1);break;case"bct":var Ee=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);X.push(Math.floor((Ee.y+de)/j)+1),X.push(Math.floor((Ee.y+Ee.h+de)/j)+1);break;case"rect":X.push(Math.floor((C.y+de)/j)+1),X.push(Math.floor((C.y+C.h+de)/j)+1)}for(var Te=0;Te<X.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<X[Te];)b.call(this);return X},b=function(){var C=this.fillStyle,q=this.strokeStyle,j=this.font,X=this.lineCap,de=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=q,this.font=j,this.lineCap=X,this.lineWidth=de,this.lineJoin=xe},E=function(C,q,j){for(var X=0;X<C.length;X++)switch(C[X].type){case"bct":C[X].x2+=q,C[X].y2+=j;case"qct":C[X].x1+=q,C[X].y1+=j;case"mt":case"lt":case"arc":default:C[X].x+=q,C[X].y+=j}return C},F=function(C){return C.sort(function(q,j){return q-j})},U=function(C,q){for(var j,X,de=this.fillStyle,xe=this.strokeStyle,Ee=this.lineCap,Te=this.lineWidth,Fe=Math.abs(Te*this.ctx.transform.scaleX),et=this.lineJoin,ot=JSON.parse(JSON.stringify(this.path)),bt=JSON.parse(JSON.stringify(this.path)),Tt=[],Ge=0;Ge<bt.length;Ge++)if(bt[Ge].x!==void 0)for(var ve=y.call(this,bt[Ge]),rt=0;rt<ve.length;rt+=1)Tt.indexOf(ve[rt])===-1&&Tt.push(ve[rt]);for(var St=0;St<Tt.length;St++)for(;this.pdf.internal.getNumberOfPages()<Tt[St];)b.call(this);if(F(Tt),this.autoPaging)for(var Ke=Tt[0],xt=Tt[Tt.length-1],kt=Ke;kt<xt+1;kt++){this.pdf.setPage(kt),this.fillStyle=de,this.strokeStyle=xe,this.lineCap=Ee,this.lineWidth=Fe,this.lineJoin=et;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=kt===1?this.posY+this.margin[0]:this.margin[0],en=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pn=kt===1?0:en+(kt-2)*cn;if(this.ctx.clip_path.length!==0){var qt=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(j,this.posX+this.margin[3],-pn+Wt+this.ctx.prevPageLastElemOffset),W.call(this,C,!0),this.path=qt}if(X=JSON.parse(JSON.stringify(ot)),this.path=E(X,this.posX+this.margin[3],-pn+Wt+this.ctx.prevPageLastElemOffset),q===!1||kt===0){var rn=(kt>Ke||kt<xt)&&g.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,cn,null).clip().discardPath()),W.call(this,C,q),rn&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Fe,W.call(this,C,q),this.lineWidth=Te;this.path=ot},W=function(C,q){if((C!=="stroke"||q||!_.call(this))&&(C==="stroke"||q||!h.call(this))){for(var j,X,de=[],xe=this.path,Ee=0;Ee<xe.length;Ee++){var Te=xe[Ee];switch(Te.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Te,deltas:[],abs:[]});break;case"lt":var Fe=de.length;if(xe[Ee-1]&&!isNaN(xe[Ee-1].x)&&(j=[Te.x-xe[Ee-1].x,Te.y-xe[Ee-1].y],Fe>0)){for(;Fe>=0;Fe--)if(de[Fe-1].close!==!0&&de[Fe-1].begin!==!0){de[Fe-1].deltas.push(j),de[Fe-1].abs.push(Te);break}}break;case"bct":j=[Te.x1-xe[Ee-1].x,Te.y1-xe[Ee-1].y,Te.x2-xe[Ee-1].x,Te.y2-xe[Ee-1].y,Te.x-xe[Ee-1].x,Te.y-xe[Ee-1].y],de[de.length-1].deltas.push(j);break;case"qct":var et=xe[Ee-1].x+2/3*(Te.x1-xe[Ee-1].x),ot=xe[Ee-1].y+2/3*(Te.y1-xe[Ee-1].y),bt=Te.x+2/3*(Te.x1-Te.x),Tt=Te.y+2/3*(Te.y1-Te.y),Ge=Te.x,ve=Te.y;j=[et-xe[Ee-1].x,ot-xe[Ee-1].y,bt-xe[Ee-1].x,Tt-xe[Ee-1].y,Ge-xe[Ee-1].x,ve-xe[Ee-1].y],de[de.length-1].deltas.push(j);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Te)}}X=q?null:C==="stroke"?"stroke":"fill";for(var rt=!1,St=0;St<de.length;St++)if(de[St].arc)for(var Ke=de[St].abs,xt=0;xt<Ke.length;xt++){var kt=Ke[xt];kt.type==="arc"?T.call(this,kt.x,kt.y,kt.radius,kt.startAngle,kt.endAngle,kt.counterclockwise,void 0,q,!rt):R.call(this,kt.x,kt.y),rt=!0}else if(de[St].close===!0)this.pdf.internal.out("h"),rt=!1;else if(de[St].begin!==!0){var Mt=de[St].start.x,Wt=de[St].start.y;Q.call(this,de[St].deltas,Mt,Wt),rt=!0}X&&L.call(this,X),q&&N.call(this)}},te=function(C){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-j;case"top":return C+q-j;case"hanging":return C+q-2*j;case"middle":return C+q/2-j;case"ideographic":return C;case"alphabetic":default:return C}},I=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(q,j){this.colorStops.push([q,j])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(C,q,j,X,de,xe,Ee,Te,Fe){for(var et=le.call(this,j,X,de,xe),ot=0;ot<et.length;ot++){var bt=et[ot];ot===0&&(Fe?D.call(this,bt.x1+C,bt.y1+q):R.call(this,bt.x1+C,bt.y1+q)),oe.call(this,C,q,bt.x2,bt.y2,bt.x3,bt.y3,bt.x4,bt.y4)}Te?N.call(this):L.call(this,Ee)},L=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(C,q){this.pdf.internal.out(n(C)+" "+i(q)+" m")},M=function(C){var q;switch(C.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var j=this.pdf.getTextDimensions(C.text),X=te.call(this,C.y),de=I.call(this,X)-j.h,xe=this.ctx.transform.applyToPoint(new o(C.x,X)),Ee=this.ctx.transform.decompose(),Te=new l;Te=(Te=(Te=Te.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Fe,et,ot,bt=this.ctx.transform.applyToRectangle(new a(C.x,X,j.w,j.h)),Tt=Te.applyToRectangle(new a(C.x,de,j.w,j.h)),Ge=y.call(this,Tt),ve=[],rt=0;rt<Ge.length;rt+=1)ve.indexOf(Ge[rt])===-1&&ve.push(Ge[rt]);if(F(ve),this.autoPaging)for(var St=ve[0],Ke=ve[ve.length-1],xt=St;xt<Ke+1;xt++){this.pdf.setPage(xt);var kt=xt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[2],en=Wt-this.margin[0],cn=this.pdf.internal.pageSize.width-this.margin[1],pn=cn-this.margin[3],qt=xt===1?0:Mt+(xt-2)*en;if(this.ctx.clip_path.length!==0){var rn=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Fe,this.posX+this.margin[3],-1*qt+kt),W.call(this,"fill",!0),this.path=rn}var tn=E([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-qt+kt+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*C.scale),ot=this.lineWidth,this.lineWidth=ot*C.scale);var Tn=this.autoPaging!=="text";if(Tn||tn.y+tn.h<=Wt){if(Tn||tn.y>=kt&&tn.x<=cn){var Dt=Tn?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||cn-tn.x)[0],qi=E([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-qt+kt+this.ctx.prevPageLastElemOffset)[0],Dn=Tn&&(xt>St||xt<Ke)&&g.call(this);Dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pn,en,null).clip().discardPath()),this.pdf.text(Dt,qi.x,qi.y,{angle:C.angle,align:q,renderingMode:C.renderingMode}),Dn&&this.pdf.restoreGraphicsState()}}else tn.y<Wt&&(this.ctx.prevPageLastElemOffset+=Wt-tn.y);C.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=ot)}else C.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*C.scale),ot=this.lineWidth,this.lineWidth=ot*C.scale),this.pdf.text(C.text,xe.x+this.posX,xe.y+this.posY,{angle:C.angle,align:q,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=ot)},R=function(C,q,j,X){j=j||0,X=X||0,this.pdf.internal.out(n(C+j)+" "+i(q+X)+" l")},Q=function(C,q,j){return this.pdf.lines(C,q,j,null,null)},oe=function(C,q,j,X,de,xe,Ee,Te){this.pdf.internal.out([e(r(j+C)),e(s(X+q)),e(r(de+C)),e(s(xe+q)),e(r(Ee+C)),e(s(Te+q)),"c"].join(" "))},le=function(C,q,j,X){for(var de=2*Math.PI,xe=Math.PI/2;q>j;)q-=de;var Ee=Math.abs(j-q);Ee<de&&X&&(Ee=de-Ee);for(var Te=[],Fe=X?-1:1,et=q;Ee>1e-5;){var ot=et+Fe*Math.min(Ee,xe);Te.push(ie.call(this,C,et,ot)),Ee-=Math.abs(ot-et),et=ot}return Te},ie=function(C,q,j){var X=(j-q)/2,de=C*Math.cos(X),xe=C*Math.sin(X),Ee=de,Te=-xe,Fe=Ee*Ee+Te*Te,et=Fe+Ee*de+Te*xe,ot=4/3*(Math.sqrt(2*Fe*et)-et)/(Ee*xe-Te*de),bt=Ee-ot*Te,Tt=Te+ot*Ee,Ge=bt,ve=-Tt,rt=X+q,St=Math.cos(rt),Ke=Math.sin(rt);return{x1:C*Math.cos(q),y1:C*Math.sin(q),x2:bt*St-Tt*Ke,y2:bt*Ke+Tt*St,x3:Ge*St-ve*Ke,y3:Ge*Ke+ve*St,x4:C*Math.cos(j),y4:C*Math.sin(j)}},fe=function(C){return 180*C/Math.PI},be=function(C,q,j,X,de,xe){var Ee=C+.5*(j-C),Te=q+.5*(X-q),Fe=de+.5*(j-de),et=xe+.5*(X-xe),ot=Math.min(C,de,Ee,Fe),bt=Math.max(C,de,Ee,Fe),Tt=Math.min(q,xe,Te,et),Ge=Math.max(q,xe,Te,et);return new a(ot,Tt,bt-ot,Ge-Tt)},Ce=function(C,q,j,X,de,xe,Ee,Te){var Fe,et,ot,bt,Tt,Ge,ve,rt,St,Ke,xt,kt,Mt,Wt,en=j-C,cn=X-q,pn=de-j,qt=xe-X,rn=Ee-de,tn=Te-xe;for(et=0;et<41;et++)St=(ve=(ot=C+(Fe=et/40)*en)+Fe*((Tt=j+Fe*pn)-ot))+Fe*(Tt+Fe*(de+Fe*rn-Tt)-ve),Ke=(rt=(bt=q+Fe*cn)+Fe*((Ge=X+Fe*qt)-bt))+Fe*(Ge+Fe*(xe+Fe*tn-Ge)-rt),et==0?(xt=St,kt=Ke,Mt=St,Wt=Ke):(xt=Math.min(xt,St),kt=Math.min(kt,Ke),Mt=Math.max(Mt,St),Wt=Math.max(Wt,Ke));return new a(Math.round(xt),Math.round(kt),Math.round(Mt-xt),Math.round(Wt-kt))},Ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,q,j=(C=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:q}));this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(mn.API),function(t){var e=function(s){var o,a,l,c,u,d,f,h,_,g;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(_=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,a.push(d+33,f+33,h+33,_+33,g+33)):a.push(122);return function(y,b){for(var E=b;E>0;E--)y.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,d=String,f="length",h=255,_="charCodeAt",g="slice",y="replace";for(s[g](-2),s=s[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[g](s[f]%5||5))[f];u>c;c+=5)a=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return function(b,E){for(var F=E;F>0;F--)b.pop()}(l,o[f]),d.fromCharCode.apply(d,l)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=uT(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(mn.API),function(t){t.loadFile=function(e,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(_){var g=_.length,y=[],b=String.fromCharCode;for(f=0;f<g;f+=1)y.push(b(255&_.charCodeAt(f)));return y.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(r,s,o)}catch{}return a}(e,n,i)},t.loadImageFile=t.loadFile}(mn.API),function(t){function e(){return(_n.html2canvas?Promise.resolve(_n.html2canvas):import("./chunk-U7EN77ND.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(_n.DOMPurify?Promise.resolve(_n.DOMPurify):import("./chunk-OFLWRYFT.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=$i(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],_=h.src.find(function(g){return g.format==="truetype"});_&&l.addFont(_.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mn.getPageSize=function(o,a,l){if($i(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,_=0,g=0;if(f.hasOwnProperty(d))_=f[d][1]/u,g=f[d][0]/u;else try{_=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>_&&(h=g,g=_,_=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>g&&(h=g,g=_,_=h)}return{width:g,height:_,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(FF):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(mn.API),mn.API.addJS=function(t){return XH=t,this.internal.events.subscribe("postPutResources",function(){fT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fT+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fT!==void 0&&qH!==void 0&&this.internal.out("/Names <</JavaScript "+fT+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(mn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,g={width:0,height:0,numcomponents:1},y=4;y<_;y+=2){if(y+=h,e.indexOf(d.charCodeAt(y+1))!==-1){f=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:f,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}}(mn.API);Vve=function(){var t,e,n;function i(s){var o,a,l,c,u,d,f,h,_,g,y,b,E,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),_=(function(){var U,W;for(W=[],U=0;U<4;++U)W.push(String.fromCharCode(this.data[this.pos++]));return W}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,o-=4),s=d?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(E=0;0<=g?E<g:E>g;0<=g?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(y=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,y.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,f,h,_){var g,y,b,E,F,U,W,te,I,T,L,N,D,M,R,Q,oe,le,ie,fe,be,Ce=Math.ceil((c.width-d)/h),Ue=Math.ceil((c.height-f)/_),C=c.width==Ce&&c.height==Ue;for(M=o*Ce,N=C?a:new Uint8Array(M*Ue),U=s.length,D=0,y=0;D<Ue&&l<U;){switch(s[l++]){case 0:for(E=oe=0;oe<M;E=oe+=1)N[y++]=s[l++];break;case 1:for(E=le=0;le<M;E=le+=1)g=s[l++],F=E<o?0:N[y-o],N[y++]=(g+F)%256;break;case 2:for(E=ie=0;ie<M;E=ie+=1)g=s[l++],b=(E-E%o)/o,R=D&&N[(D-1)*M+b*o+E%o],N[y++]=(R+g)%256;break;case 3:for(E=fe=0;fe<M;E=fe+=1)g=s[l++],b=(E-E%o)/o,F=E<o?0:N[y-o],R=D&&N[(D-1)*M+b*o+E%o],N[y++]=(g+Math.floor((F+R)/2))%256;break;case 4:for(E=be=0;be<M;E=be+=1)g=s[l++],b=(E-E%o)/o,F=E<o?0:N[y-o],D===0?R=Q=0:(R=N[(D-1)*M+b*o+E%o],Q=b&&N[(D-1)*M+(b-1)*o+E%o]),W=F+R-Q,te=Math.abs(W-F),T=Math.abs(W-R),L=Math.abs(W-Q),I=te<=T&&te<=L?F:T<=L?R:Q,N[y++]=(g+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var q=((f+D*_)*c.width+d)*o,j=D*M;for(E=0;E<Ce;E+=1){for(var X=0;X<o;X+=1)a[q++]=N[j++];q+=(h-1)*o}}D++}}return s=OH(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,l,c,u,d,f,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,f=a.length;d<f;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(h=u[s++])!=null?h:255;return c},i.prototype.copyToImageData=function(s,o){var a,l,c,u,d,f,h,_,g,y,b;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),_=(c=s.data||s).length,d=g||o,u=f=0,l===1)for(;u<_;)h=g?4*o[u/4]:f,y=d[h++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=a?d[h++]:255,f=h;else for(;u<_;)h=g?4*o[u/4]:f,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=a?d[h++]:255,f=h},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(_n)==="[object Window]"){try{e=_n.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),t=function(s){var o;if(r()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,l,c,u,d,f,h;if(this.animation){for(h=[],a=u=0,d=(f=this.animation.frames).length;u<d;a=++u)o=f[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=t(l));return h}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),c?.disposeOp===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,l,c,u,d,f=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var h,_;if(h=a++%c,_=l[h],f.renderFrame(s,h),c>1&&a/c<u)return f.animation._timeout=setTimeout(o,_.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();(function(t){var e=function(){return typeof uT=="function"},n=function(f,h,_,g){var y=4,b=o;switch(g){case t.image_compression.FAST:y=1,b=s;break;case t.image_compression.MEDIUM:y=6,b=a;break;case t.image_compression.SLOW:y=9,b=l}f=i(f,h,_,b);var E=uT(f,{level:y});return t.__addimage__.arrayBufferToBinaryString(E)},i=function(f,h,_,g){for(var y,b,E,F=f.length/h,U=new Uint8Array(f.length+F),W=u(),te=0;te<F;te+=1){if(E=te*h,y=f.subarray(E,E+h),g)U.set(g(y,_,b),E+te);else{for(var I,T=W.length,L=[];I<T;I+=1)L[I]=W[I](y,_,b);var N=d(L.concat());U.set(L[N],E+te)}b=y}return U},r=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var _,g=[],y=f.length;g[0]=1;for(var b=0;b<y;b+=1)_=f[b-h]||0,g[b+1]=f[b]-_+256&255;return g},o=function(f,h,_){var g,y=[],b=f.length;y[0]=2;for(var E=0;E<b;E+=1)g=_&&_[E]||0,y[E+1]=f[E]-g+256&255;return y},a=function(f,h,_){var g,y,b=[],E=f.length;b[0]=3;for(var F=0;F<E;F+=1)g=f[F-h]||0,y=_&&_[F]||0,b[F+1]=f[F]+256-(g+y>>>1)&255;return b},l=function(f,h,_){var g,y,b,E,F=[],U=f.length;F[0]=4;for(var W=0;W<U;W+=1)g=f[W-h]||0,y=_&&_[W]||0,b=_&&_[W-h]||0,E=c(g,y,b),F[W+1]=f[W]-E+256&255;return F},c=function(f,h,_){if(f===h&&h===_)return f;var g=Math.abs(h-_),y=Math.abs(f-_),b=Math.abs(f+h-_-_);return g<=y&&g<=b?f:y<=b?h:_},u=function(){return[r,s,o,a,l]},d=function(f){var h=f.map(function(_){return _.reduce(function(g,y){return g+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(f,h,_,g){var y,b,E,F,U,W,te,I,T,L,N,D,M,R,Q,oe=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(E=new Vve(f)).imgData,b=E.bits,y=E.colorSpace,U=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){T=(I=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,N=new Uint8Array(T*E.colors),L=new Uint8Array(T);var ie,fe=E.pixelBitlength-E.bits;for(R=0,Q=0;R<T;R++){for(M=I[R],ie=0;ie<fe;)N[Q++]=M>>>ie&255,ie+=E.bits;L[R]=M>>>ie&255}}if(E.bits===16){T=(I=new Uint32Array(E.decodePixels().buffer)).length,N=new Uint8Array(T*(32/E.pixelBitlength)*E.colors),L=new Uint8Array(T*(32/E.pixelBitlength)),D=E.colors>1,R=0,Q=0;for(var be=0;R<T;)M=I[R++],N[Q++]=M>>>0&255,D&&(N[Q++]=M>>>16&255,M=I[R++],N[Q++]=M>>>0&255),L[be++]=M>>>16&255;b=8}g!==t.image_compression.NONE&&e()?(f=n(N,E.width*E.colors,E.colors,g),te=n(L,E.width,1,g)):(f=N,te=L,oe=void 0)}if(E.colorType===3&&(y=this.color_spaces.INDEXED,W=E.palette,E.transparency.indexed)){var Ce=E.transparency.indexed,Ue=0;for(R=0,T=Ce.length;R<T;++R)Ue+=Ce[R];if((Ue/=255)===T-1&&Ce.indexOf(0)!==-1)F=[Ce.indexOf(0)];else if(Ue!==T){for(I=E.decodePixels(),L=new Uint8Array(I.length),R=0,T=I.length;R<T;R++)L[R]=Ce[I[R]];te=n(L,E.width,1)}}var C=function(q){var j;switch(q){case t.image_compression.FAST:j=11;break;case t.image_compression.MEDIUM:j=13;break;case t.image_compression.SLOW:j=14;break;default:j=12}return j}(g);return oe===this.decode.FLATE_DECODE&&(le="/Predictor "+C+" "),le+="/Colors "+U+" /BitsPerComponent "+b+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(te&&this.__addimage__.isArrayBuffer(te)||this.__addimage__.isArrayBufferView(te))&&(te=this.__addimage__.arrayBufferToBinaryString(te)),{alias:_,data:f,index:h,filter:oe,decodeParameters:le,transparency:F,palette:W,sMask:te,predictor:C,width:E.width,height:E.height,bitsPerComponent:b,colorSpace:y}}}})(mn.API),function(t){t.processGIF89A=function(e,n,i,r){var s=new Bve(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new AF(100).encode(c,100);return t.processJPEG.call(this,u,n,i,r)},t.processGIF87A=t.processGIF89A}(mn.API),Fc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){lr.log("bit decode error:"+n)}},Fc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Fc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Fc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Fc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Fc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Fc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Fc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},Fc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new Fc(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new AF(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(mn.API),JH.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new JH(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new AF(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(mn.API),mn.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],d=i[c+1],f=i[c+2],h=i[c+3];s[a++]=u,s[a++]=d,s[a++]=f,o[l++]=h}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ov=mn.API,pT=ov.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,h=t.length,_=0,g=a[0]||l,y=[];for(n=0;n<h;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?y.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(f=d&&$i(c[i])==="object"&&!isNaN(parseInt(c[i][_],10))?c[i][_]/u:0,y.push((a[i]||g)/l+f)),_=i;return y},YH=ov.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return ov.processArabic&&(t=ov.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:pT.apply(this,arguments).reduce(function(s,o){return s+o},0)},KH=function(t,e,n,i){for(var r=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;r.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(r.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},QH=function(t,e,n){n||(n={});var i,r,s,o,a,l,c,u=[],d=[u],f=n.textIndent||0,h=0,_=0,g=t.split(" "),y=pT.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),E=[];g.map(function(U){(U=U.split(/\s*\n/)).length>1?E=E.concat(U.map(function(W,te){return(te&&W.length?`
`:"")+W})):E.push(U[0])}),g=E,l=YH.apply(this,[b,n])}for(s=0,o=g.length;s<o;s++){var F=0;if(i=g[s],l&&i[0]==`
`&&(i=i.substr(1),F=1),f+h+(_=(r=pT.apply(this,[i,n])).reduce(function(U,W){return U+W},0))>e||F){if(_>e){for(a=KH.apply(this,[i,r,e-(f+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);_=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(U,W){return U+W},0)}else u=[i];d.push(u),f=_+l,h=y}else u.push(i),f+=h+_,h=y}return c=l?function(U,W){return(W?b:"")+U.join(" ")}:function(U){return U.join(" ")},d.map(c)},ov.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(QH.apply(this,[i[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var f,h,_,g,y=["{"];for(var b in d){if(f=d[b],isNaN(parseInt(b,10))?h="'"+b+"'":(b=parseInt(b,10),h=(h=s(b).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof f=="number")f<0?(_=s(f).slice(3),g="-"):(_=s(f).slice(2),g=""),_=g+_.slice(0,-1)+i[_.slice(-1)];else{if($i(f)!=="object")throw new Error("Don't know what to do with value type "+$i(f)+".");_=o(f)}y.push(h+_)}return y.push("}"),y.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,_,g,y={},b=1,E=y,F=[],U="",W="",te=d.length-1,I=1;I<te;I+=1)(g=d[I])=="'"?f?(_=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(F.push([E,_]),E={},_=void 0):g=="}"?((h=F.pop())[0][h[1]]=E,_=void 0,E=h[0]):g=="-"?b=-1:_===void 0?n.hasOwnProperty(g)?(U+=n[g],_=parseInt(U,16)*b,b=1,U=""):U+=g:n.hasOwnProperty(g)?(W+=n[g],E[_]=parseInt(W,16)*b,b=1,_=void 0,W=""):W+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var _=c.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])}(mn.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(ry(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(mn),function(t){function e(){return(_n.canvg?Promise.resolve(_n.canvg):import("./chunk-K7ZIZ54V.js")).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}mn.API.addSvgAsImage=function(n,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(_){return _.fromString(d,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),i,r,s,o,l,c)})}}(),mn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},mn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function f(_,g){var y,b=!1;for(y=0;y<_.length;y+=1)_[y]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(d=0;d<h;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if($i(t)==="object"){for(r in t)if(s=t[r],f(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&f(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,g=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?g.push("/"+_+" /"+n[_].value):g.push("/"+_+" "+n[_].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(mn.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=s.length;d<f;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(s){var o,a,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(a=Object.keys(s).sort(function(h,_){return h-_})).length;d<f;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",_=0;_<f.length;_++)h+=String.fromCharCode(f[_]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+lv(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+lv(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+lv(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var _=c();u({data:f,addLength1:!0,objectId:_}),l("endobj");var g=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+lv(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+lv(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,_=d.fonts,g=h,y="",b=0,E="",F=_[g].encoding;if(_[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(E=a,g=h,Array.isArray(a)&&(E=a[0]),b=0;b<E.length;b+=1)_[g].metadata.hasOwnProperty("cmap")&&(o=_[g].metadata.cmap.unicode.codeMap[E[b].charCodeAt(0)]),o||E[b].charCodeAt(0)<256&&_[g].metadata.hasOwnProperty("Unicode")?y+=E[b]:y+="";var U="";return parseInt(g.slice(1))<14||F==="WinAnsiEncoding"?U=f(y,g).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(U=n(y,_[g])),d.isHex=!0,{text:U,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(mn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(mn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,F=0;this.__bidiEngine__={};var U=function(D){var M=D.charCodeAt(),R=M>>8,Q=g[R];return Q!==void 0?d[256*Q+(255&M)]:R===252||R===253?"AL":b.test(R)?"L":R===8?"R":"N"},W=function(D){for(var M,R=0;R<D.length;R++){if((M=U(D.charAt(R)))==="L")return!1;if(M==="R")return!0}return!1},te=function(D,M,R,Q){var oe,le,ie,fe,be=M[Q];switch(be){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(be="AN");break;case"AL":E=!0,be="R";break;case"WS":be="N";break;case"CS":Q<1||Q+1>=M.length||(oe=R[Q-1])!=="EN"&&oe!=="AN"||(le=M[Q+1])!=="EN"&&le!=="AN"?be="N":E&&(le="AN"),be=le===oe?le:"N";break;case"ES":be=(oe=Q>0?R[Q-1]:"B")==="EN"&&Q+1<M.length&&M[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&R[Q-1]==="EN"){be="EN";break}if(E){be="N";break}for(ie=Q+1,fe=M.length;ie<fe&&M[ie]==="ET";)ie++;be=ie<fe&&M[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(fe=M.length,ie=Q+1;ie<fe&&M[ie]==="NSM";)ie++;if(ie<fe){var Ce=D[Q],Ue=Ce>=1425&&Ce<=2303||Ce===64286;if(oe=M[ie],Ue&&(oe==="R"||oe==="AL")){be="R";break}}}be=Q<1||(oe=M[Q-1])==="B"?"N":R[Q-1];break;case"B":E=!1,r=!0,be=F;break;case"S":s=!0,be="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":be="N"}return be},I=function(D,M,R){var Q=D.split("");return R&&T(Q,R,{hiLevel:F}),Q.reverse(),M&&M.reverse(),Q.join("")},T=function(D,M,R){var Q,oe,le,ie,fe,be=-1,Ce=D.length,Ue=0,C=[],q=F?h:f,j=[];for(E=!1,r=!1,s=!1,oe=0;oe<Ce;oe++)j[oe]=U(D[oe]);for(le=0;le<Ce;le++){if(fe=Ue,C[le]=te(D,j,C,le),Q=240&(Ue=q[fe][_[C[le]]]),Ue&=15,M[le]=ie=q[Ue][5],Q>0)if(Q===16){for(oe=be;oe<le;oe++)M[oe]=1;be=-1}else be=-1;if(q[Ue][6])be===-1&&(be=le);else if(be>-1){for(oe=be;oe<le;oe++)M[oe]=ie;be=-1}j[le]==="B"&&(M[le]=0),R.hiLevel|=ie}s&&function(X,de,xe){for(var Ee=0;Ee<xe;Ee++)if(X[Ee]==="S"){de[Ee]=F;for(var Te=Ee-1;Te>=0&&X[Te]==="WS";Te--)de[Te]=F}}(j,M,Ce)},L=function(D,M,R,Q,oe){if(!(oe.hiLevel<D)){if(D===1&&F===1&&!r)return M.reverse(),void(R&&R.reverse());for(var le,ie,fe,be,Ce=M.length,Ue=0;Ue<Ce;){if(Q[Ue]>=D){for(fe=Ue+1;fe<Ce&&Q[fe]>=D;)fe++;for(be=Ue,ie=fe-1;be<ie;be++,ie--)le=M[be],M[be]=M[ie],M[ie]=le,R&&(le=R[be],R[be]=R[ie],R[ie]=le);Ue=fe}Ue++}}},N=function(D,M,R){var Q=D.split(""),oe={hiLevel:F};return R||(R=[]),T(Q,R,oe),function(le,ie,fe){if(fe.hiLevel!==0&&u)for(var be,Ce=0;Ce<le.length;Ce++)ie[Ce]===1&&(be=y.indexOf(le[Ce]))>=0&&(le[Ce]=y[be+1])}(Q,R,oe),L(2,Q,M,R,oe),L(1,Q,M,R,oe),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,M,R){if(function(oe,le){if(le)for(var ie=0;ie<oe.length;ie++)le[ie]=ie;a===void 0&&(a=W(oe)),c===void 0&&(c=W(oe))}(D,M),o||!l||c)if(o&&l&&a^c)F=a?1:0,D=I(D,M,R);else if(!o&&l&&c)F=a?1:0,D=N(D,M,R),D=I(D,M);else if(!o||a||l||c){if(o&&!l&&a^c)D=I(D,M),a?(F=0,D=N(D,M,R)):(F=1,D=N(D,M,R),D=I(D,M));else if(o&&a&&!l&&c)F=1,D=N(D,M,R),D=I(D,M);else if(!o&&!l&&a^c){var Q=u;a?(F=1,D=N(D,M,R),F=0,u=!1,D=N(D,M,R),u=Q):(F=0,D=N(D,M,R),D=I(D,M),F=1,u=!1,D=N(D,M,R),u=Q,D=I(D,M))}}else F=0,D=N(D,M,R);else F=a?1:0,D=N(D,M,R);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,l=D.isOutputVisual,a=D.isInputRtl,c=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text,s=(i.x,i.y,i.options||{}),o=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(mn),mn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new kf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new e1e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jve(this.contents),this.head=new Hve(this),this.name=new qve(this),this.cmap=new dz(this),this.toUnicode={},this.hhea=new zve(this),this.maxp=new Xve(this),this.hmtx=new Yve(this),this.post=new Gve(this),this.os2=new $ve(this),this.loca=new Jve(this),this.glyf=new Kve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();kf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,o,a,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),jve=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,o,a,l,c,u,d,f,h,_,g;for(g in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),u=16*h-d,(r=new kf).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(o),r.writeShort(u),s=16*h,c=r.pos+s,a=null,_=[],n)for(f=n[g],r.writeString(g),r.writeInt(t(f)),r.writeInt(c),r.writeInt(f.length),_=_.concat(f),g==="head"&&(a=c),c+=f.length;c%4;)_.push(0),c++;return r.write(_),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,o;for(n=hz.call(n);n.length%4;)n.push(0);for(s=new kf(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),Uve={}.hasOwnProperty,Ou=function(t,e){for(var n in e)Uve.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Nc=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();Hve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new kf).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e}(),ez=function(){function t(e,n){var i,r,s,o,a,l,c,u,d,f,h,_,g,y,b,E,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var U,W;for(W=[],l=U=0;0<=f?U<f:U>f;l=0<=f?++U:--U)W.push(e.readUInt16());return W}(),e.pos+=2,g=function(){var U,W;for(W=[],l=U=0;0<=f?U<f:U>f;l=0<=f?++U:--U)W.push(e.readUInt16());return W}(),c=function(){var U,W;for(W=[],l=U=0;0<=f?U<f:U>f;l=0<=f?++U:--U)W.push(e.readUInt16());return W}(),u=function(){var U,W;for(W=[],l=U=0;0<=f?U<f:U>f;l=0<=f?++U:--U)W.push(e.readUInt16());return W}(),r=(this.length-e.pos+this.offset)/2,a=function(){var U,W;for(W=[],l=U=0;0<=r?U<r:U>r;l=0<=r?++U:--U)W.push(e.readUInt16());return W}(),l=b=0,F=s.length;b<F;l=++b)for(y=s[l],i=E=_=g[l];_<=y?E<=y:E>=y;i=_<=y?++E:--E)u[l]===0?o=i+c[l]:(o=a[u[l]/2+(i-_)-(f-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}e.pos=d}return t.encode=function(e,n){var i,r,s,o,a,l,c,u,d,f,h,_,g,y,b,E,F,U,W,te,I,T,L,N,D,M,R,Q,oe,le,ie,fe,be,Ce,Ue,C,q,j,X,de,xe,Ee,Te,Fe,et,ot;switch(Q=new kf,o=Object.keys(e).sort(function(bt,Tt){return bt-Tt}),n){case"macroman":for(g=0,y=function(){var bt=[];for(_=0;_<256;++_)bt.push(0);return bt}(),E={0:0},s={},oe=0,be=o.length;oe<be;oe++)E[Te=e[r=o[oe]]]==null&&(E[Te]=++g),s[r]={old:e[r],new:E[e[r]]},y[r]=E[e[r]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(y),{charMap:s,subtable:Q.data,maxGlyphID:g+1};case"unicode":for(M=[],d=[],F=0,E={},i={},b=c=null,le=0,Ce=o.length;le<Ce;le++)E[W=e[r=o[le]]]==null&&(E[W]=++F),i[r]={old:W,new:E[W]},a=E[W]-r,b!=null&&a===c||(b&&d.push(b),M.push(r),c=a),b=r;for(b&&d.push(b),d.push(65535),M.push(65535),N=2*(L=M.length),T=2*Math.pow(Math.log(L)/Math.LN2,2),f=Math.log(T/2)/Math.LN2,I=2*L-T,l=[],te=[],h=[],_=ie=0,Ue=M.length;ie<Ue;_=++ie){if(D=M[_],u=d[_],D===65535){l.push(0),te.push(0);break}if(D-(R=i[D].new)>=32768)for(l.push(0),te.push(2*(h.length+L-_)),r=fe=D;D<=u?fe<=u:fe>=u;r=D<=u?++fe:--fe)h.push(i[r].new);else l.push(R-D),te.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*L+2*h.length),Q.writeUInt16(0),Q.writeUInt16(N),Q.writeUInt16(T),Q.writeUInt16(f),Q.writeUInt16(I),xe=0,C=d.length;xe<C;xe++)r=d[xe],Q.writeUInt16(r);for(Q.writeUInt16(0),Ee=0,q=M.length;Ee<q;Ee++)r=M[Ee],Q.writeUInt16(r);for(Fe=0,j=l.length;Fe<j;Fe++)a=l[Fe],Q.writeUInt16(a);for(et=0,X=te.length;et<X;et++)U=te[et],Q.writeUInt16(U);for(ot=0,de=h.length;ot<de;ot++)g=h[ot],Q.writeUInt16(g);return{charMap:i,subtable:Q.data,maxGlyphID:F+1}}},t}(),dz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,r,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new ez(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var r,s;return i==null&&(i="macroman"),r=ez.encode(n,i),(s=new kf).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),zve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),$ve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Gve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="post",e.prototype.parse=function(n){var i,r,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)i=n.readByte(),s.push(this.names.push(n.readString(i)));return s;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),Wve=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="name",e.prototype.parse=function(n){var i,r,s,o,a,l,c,u,d,f,h;for(n.pos=this.offset,n.readShort(),i=n.readShort(),l=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,f=r.length;d<f;o=++d)s=r[o],n.pos=s.offset,u=n.readString(s.length),a=new Wve(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Xve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Yve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,r,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)o=f[u],h.push(o.advance);return h}).call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),hz=[].slice,Kve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,r,s,o,a,l,c,u,d,f;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,a=(l=new kf(i.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new Zve(l,u,f,c,d):new Qve(l,a,u,f,c,d),this.cache[n]))},e.prototype.encode=function(n,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=n[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},e}(),Qve=function(){function t(e,n,i,r,s,o){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Zve=function(){function t(e,n,i,r,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new kf(hz.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Jve=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ou(e,Nc),e.prototype.tag="loca",e.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},e}(),e1e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,o,a,l;for(r={},o=0,a=e.length;o<a;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,o,a,l,c,u,d,f,h,_,g,y,b;for(r in i=dz.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},b=i.charMap)h[(l=b[r]).old]=l.new;for(_ in f=i.maxGlyphID,o)_ in h||(h[_]=f++);return u=function(E){var F,U;for(F in U={},E)U[E[F]]=F;return U}(h),d=Object.keys(u).sort(function(E,F){return E-F}),g=function(){var E,F,U;for(U=[],E=0,F=d.length;E<F;E++)a=d[E],U.push(u[a]);return U}(),s=this.font.glyf.encode(o,g,h),c=this.font.loca.encode(s.offsets,g),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();mn.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)i=n[a],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();il=mn});var fz=RS((_0,OF)=>{"use strict";(function(e,n){if(typeof _0=="object"&&typeof OF=="object")OF.exports=n(function(){try{return Gd(),l3(NF)}catch{}}());else if(typeof define=="function"&&define.amd)define(["jspdf"],n);else{var i=n(typeof _0=="object"?function(){try{return Gd(),l3(NF)}catch{}}():e.jspdf);for(var r in i)(typeof _0=="object"?_0:e)[r]=i[r]}})(typeof globalThis<"u"?globalThis:typeof _0<"u"?_0:typeof window<"u"?window:typeof self<"u"?self:global,function(t){return function(){"use strict";var e={172:function(s,o){var a=this&&this.__extends||function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(h[g]=_[g])},u(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.CellHookData=o.HookData=void 0;var l=function(){function u(d,f,h){this.table=f,this.pageNumber=f.pageNumber,this.pageCount=this.pageNumber,this.settings=f.settings,this.cursor=h,this.doc=d.getDocument()}return u}();o.HookData=l;var c=function(u){a(d,u);function d(f,h,_,g,y,b){var E=u.call(this,f,h,b)||this;return E.cell=_,E.row=g,E.column=y,E.section=g.section,E}return d}(l);o.CellHookData=c},340:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0});var l=a(4),c=a(136),u=a(744),d=a(776),f=a(664),h=a(972);function _(g){g.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var E;y.length===1?E=y[0]:(console.error("Use of deprecated autoTable initiation"),E=y[2]||{},E.columns=y[0],E.body=y[1]);var F=(0,d.parseInput)(this,E),U=(0,h.createTable)(this,F);return(0,f.drawTable)(this,U),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(y,b,E,F){(0,c.default)(y,b,E,F,this)},g.API.autoTableSetDefaults=function(y){return u.DocHandler.setDefaults(y,this),this},g.autoTableSetDefaults=function(y,b){u.DocHandler.setDefaults(y,b)},g.API.autoTableHtmlToJson=function(y,b){var E;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var F=new u.DocHandler(this),U=(0,l.parseHtml)(F,y,window,b,!1),W=U.head,te=U.body,I=((E=W[0])===null||E===void 0?void 0:E.map(function(T){return T.content}))||[];return{columns:I,rows:te,data:te}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},g.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=y,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}o.default=_},136:function(s,o){Object.defineProperty(o,"__esModule",{value:!0});function a(l,c,u,d,f){d=d||{};var h=1.15,_=f.internal.scaleFactor,g=f.internal.getFontSize()/_,y=f.getLineHeightFactor?f.getLineHeightFactor():h,b=g*y,E=/\r\n|\r|\n/g,F="",U=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(F=typeof l=="string"?l.split(E):l,U=F.length||1),u+=g*(2-h),d.valign==="middle"?u-=U/2*b:d.valign==="bottom"&&(u-=U*b),d.halign==="center"||d.halign==="right"){var W=g;if(d.halign==="center"&&(W*=.5),F&&U>=1){for(var te=0;te<F.length;te++)f.text(F[te],c-f.getStringUnitWidth(F[te])*W,u),u+=b;return f}c-=f.getStringUnitWidth(l)*W}return d.halign==="justify"?f.text(l,c,u,{maxWidth:d.maxWidth||100,align:"justify"}):f.text(l,c,u),f}o.default=a},420:function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getPageAvailableWidth=o.parseSpacing=o.getFillStyle=o.addTableBorder=o.getStringWidth=void 0;function a(f,h,_){_.applyStyles(h,!0);var g=Array.isArray(f)?f:[f],y=g.map(function(b){return _.getTextWidth(b)}).reduce(function(b,E){return Math.max(b,E)},0);return y}o.getStringWidth=a;function l(f,h,_,g){var y=h.settings.tableLineWidth,b=h.settings.tableLineColor;f.applyStyles({lineWidth:y,lineColor:b});var E=c(y,!1);E&&f.rect(_.x,_.y,h.getWidth(f.pageSize().width),g.y-_.y,E)}o.addTableBorder=l;function c(f,h){var _=f>0,g=h||h===0;return _&&g?"DF":_?"S":g?"F":null}o.getFillStyle=c;function u(f,h){var _,g,y,b;if(f=f||h,Array.isArray(f)){if(f.length>=4)return{top:f[0],right:f[1],bottom:f[2],left:f[3]};if(f.length===3)return{top:f[0],right:f[1],bottom:f[2],left:f[1]};if(f.length===2)return{top:f[0],right:f[1],bottom:f[0],left:f[1]};f.length===1?f=f[0]:f=h}return typeof f=="object"?(typeof f.vertical=="number"&&(f.top=f.vertical,f.bottom=f.vertical),typeof f.horizontal=="number"&&(f.right=f.horizontal,f.left=f.horizontal),{left:(_=f.left)!==null&&_!==void 0?_:h,top:(g=f.top)!==null&&g!==void 0?g:h,right:(y=f.right)!==null&&y!==void 0?y:h,bottom:(b=f.bottom)!==null&&b!==void 0?b:h}):(typeof f!="number"&&(f=h),{top:f,right:f,bottom:f,left:f})}o.parseSpacing=u;function d(f,h){var _=u(h.settings.margin,0);return f.pageSize().width-(_.left+_.right)}o.getPageAvailableWidth=d},796:function(s,o){var a=this&&this.__extends||function(){var d=function(f,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(_[y]=g[y])},d(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(f,h);function _(){this.constructor=f}f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.getTheme=o.defaultStyles=o.HtmlRowInput=void 0;var l=function(d){a(f,d);function f(h){var _=d.call(this)||this;return _._element=h,_}return f}(Array);o.HtmlRowInput=l;function c(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}o.defaultStyles=c;function u(d){var f={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return f[d]}o.getTheme=u},903:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseCss=void 0;var l=a(420);function c(_,g,y,b,E){var F={},U=1.3333333333333333,W=d(g,function(ie){return E.getComputedStyle(ie).backgroundColor});W!=null&&(F.fillColor=W);var te=d(g,function(ie){return E.getComputedStyle(ie).color});te!=null&&(F.textColor=te);var I=h(b,y);I&&(F.cellPadding=I);var T="borderTopColor",L=U*y,N=b.borderTopWidth;if(b.borderBottomWidth===N&&b.borderRightWidth===N&&b.borderLeftWidth===N){var D=(parseFloat(N)||0)/L;D&&(F.lineWidth=D)}else F.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/L,right:(parseFloat(b.borderRightWidth)||0)/L,bottom:(parseFloat(b.borderBottomWidth)||0)/L,left:(parseFloat(b.borderLeftWidth)||0)/L},F.lineWidth.top||(F.lineWidth.right?T="borderRightColor":F.lineWidth.bottom?T="borderBottomColor":F.lineWidth.left&&(T="borderLeftColor"));console.log(F.lineWidth);var M=d(g,function(ie){return E.getComputedStyle(ie)[T]});M!=null&&(F.lineColor=M);var R=["left","right","center","justify"];R.indexOf(b.textAlign)!==-1&&(F.halign=b.textAlign),R=["middle","bottom","top"],R.indexOf(b.verticalAlign)!==-1&&(F.valign=b.verticalAlign);var Q=parseInt(b.fontSize||"");isNaN(Q)||(F.fontSize=Q/U);var oe=u(b);oe&&(F.fontStyle=oe);var le=(b.fontFamily||"").toLowerCase();return _.indexOf(le)!==-1&&(F.font=le),F}o.parseCss=c;function u(_){var g="";return(_.fontWeight==="bold"||_.fontWeight==="bolder"||parseInt(_.fontWeight)>=700)&&(g="bold"),(_.fontStyle==="italic"||_.fontStyle==="oblique")&&(g+="italic"),g}function d(_,g){var y=f(_,g);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var E=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],F=parseInt(b[4]);return F===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function f(_,g){var y=g(_);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?_.parentElement==null?null:f(_.parentElement,g):y}function h(_,g){var y=[_.paddingTop,_.paddingRight,_.paddingBottom,_.paddingLeft],b=96/(72/g),E=(parseInt(_.lineHeight)-parseInt(_.fontSize))/g/2,F=y.map(function(W){return parseInt(W||"0")/b}),U=(0,l.parseSpacing)(F,0);return E>U.top&&(U.top=E),E>U.bottom&&(U.bottom=E),U}},744:function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DocHandler=void 0;var a={},l=function(){function c(u){this.jsPDFDocument=u,this.userStyles={textColor:u.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:u.internal.getFontSize(),fontStyle:u.internal.getFont().fontStyle,font:u.internal.getFont().fontName,lineWidth:u.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:u.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return c.setDefaults=function(u,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=u:a=u},c.unifyColor=function(u){return Array.isArray(u)?u:typeof u=="number"?[u,u,u]:typeof u=="string"?[u]:null},c.prototype.applyStyles=function(u,d){var f,h,_;d===void 0&&(d=!1),u.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(u.fontStyle);var g=this.jsPDFDocument.internal.getFont(),y=g.fontStyle,b=g.fontName;if(u.font&&(b=u.font),u.fontStyle){y=u.fontStyle;var E=this.getFontList()[b];E&&E.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),y=E[0])}if(this.jsPDFDocument.setFont(b,y),u.fontSize&&this.jsPDFDocument.setFontSize(u.fontSize),!d){var F=c.unifyColor(u.fillColor);F&&(f=this.jsPDFDocument).setFillColor.apply(f,F),F=c.unifyColor(u.textColor),F&&(h=this.jsPDFDocument).setTextColor.apply(h,F),F=c.unifyColor(u.lineColor),F&&(_=this.jsPDFDocument).setDrawColor.apply(_,F),typeof u.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(u.lineWidth)}},c.prototype.splitTextToSize=function(u,d,f){return this.jsPDFDocument.splitTextToSize(u,d,f)},c.prototype.rect=function(u,d,f,h,_){return this.jsPDFDocument.rect(u,d,f,h,_)},c.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},c.prototype.getTextWidth=function(u){return this.jsPDFDocument.getTextWidth(u)},c.prototype.getDocument=function(){return this.jsPDFDocument},c.prototype.setPage=function(u){this.jsPDFDocument.setPage(u)},c.prototype.addPage=function(){return this.jsPDFDocument.addPage()},c.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},c.prototype.getGlobalOptions=function(){return a||{}},c.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},c.prototype.pageSize=function(){var u=this.jsPDFDocument.internal.pageSize;return u.width==null&&(u={width:u.getWidth(),height:u.getHeight()}),u},c.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},c.prototype.getLineHeightFactor=function(){var u=this.jsPDFDocument;return u.getLineHeightFactor?u.getLineHeightFactor():1.15},c.prototype.getLineHeight=function(u){return u/this.scaleFactor()*this.getLineHeightFactor()},c.prototype.pageNumber=function(){var u=this.jsPDFDocument.internal.getCurrentPageInfo();return u?u.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},c}();o.DocHandler=l},4:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseHtml=void 0;var l=a(903),c=a(796);function u(h,_,g,y,b){var E,F;y===void 0&&(y=!1),b===void 0&&(b=!1);var U;typeof _=="string"?U=g.document.querySelector(_):U=_;var W=Object.keys(h.getFontList()),te=h.scaleFactor(),I=[],T=[],L=[];if(!U)return console.error("Html table could not be found with input: ",_),{head:I,body:T,foot:L};for(var N=0;N<U.rows.length;N++){var D=U.rows[N],M=(F=(E=D?.parentElement)===null||E===void 0?void 0:E.tagName)===null||F===void 0?void 0:F.toLowerCase(),R=d(W,te,g,D,y,b);R&&(M==="thead"?I.push(R):M==="tfoot"?L.push(R):T.push(R))}return{head:I,body:T,foot:L}}o.parseHtml=u;function d(h,_,g,y,b,E){for(var F=new c.HtmlRowInput(y),U=0;U<y.cells.length;U++){var W=y.cells[U],te=g.getComputedStyle(W);if(b||te.display!=="none"){var I=void 0;E&&(I=(0,l.parseCss)(h,W,_,te,g)),F.push({rowSpan:W.rowSpan,colSpan:W.colSpan,styles:I,_element:W,content:f(W)})}}var T=g.getComputedStyle(y);if(F.length>0&&(b||T.display!=="none"))return F}function f(h){var _=h.cloneNode(!0);return _.innerHTML=_.innerHTML.replace(/\n/g,"").replace(/ +/g," "),_.innerHTML=_.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),_.innerText||_.textContent||""}},776:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseInput=void 0;var l=a(4),c=a(356),u=a(420),d=a(744),f=a(792);function h(U,W){var te=new d.DocHandler(U),I=te.getDocumentOptions(),T=te.getGlobalOptions();(0,f.default)(te,T,I,W);var L=(0,c.assign)({},T,I,W),N;typeof window<"u"&&(N=window);var D=_(T,I,W),M=g(T,I,W),R=y(te,L),Q=E(te,L,N);return{id:W.tableId,content:Q,hooks:M,styles:D,settings:R}}o.parseInput=h;function _(U,W,te){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},T=function(M){if(M==="columnStyles"){var R=U[M],Q=W[M],oe=te[M];I.columnStyles=(0,c.assign)({},R,Q,oe)}else{var le=[U,W,te],ie=le.map(function(fe){return fe[M]||{}});I[M]=(0,c.assign)({},ie[0],ie[1],ie[2])}},L=0,N=Object.keys(I);L<N.length;L++){var D=N[L];T(D)}return I}function g(U,W,te){for(var I=[U,W,te],T={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},L=0,N=I;L<N.length;L++){var D=N[L];D.didParseCell&&T.didParseCell.push(D.didParseCell),D.willDrawCell&&T.willDrawCell.push(D.willDrawCell),D.didDrawCell&&T.didDrawCell.push(D.didDrawCell),D.willDrawPage&&T.willDrawPage.push(D.willDrawPage),D.didDrawPage&&T.didDrawPage.push(D.didDrawPage)}return T}function y(U,W){var te,I,T,L,N,D,M,R,Q,oe,le,ie,fe=(0,u.parseSpacing)(W.margin,40/U.scaleFactor()),be=(te=b(U,W.startY))!==null&&te!==void 0?te:fe.top,Ce;W.showFoot===!0?Ce="everyPage":W.showFoot===!1?Ce="never":Ce=(I=W.showFoot)!==null&&I!==void 0?I:"everyPage";var Ue;W.showHead===!0?Ue="everyPage":W.showHead===!1?Ue="never":Ue=(T=W.showHead)!==null&&T!==void 0?T:"everyPage";var C=(L=W.useCss)!==null&&L!==void 0?L:!1,q=W.theme||(C?"plain":"striped"),j=!!W.horizontalPageBreak,X=(N=W.horizontalPageBreakRepeat)!==null&&N!==void 0?N:null;return{includeHiddenHtml:(D=W.includeHiddenHtml)!==null&&D!==void 0?D:!1,useCss:C,theme:q,startY:be,margin:fe,pageBreak:(M=W.pageBreak)!==null&&M!==void 0?M:"auto",rowPageBreak:(R=W.rowPageBreak)!==null&&R!==void 0?R:"auto",tableWidth:(Q=W.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:Ue,showFoot:Ce,tableLineWidth:(oe=W.tableLineWidth)!==null&&oe!==void 0?oe:0,tableLineColor:(le=W.tableLineColor)!==null&&le!==void 0?le:200,horizontalPageBreak:j,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(ie=W.horizontalPageBreakBehaviour)!==null&&ie!==void 0?ie:"afterAllRows"}}function b(U,W){var te=U.getLastAutoTable(),I=U.scaleFactor(),T=U.pageNumber(),L=!1;if(te&&te.startPageNumber){var N=te.startPageNumber+te.pageNumber-1;L=N===T}return typeof W=="number"?W:(W==null||W===!1)&&L&&te?.finalY!=null?te.finalY+20/I:null}function E(U,W,te){var I=W.head||[],T=W.body||[],L=W.foot||[];if(W.html){var N=W.includeHiddenHtml;if(te){var D=(0,l.parseHtml)(U,W.html,te,N,W.useCss)||{};I=D.head||I,T=D.body||I,L=D.foot||I}else console.error("Cannot parse html in non browser environment")}var M=W.columns||F(I,T,L);return{columns:M,head:I,body:T,foot:L}}function F(U,W,te){var I=U[0]||W[0]||te[0]||[],T=[];return Object.keys(I).filter(function(L){return L!=="_element"}).forEach(function(L){var N=1,D;Array.isArray(I)?D=I[parseInt(L)]:D=I[L],typeof D=="object"&&!Array.isArray(D)&&(N=D?.colSpan||1);for(var M=0;M<N;M++){var R=void 0;Array.isArray(I)?R=T.length:R=L+(M>0?"_".concat(M):"");var Q={dataKey:R};T.push(Q)}}),T}},792:function(s,o){Object.defineProperty(o,"__esModule",{value:!0});function a(c,u,d,f){for(var h=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(L){c.applyStyles(c.userStyles),b.beforePageContent&&b.beforePageContent(L),c.applyStyles(c.userStyles),b.afterPageContent&&b.afterPageContent(L),c.applyStyles(c.userStyles),b.afterPageAdd&&L.pageNumber>1&&L.afterPageAdd(L),c.applyStyles(c.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(L){b[L]&&console.error('The "'.concat(L,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(L){var N=L[0],D=L[1];b[D]&&(console.error("Use of deprecated option ".concat(D,". Use ").concat(N," instead")),b[N]=b[D])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(L){var N=typeof L=="string"?L:L[0],D=typeof L=="string"?L:L[1];typeof b[N]<"u"&&(typeof b.styles[D]>"u"&&(b.styles[D]=b[N]),console.error("Use of deprecated option: "+N+", use the style "+D+" instead."))});for(var E=0,F=["styles","bodyStyles","headStyles","footStyles"];E<F.length;E++){var U=F[E];l(b[U]||{})}for(var W=b.columnStyles||{},te=0,I=Object.keys(W);te<I.length;te++){var T=I[te];l(W[T]||{})}},_=0,g=[u,d,f];_<g.length;_++){var y=g[_];h(y)}}o.default=a;function l(c){c.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),c.minCellHeight||(c.minCellHeight=c.rowHeight)):c.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),c.cellWidth||(c.cellWidth=c.columnWidth))}},260:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.Column=o.Cell=o.Row=o.Table=void 0;var l=a(796),c=a(172),u=a(420),d=function(){function g(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return g.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,E){return b+E.getMaxCellHeight(y)},0)},g.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,E){return b+E.getMaxCellHeight(y)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(y,b,E,F,U,W){for(var te=0,I=b;te<I.length;te++){var T=I[te],L=new c.CellHookData(y,this,E,F,U,W),N=T(L)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],N)return!1}return!0},g.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var E=0,F=this.hooks.didDrawPage;E<F.length;E++){var U=F[E];U(new c.HookData(y,this,b))}},g.prototype.callWillDrawPageHooks=function(y,b){for(var E=0,F=this.hooks.willDrawPage;E<F.length;E++){var U=F[E];U(new c.HookData(y,this,b))}},g.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(F,U){return F+U.wrappedWidth},0);return b}else{var E=this.settings.margin;return y-E.left-E.right}},g}();o.Table=d;var f=function(){function g(y,b,E,F,U){U===void 0&&(U=!1),this.height=0,this.raw=y,y instanceof l.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=E,this.cells=F,this.spansMultiplePages=U}return g.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(E,F){var U;return Math.max(E,((U=b.cells[F.index])===null||U===void 0?void 0:U.height)||0)},0)},g.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(E){var F=b.cells[E.index];return F?F.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},g.prototype.getMinimumRowHeight=function(y,b){var E=this;return y.reduce(function(F,U){var W=E.cells[U.index];if(!W)return 0;var te=b.getLineHeight(W.styles.fontSize),I=W.padding("vertical"),T=I+te;return T>F?T:F},0)},g}();o.Row=f;var h=function(){function g(y,b,E){var F,U;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=E,this.raw=y;var W=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,W=(U=(F=y.content)!==null&&F!==void 0?F:y.title)!==null&&U!==void 0?U:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var te=W!=null?""+W:"",I=/\r\n|\r|\n/g;this.text=te.split(I)}return g.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var F=this.width-this.padding("horizontal");E=this.x+F/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y}},g.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var E=Array.isArray(this.text)?this.text.length:1,F=this.styles.fontSize/y*b,U=E*F+this.padding("vertical");return Math.max(U,this.styles.minCellHeight)},g.prototype.padding=function(y){var b=(0,u.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},g}();o.Cell=h;var _=function(){function g(y,b,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=E}return g.prototype.getMaxCustomCellWidth=function(y){for(var b=0,E=0,F=y.allRows();E<F.length;E++){var U=F[E],W=U.cells[this.index];W&&typeof W.styles.cellWidth=="number"&&(b=Math.max(b,W.styles.cellWidth))}return b},g}();o.Column=_},356:function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assign=void 0;function a(l,c,u,d,f){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(l),_=1;_<arguments.length;_++){var g=arguments[_];if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}return h}o.assign=a},972:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.createTable=void 0;var l=a(744),c=a(260),u=a(324),d=a(796),f=a(356);function h(U,W){var te=new l.DocHandler(U),I=_(W,te.scaleFactor()),T=new c.Table(W,I);return(0,u.calculateWidths)(te,T),te.applyStyles(te.userStyles),T}o.createTable=h;function _(U,W){var te=U.content,I=E(te.columns);if(te.head.length===0){var T=y(I,"head");T&&te.head.push(T)}if(te.foot.length===0){var T=y(I,"foot");T&&te.foot.push(T)}var L=U.settings.theme,N=U.styles;return{columns:I,head:g("head",te.head,I,N,L,W),body:g("body",te.body,I,N,L,W),foot:g("foot",te.foot,I,N,L,W)}}function g(U,W,te,I,T,L){var N={},D=W.map(function(M,R){for(var Q=0,oe={},le=0,ie=0,fe=0,be=te;fe<be.length;fe++){var Ce=be[fe];if(N[Ce.index]==null||N[Ce.index].left===0)if(ie===0){var Ue=void 0;Array.isArray(M)?Ue=M[Ce.index-le-Q]:Ue=M[Ce.dataKey];var C={};typeof Ue=="object"&&!Array.isArray(Ue)&&(C=Ue?.styles||{});var q=F(U,Ce,R,T,I,L,C),j=new c.Cell(Ue,q,U);oe[Ce.dataKey]=j,oe[Ce.index]=j,ie=j.colSpan-1,N[Ce.index]={left:j.rowSpan-1,times:ie}}else ie--,le++;else N[Ce.index].left--,ie=N[Ce.index].times,Q++}return new c.Row(M,R,U,oe)});return D}function y(U,W){var te={};return U.forEach(function(I){if(I.raw!=null){var T=b(W,I.raw);T!=null&&(te[I.dataKey]=T)}}),Object.keys(te).length>0?te:null}function b(U,W){if(U==="head"){if(typeof W=="object")return W.header||W.title||null;if(typeof W=="string"||typeof W=="number")return W}else if(U==="foot"&&typeof W=="object")return W.footer;return null}function E(U){return U.map(function(W,te){var I,T,L;return typeof W=="object"?L=(T=(I=W.dataKey)!==null&&I!==void 0?I:W.key)!==null&&T!==void 0?T:te:L=te,new c.Column(L,W,te)})}function F(U,W,te,I,T,L,N){var D=(0,d.getTheme)(I),M;U==="head"?M=T.headStyles:U==="body"?M=T.bodyStyles:U==="foot"&&(M=T.footStyles);var R=(0,f.assign)({},D.table,D[U],T.styles,M),Q=T.columnStyles[W.dataKey]||T.columnStyles[W.index]||{},oe=U==="body"?Q:{},le=U==="body"&&te%2===0?(0,f.assign)({},D.alternateRow,T.alternateRowStyles):{},ie=(0,d.defaultStyles)(L),fe=(0,f.assign)({},ie,R,le,oe);return(0,f.assign)(fe,N)}},664:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.addPage=o.drawTable=void 0;var l=a(420),c=a(260),u=a(744),d=a(356),f=a(136),h=a(224);function _(Q,oe){var le=oe.settings,ie=le.startY,fe=le.margin,be={x:fe.left,y:ie},Ce=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns),Ue=ie+fe.bottom+Ce;if(le.pageBreak==="avoid"){var C=oe.body,q=C.reduce(function(de,xe){return de+xe.height},0);Ue+=q}var j=new u.DocHandler(Q);(le.pageBreak==="always"||le.startY!=null&&Ue>j.pageSize().height)&&(R(j),be.y=fe.top),oe.callWillDrawPageHooks(j,be);var X=(0,d.assign)({},be);oe.startPageNumber=j.pageNumber(),le.horizontalPageBreak?g(j,oe,X,be):(j.applyStyles(j.userStyles),(le.showHead==="firstPage"||le.showHead==="everyPage")&&oe.head.forEach(function(de){return T(j,oe,de,be,oe.columns)}),j.applyStyles(j.userStyles),oe.body.forEach(function(de,xe){var Ee=xe===oe.body.length-1;I(j,oe,de,Ee,X,be,oe.columns)}),j.applyStyles(j.userStyles),(le.showFoot==="lastPage"||le.showFoot==="everyPage")&&oe.foot.forEach(function(de){return T(j,oe,de,be,oe.columns)})),(0,l.addTableBorder)(j,oe,X,be),oe.callEndPageHooks(j,be),oe.finalY=be.y,Q.lastAutoTable=oe,Q.previousAutoTable=oe,Q.autoTable&&(Q.autoTable.previous=oe),j.applyStyles(j.userStyles)}o.drawTable=_;function g(Q,oe,le,ie){var fe=(0,h.calculateAllColumnsCanFitInPage)(Q,oe),be=oe.settings;if(be.horizontalPageBreakBehaviour==="afterAllRows")fe.forEach(function(q,j){Q.applyStyles(Q.userStyles),j>0?M(Q,oe,le,ie,q.columns,!0):y(Q,oe,ie,q.columns),b(Q,oe,le,ie,q.columns),F(Q,oe,ie,q.columns)});else for(var Ce=-1,Ue=fe[0],C=function(){var q=Ce;if(Ue){Q.applyStyles(Q.userStyles);var j=Ue.columns;Ce>=0?M(Q,oe,le,ie,j,!0):y(Q,oe,ie,j),q=E(Q,oe,Ce+1,ie,j),F(Q,oe,ie,j)}var X=q-Ce;fe.slice(1).forEach(function(de){Q.applyStyles(Q.userStyles),M(Q,oe,le,ie,de.columns,!0),E(Q,oe,Ce+1,ie,de.columns,X),F(Q,oe,ie,de.columns)}),Ce=q};Ce<oe.body.length-1;)C()}function y(Q,oe,le,ie){var fe=oe.settings;Q.applyStyles(Q.userStyles),(fe.showHead==="firstPage"||fe.showHead==="everyPage")&&oe.head.forEach(function(be){return T(Q,oe,be,le,ie)})}function b(Q,oe,le,ie,fe){Q.applyStyles(Q.userStyles),oe.body.forEach(function(be,Ce){var Ue=Ce===oe.body.length-1;I(Q,oe,be,Ue,le,ie,fe)})}function E(Q,oe,le,ie,fe,be){Q.applyStyles(Q.userStyles),be=be??oe.body.length;var Ce=Math.min(le+be,oe.body.length),Ue=-1;return oe.body.slice(le,Ce).forEach(function(C,q){var j=le+q===oe.body.length-1,X=D(Q,oe,j,ie);C.canEntireRowFit(X,fe)&&(T(Q,oe,C,ie,fe),Ue=le+q)}),Ue}function F(Q,oe,le,ie){var fe=oe.settings;Q.applyStyles(Q.userStyles),(fe.showFoot==="lastPage"||fe.showFoot==="everyPage")&&oe.foot.forEach(function(be){return T(Q,oe,be,le,ie)})}function U(Q,oe,le){var ie=le.getLineHeight(Q.styles.fontSize),fe=Q.padding("vertical"),be=Math.floor((oe-fe)/ie);return Math.max(0,be)}function W(Q,oe,le,ie){var fe={};Q.spansMultiplePages=!0,Q.height=0;for(var be=0,Ce=0,Ue=le.columns;Ce<Ue.length;Ce++){var C=Ue[Ce],q=Q.cells[C.index];if(q){Array.isArray(q.text)||(q.text=[q.text]);var j=new c.Cell(q.raw,q.styles,q.section);j=(0,d.assign)(j,q),j.text=[];var X=U(q,oe,ie);q.text.length>X&&(j.text=q.text.splice(X,q.text.length));var de=ie.scaleFactor(),xe=ie.getLineHeightFactor();q.contentHeight=q.getContentHeight(de,xe),q.contentHeight>=oe&&(q.contentHeight=oe,j.styles.minCellHeight-=oe),q.contentHeight>Q.height&&(Q.height=q.contentHeight),j.contentHeight=j.getContentHeight(de,xe),j.contentHeight>be&&(be=j.contentHeight),fe[C.index]=j}}var Ee=new c.Row(Q.raw,-1,Q.section,fe,!0);Ee.height=be;for(var Te=0,Fe=le.columns;Te<Fe.length;Te++){var C=Fe[Te],j=Ee.cells[C.index];j&&(j.height=Ee.height);var q=Q.cells[C.index];q&&(q.height=Q.height)}return Ee}function te(Q,oe,le,ie){var fe=Q.pageSize().height,be=ie.settings.margin,Ce=be.top+be.bottom,Ue=fe-Ce;oe.section==="body"&&(Ue-=ie.getHeadHeight(ie.columns)+ie.getFootHeight(ie.columns));var C=oe.getMinimumRowHeight(ie.columns,Q),q=C<le;if(C>Ue)return console.error("Will not be able to print row ".concat(oe.index," correctly since it's minimum height is larger than page height")),!0;if(!q)return!1;var j=oe.hasRowSpan(ie.columns),X=oe.getMaxCellHeight(ie.columns)>Ue;return X?(j&&console.error("The content of row ".concat(oe.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(j||ie.settings.rowPageBreak==="avoid")}function I(Q,oe,le,ie,fe,be,Ce){var Ue=D(Q,oe,ie,be);if(le.canEntireRowFit(Ue,Ce))T(Q,oe,le,be,Ce);else if(te(Q,le,Ue,oe)){var C=W(le,Ue,oe,Q);T(Q,oe,le,be,Ce),M(Q,oe,fe,be,Ce),I(Q,oe,C,ie,fe,be,Ce)}else M(Q,oe,fe,be,Ce),I(Q,oe,le,ie,fe,be,Ce)}function T(Q,oe,le,ie,fe){ie.x=oe.settings.margin.left;for(var be=0,Ce=fe;be<Ce.length;be++){var Ue=Ce[be],C=le.cells[Ue.index];if(!C){ie.x+=Ue.width;continue}Q.applyStyles(C.styles),C.x=ie.x,C.y=ie.y;var q=oe.callCellHooks(Q,oe.hooks.willDrawCell,C,le,Ue,ie);if(q===!1){ie.x+=Ue.width;continue}L(Q,C,ie);var j=C.getTextPos();(0,f.default)(C.text,j.x,j.y,{halign:C.styles.halign,valign:C.styles.valign,maxWidth:Math.ceil(C.width-C.padding("left")-C.padding("right"))},Q.getDocument()),oe.callCellHooks(Q,oe.hooks.didDrawCell,C,le,Ue,ie),ie.x+=Ue.width}ie.y+=le.height}function L(Q,oe,le){var ie=oe.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof ie.lineWidth=="number"){var fe=(0,l.getFillStyle)(ie.lineWidth,ie.fillColor);fe&&Q.rect(oe.x,le.y,oe.width,oe.height,fe)}else typeof ie.lineWidth=="object"&&(ie.fillColor&&Q.rect(oe.x,le.y,oe.width,oe.height,"F"),N(Q,oe,le,ie.lineWidth))}function N(Q,oe,le,ie){var fe,be,Ce,Ue;ie.top&&(fe=le.x,be=le.y,Ce=le.x+oe.width,Ue=le.y,ie.right&&(Ce+=.5*ie.right),ie.left&&(fe-=.5*ie.left),C(ie.top,fe,be,Ce,Ue)),ie.bottom&&(fe=le.x,be=le.y+oe.height,Ce=le.x+oe.width,Ue=le.y+oe.height,ie.right&&(Ce+=.5*ie.right),ie.left&&(fe-=.5*ie.left),C(ie.bottom,fe,be,Ce,Ue)),ie.left&&(fe=le.x,be=le.y,Ce=le.x,Ue=le.y+oe.height,ie.top&&(be-=.5*ie.top),ie.bottom&&(Ue+=.5*ie.bottom),C(ie.left,fe,be,Ce,Ue)),ie.right&&(fe=le.x+oe.width,be=le.y,Ce=le.x+oe.width,Ue=le.y+oe.height,ie.top&&(be-=.5*ie.top),ie.bottom&&(Ue+=.5*ie.bottom),C(ie.right,fe,be,Ce,Ue));function C(q,j,X,de,xe){Q.getDocument().setLineWidth(q),Q.getDocument().line(j,X,de,xe,"S")}}function D(Q,oe,le,ie){var fe=oe.settings.margin.bottom,be=oe.settings.showFoot;return(be==="everyPage"||be==="lastPage"&&le)&&(fe+=oe.getFootHeight(oe.columns)),Q.pageSize().height-ie.y-fe}function M(Q,oe,le,ie,fe,be){fe===void 0&&(fe=[]),be===void 0&&(be=!1),Q.applyStyles(Q.userStyles),oe.settings.showFoot==="everyPage"&&!be&&oe.foot.forEach(function(Ue){return T(Q,oe,Ue,ie,fe)}),oe.callEndPageHooks(Q,ie);var Ce=oe.settings.margin;(0,l.addTableBorder)(Q,oe,le,ie),R(Q),oe.pageNumber++,oe.pageCount++,ie.x=Ce.left,ie.y=Ce.top,le.y=Ce.top,oe.callWillDrawPageHooks(Q,ie),oe.settings.showHead==="everyPage"&&(oe.head.forEach(function(Ue){return T(Q,oe,Ue,ie,fe)}),Q.applyStyles(Q.userStyles))}o.addPage=M;function R(Q){var oe=Q.pageNumber();Q.setPage(oe+1);var le=Q.pageNumber();return le===oe?(Q.addPage(),!0):!1}},224:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.calculateAllColumnsCanFitInPage=void 0;var l=a(420);function c(d,f,h){var _;h===void 0&&(h={});var g=(0,l.getPageAvailableWidth)(d,f),y=new Map,b=[],E=[],F=[];f.settings.horizontalPageBreakRepeat,Array.isArray(f.settings.horizontalPageBreakRepeat)?F=f.settings.horizontalPageBreakRepeat:(typeof f.settings.horizontalPageBreakRepeat=="string"||typeof f.settings.horizontalPageBreakRepeat=="number")&&(F=[f.settings.horizontalPageBreakRepeat]),F.forEach(function(I){var T=f.columns.find(function(L){return L.dataKey===I||L.index===I});T&&!y.has(T.index)&&(y.set(T.index,!0),b.push(T.index),E.push(f.columns[T.index]),g-=T.wrappedWidth)});for(var U=!0,W=(_=h?.start)!==null&&_!==void 0?_:0;W<f.columns.length;){if(y.has(W)){W++;continue}var te=f.columns[W].wrappedWidth;if(U||g>=te)U=!1,b.push(W),E.push(f.columns[W]),g-=te;else break;W++}return{colIndexes:b,columns:E,lastIndex:W-1}}function u(d,f){for(var h=[],_=0;_<f.columns.length;_++){var g=c(d,f,{start:_});g.columns.length&&(h.push(g),_=g.lastIndex)}return h}o.calculateAllColumnsCanFitInPage=u},324:function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.ellipsize=o.resizeColumns=o.calculateWidths=void 0;var l=a(420);function c(b,E){u(b,E);var F=[],U=0;E.columns.forEach(function(te){var I=te.getMaxCustomCellWidth(E);I?te.width=I:(te.width=te.wrappedWidth,F.push(te)),U+=te.width});var W=E.getWidth(b.pageSize().width)-U;W&&(W=d(F,W,function(te){return Math.max(te.minReadableWidth,te.minWidth)})),W&&(W=d(F,W,function(te){return te.minWidth})),W=Math.abs(W),!E.settings.horizontalPageBreak&&W>.1/b.scaleFactor()&&(W=W<1?W:Math.round(W),console.warn("Of the table content, ".concat(W," units width could not fit page"))),h(E),_(E,b),f(E)}o.calculateWidths=c;function u(b,E){var F=b.scaleFactor(),U=E.settings.horizontalPageBreak,W=(0,l.getPageAvailableWidth)(b,E);E.allRows().forEach(function(te){for(var I=0,T=E.columns;I<T.length;I++){var L=T[I],N=te.cells[L.index];if(N){var D=E.hooks.didParseCell;E.callCellHooks(b,D,N,te,L,null);var M=N.padding("horizontal");N.contentWidth=(0,l.getStringWidth)(N.text,N.styles,b)+M;var R=(0,l.getStringWidth)(N.text.join(" ").split(/\s+/),N.styles,b);if(N.minReadableWidth=R+N.padding("horizontal"),typeof N.styles.cellWidth=="number")N.minWidth=N.styles.cellWidth,N.wrappedWidth=N.styles.cellWidth;else if(N.styles.cellWidth==="wrap"||U===!0)N.contentWidth>W?(N.minWidth=W,N.wrappedWidth=W):(N.minWidth=N.contentWidth,N.wrappedWidth=N.contentWidth);else{var Q=10/F;N.minWidth=N.styles.minCellWidth||Q,N.wrappedWidth=N.contentWidth,N.minWidth>N.wrappedWidth&&(N.wrappedWidth=N.minWidth)}}}}),E.allRows().forEach(function(te){for(var I=0,T=E.columns;I<T.length;I++){var L=T[I],N=te.cells[L.index];if(N&&N.colSpan===1)L.wrappedWidth=Math.max(L.wrappedWidth,N.wrappedWidth),L.minWidth=Math.max(L.minWidth,N.minWidth),L.minReadableWidth=Math.max(L.minReadableWidth,N.minReadableWidth);else{var D=E.styles.columnStyles[L.dataKey]||E.styles.columnStyles[L.index]||{},M=D.cellWidth||D.minCellWidth;M&&typeof M=="number"&&(L.minWidth=M,L.wrappedWidth=M)}N&&(N.colSpan>1&&!L.minWidth&&(L.minWidth=N.minWidth),N.colSpan>1&&!L.wrappedWidth&&(L.wrappedWidth=N.minWidth))}})}function d(b,E,F){for(var U=E,W=b.reduce(function(Q,oe){return Q+oe.wrappedWidth},0),te=0;te<b.length;te++){var I=b[te],T=I.wrappedWidth/W,L=U*T,N=I.width+L,D=F(I),M=N<D?D:N;E-=M-I.width,I.width=M}if(E=Math.round(E*1e10)/1e10,E){var R=b.filter(function(Q){return E<0?Q.width>F(Q):!0});R.length&&(E=d(R,E,F))}return E}o.resizeColumns=d;function f(b){for(var E={},F=1,U=b.allRows(),W=0;W<U.length;W++)for(var te=U[W],I=0,T=b.columns;I<T.length;I++){var L=T[I],N=E[L.index];if(F>1)F--,delete te.cells[L.index];else if(N)N.cell.height+=te.height,F=N.cell.colSpan,delete te.cells[L.index],N.left--,N.left<=1&&delete E[L.index];else{var D=te.cells[L.index];if(!D)continue;if(D.height=te.height,D.rowSpan>1){var M=U.length-W,R=D.rowSpan>M?M:D.rowSpan;E[L.index]={cell:D,left:R,row:te}}}}}function h(b){for(var E=b.allRows(),F=0;F<E.length;F++)for(var U=E[F],W=null,te=0,I=0,T=0;T<b.columns.length;T++){var L=b.columns[T];if(I-=1,I>1&&b.columns[T+1])te+=L.width,delete U.cells[L.index];else if(W){var N=W;delete U.cells[L.index],W=null,N.width=L.width+te}else{var N=U.cells[L.index];if(!N)continue;if(I=N.colSpan,te=0,N.colSpan>1){W=N,te+=L.width;continue}N.width=L.width+te}}}function _(b,E){for(var F={count:0,height:0},U=0,W=b.allRows();U<W.length;U++){for(var te=W[U],I=0,T=b.columns;I<T.length;I++){var L=T[I],N=te.cells[L.index];if(N){E.applyStyles(N.styles,!0);var D=N.width-N.padding("horizontal");if(N.styles.overflow==="linebreak")N.text=E.splitTextToSize(N.text,D+1/E.scaleFactor(),{fontSize:N.styles.fontSize});else if(N.styles.overflow==="ellipsize")N.text=g(N.text,D,N.styles,E,"...");else if(N.styles.overflow==="hidden")N.text=g(N.text,D,N.styles,E,"");else if(typeof N.styles.overflow=="function"){var M=N.styles.overflow(N.text,D);typeof M=="string"?N.text=[M]:N.text=M}N.contentHeight=N.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var R=N.contentHeight/N.rowSpan;N.rowSpan>1&&F.count*F.height<R*N.rowSpan?F={height:R,count:N.rowSpan}:F&&F.count>0&&F.height>R&&(R=F.height),R>te.height&&(te.height=R)}}F.count--}}function g(b,E,F,U,W){return b.map(function(te){return y(te,E,F,U,W)})}o.ellipsize=g;function y(b,E,F,U,W){var te=1e4*U.scaleFactor();if(E=Math.ceil(E*te)/te,E>=(0,l.getStringWidth)(b,F,U))return b;for(;E<(0,l.getStringWidth)(b+W,F,U)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+W}},964:function(s){if(typeof t>"u"){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}s.exports=t}},n={};function i(s){var o=n[s];if(o!==void 0)return o.exports;var a=n[s]={exports:{}};return e[s].call(a.exports,a,a.exports,i),a.exports}var r={};return function(){var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var o=i(340),a=i(776),l=i(664),c=i(972),u=i(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return u.Table}});var d=i(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var f=i(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return f.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return f.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return f.Row}});function h(E){(0,o.default)(E)}s.applyPlugin=h;function _(E,F){var U=(0,a.parseInput)(E,F),W=(0,c.createTable)(E,U);(0,l.drawTable)(E,W)}function g(E,F){var U=(0,a.parseInput)(E,F);return(0,c.createTable)(E,U)}s.__createTable=g;function y(E,F){(0,l.drawTable)(E,F)}s.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),h(b)}catch{}s.default=_}(),r}()})});var kW=RS((a9e,AW)=>{"use strict";AW.exports=Ibe;function vv(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function Ibe(t){if(t=t||{},t.circles)return Mbe(t);let e=new Map;if(e.set(Date,o=>new Date(o)),e.set(Map,(o,a)=>new Map(i(Array.from(o),a))),e.set(Set,(o,a)=>new Set(i(Array.from(o),a))),t.constructorHandlers)for(let o of t.constructorHandlers)e.set(o[0],o[1]);let n=null;return t.proto?s:r;function i(o,a){let l=Object.keys(o),c=new Array(l.length);for(let u=0;u<l.length;u++){let d=l[u],f=o[d];typeof f!="object"||f===null?c[d]=f:f.constructor!==Object&&(n=e.get(f.constructor))?c[d]=n(f,a):ArrayBuffer.isView(f)?c[d]=vv(f):c[d]=a(f)}return c}function r(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,r);if(o.constructor!==Object&&(n=e.get(o.constructor)))return n(o,r);let a={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=e.get(c.constructor))?a[l]=n(c,r):ArrayBuffer.isView(c)?a[l]=vv(c):a[l]=r(c)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(n=e.get(o.constructor)))return n(o,s);let a={};for(let l in o){let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=e.get(c.constructor))?a[l]=n(c,s):ArrayBuffer.isView(c)?a[l]=vv(c):a[l]=s(c)}return a}}function Mbe(t){let e=[],n=[],i=new Map;if(i.set(Date,l=>new Date(l)),i.set(Map,(l,c)=>new Map(s(Array.from(l),c))),i.set(Set,(l,c)=>new Set(s(Array.from(l),c))),t.constructorHandlers)for(let l of t.constructorHandlers)i.set(l[0],l[1]);let r=null;return t.proto?a:o;function s(l,c){let u=Object.keys(l),d=new Array(u.length);for(let f=0;f<u.length;f++){let h=u[f],_=l[h];if(typeof _!="object"||_===null)d[h]=_;else if(_.constructor!==Object&&(r=i.get(_.constructor)))d[h]=r(_,c);else if(ArrayBuffer.isView(_))d[h]=vv(_);else{let g=e.indexOf(_);g!==-1?d[h]=n[g]:d[h]=c(_)}}return d}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,o);let c={};e.push(l),n.push(c);for(let u in l){if(Object.hasOwnProperty.call(l,u)===!1)continue;let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,o);else if(ArrayBuffer.isView(d))c[u]=vv(d);else{let f=e.indexOf(d);f!==-1?c[u]=n[f]:c[u]=o(d)}}return e.pop(),n.pop(),c}function a(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,a);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,a);let c={};e.push(l),n.push(c);for(let u in l){let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,a);else if(ArrayBuffer.isView(d))c[u]=vv(d);else{let f=e.indexOf(d);f!==-1?c[u]=n[f]:c[u]=a(d)}}return e.pop(),n.pop(),c}}});function g3(t,e){return Object.is(t,e)}var cs=null,lx=!1,cx=1,rd=Symbol("SIGNAL");function hi(t){let e=cs;return cs=t,e}function v3(){return cs}var Mv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function GS(t){if(lx)throw new Error("");if(cs===null)return;cs.consumerOnSignalRead(t);let e=cs.nextProducerIndex++;if(fx(cs),e<cs.producerNode.length&&cs.producerNode[e]!==t&&Iv(cs)){let n=cs.producerNode[e];hx(n,cs.producerIndexOfThis[e])}cs.producerNode[e]!==t&&(cs.producerNode[e]=t,cs.producerIndexOfThis[e]=Iv(cs)?w3(t,cs,e):0),cs.producerLastReadVersion[e]=t.version}function lq(){cx++}function _3(t){if(!(Iv(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cx)){if(!t.producerMustRecompute(t)&&!qS(t)){t.dirty=!1,t.lastCleanEpoch=cx;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cx}}function y3(t){if(t.liveConsumerNode===void 0)return;let e=lx;lx=!0;try{for(let n of t.liveConsumerNode)n.dirty||cq(n)}finally{lx=e}}function x3(){return cs?.consumerAllowSignalWrites!==!1}function cq(t){t.dirty=!0,y3(t),t.consumerMarkedDirty?.(t)}function dx(t){return t&&(t.nextProducerIndex=0),hi(t)}function WS(t,e){if(hi(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Iv(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hx(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qS(t){fx(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(_3(n),i!==n.version))return!0}return!1}function XS(t){if(fx(t),Iv(t))for(let e=0;e<t.producerNode.length;e++)hx(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function w3(t,e,n){if(b3(t),t.liveConsumerNode.length===0&&C3(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=w3(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hx(t,e){if(b3(t),t.liveConsumerNode.length===1&&C3(t))for(let i=0;i<t.producerNode.length;i++)hx(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];fx(r),r.producerIndexOfThis[i]=e}}function Iv(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fx(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function b3(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function C3(t){return t.producerNode!==void 0}function T3(t){let e=Object.create(uq);e.computation=t;let n=()=>{if(_3(e),GS(e),e.value===ux)throw e.error;return e.value};return n[rd]=e,n}var zS=Symbol("UNSET"),$S=Symbol("COMPUTING"),ux=Symbol("ERRORED"),uq=hn(ut({},Mv),{value:zS,dirty:!0,error:null,equal:g3,producerMustRecompute(t){return t.value===zS||t.value===$S},producerRecomputeValue(t){if(t.value===$S)throw new Error("Detected cycle in computations.");let e=t.value;t.value=$S;let n=dx(t),i;try{i=t.computation()}catch(r){i=ux,t.error=r}finally{WS(t,n)}if(e!==zS&&e!==ux&&i!==ux&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function dq(){throw new Error}var S3=dq;function E3(){S3()}function A3(t){S3=t}var hq=null;function k3(t){let e=Object.create(I3);e.value=t;let n=()=>(GS(e),e.value);return n[rd]=e,n}function YS(t,e){x3()||E3(),t.equal(t.value,e)||(t.value=e,fq(t))}function D3(t,e){x3()||E3(),YS(t,e(t.value))}var I3=hn(ut({},Mv),{equal:g3,value:void 0});function fq(t){t.version++,lq(),y3(t),hq?.()}function En(t){return typeof t=="function"}function q0(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var px=q0(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gf(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xr=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(En(i))try{i()}catch(s){e=s instanceof px?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{M3(s)}catch(o){e=e??[],o instanceof px?e=[...e,...o.errors]:e.push(o)}}if(e)throw new px(e)}}add(e){var n;if(e&&e!==this)if(this.closed)M3(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gf(n,e)}remove(e){let{_finalizers:n}=this;n&&Gf(n,e),e instanceof t&&e._removeParent(this)}};xr.EMPTY=(()=>{let t=new xr;return t.closed=!0,t})();var KS=xr.EMPTY;function mx(t){return t instanceof xr||t&&"closed"in t&&En(t.remove)&&En(t.add)&&En(t.unsubscribe)}function M3(t){En(t)?t():t.unsubscribe()}var ac={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var X0={setTimeout(t,e,...n){let{delegate:i}=X0;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=X0;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gx(t){X0.setTimeout(()=>{let{onUnhandledError:e}=ac;if(e)e(t);else throw t})}function Pv(){}var P3=QS("C",void 0,void 0);function F3(t){return QS("E",void 0,t)}function L3(t){return QS("N",t,void 0)}function QS(t,e,n){return{kind:t,value:e,error:n}}var Wf=null;function Y0(t){if(ac.useDeprecatedSynchronousErrorHandling){let e=!Wf;if(e&&(Wf={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Wf;if(Wf=null,n)throw i}}else t()}function N3(t){ac.useDeprecatedSynchronousErrorHandling&&Wf&&(Wf.errorThrown=!0,Wf.error=t)}var qf=class extends xr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mx(e)&&e.add(this)):this.destination=gq}static create(e,n,i){return new sd(e,n,i)}next(e){this.isStopped?JS(L3(e),this):this._next(e)}error(e){this.isStopped?JS(F3(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?JS(P3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pq=Function.prototype.bind;function ZS(t,e){return pq.call(t,e)}var eE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){vx(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){vx(i)}else vx(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vx(n)}}},sd=class extends qf{constructor(e,n,i){super();let r;if(En(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&ac.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ZS(e.next,s),error:e.error&&ZS(e.error,s),complete:e.complete&&ZS(e.complete,s)}):r=e}this.destination=new eE(r)}};function vx(t){ac.useDeprecatedSynchronousErrorHandling?N3(t):gx(t)}function mq(t){throw t}function JS(t,e){let{onStoppedNotification:n}=ac;n&&X0.setTimeout(()=>n(t,e))}var gq={closed:!0,next:Pv,error:mq,complete:Pv};var K0=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Oo(t){return t}function tE(...t){return nE(t)}function nE(t){return t.length===0?Oo:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var An=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=_q(n)?n:new sd(n,i,r);return Y0(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=O3(i),new i((r,s)=>{let o=new sd({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[K0](){return this}pipe(...n){return nE(n)(this)}toPromise(n){return n=O3(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function O3(t){var e;return(e=t??ac.Promise)!==null&&e!==void 0?e:Promise}function vq(t){return t&&En(t.next)&&En(t.error)&&En(t.complete)}function _q(t){return t&&t instanceof qf||vq(t)&&mx(t)}function iE(t){return En(t?.lift)}function Mn(t){return e=>{if(iE(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function kn(t,e,n,i,r){return new rE(t,e,n,i,r)}var rE=class extends qf{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Q0(){return Mn((t,e)=>{let n=null;t._refCount++;let i=kn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Z0=class extends An{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,iE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xr;let n=this.getSubject();e.add(this.source.subscribe(kn(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xr.EMPTY)}return e}refCount(){return Q0()(this)}};var R3=q0(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var cr=(()=>{class t extends An{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new _x(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new R3}next(n){Y0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Y0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Y0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?KS:(this.currentObservers=null,s.push(n),new xr(()=>{this.currentObservers=null,Gf(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new An;return n.source=this,n}}return t.create=(e,n)=>new _x(e,n),t})(),_x=class extends cr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:KS}};var Vr=class extends cr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Fv={now(){return(Fv.delegate||Date).now()},delegate:void 0};var vh=class extends cr{constructor(e=1/0,n=1/0,i=Fv){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var yx=class extends xr{constructor(e,n){super()}schedule(e,n=0){return this}};var Lv={setInterval(t,e,...n){let{delegate:i}=Lv;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Lv;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var J0=class extends yx{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Lv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Lv.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gf(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var em=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};em.now=Fv.now;var tm=class extends em{constructor(e,n=em.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var _l=new tm(J0),sE=_l;var xx=class extends J0{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var wx=class extends tm{};var oE=new wx(xx);var Ro=new An(t=>t.complete());function bx(t){return t&&En(t.schedule)}function aE(t){return t[t.length-1]}function Cx(t){return En(aE(t))?t.pop():void 0}function Jc(t){return bx(aE(t))?t.pop():void 0}function V3(t,e){return typeof aE(t)=="number"?t.pop():e}var Tx=t=>t&&typeof t.length=="number"&&typeof t!="function";function Sx(t){return En(t?.then)}function Ex(t){return En(t[K0])}function Ax(t){return Symbol.asyncIterator&&En(t?.[Symbol.asyncIterator])}function kx(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yq(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dx=yq();function Ix(t){return En(t?.[Dx])}function Mx(t){return d3(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield nx(n.read());if(r)return yield nx(void 0);yield yield nx(i)}}finally{n.releaseLock()}})}function Px(t){return En(t?.getReader)}function er(t){if(t instanceof An)return t;if(t!=null){if(Ex(t))return xq(t);if(Tx(t))return wq(t);if(Sx(t))return bq(t);if(Ax(t))return B3(t);if(Ix(t))return Cq(t);if(Px(t))return Tq(t)}throw kx(t)}function xq(t){return new An(e=>{let n=t[K0]();if(En(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wq(t){return new An(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bq(t){return new An(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gx)})}function Cq(t){return new An(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function B3(t){return new An(e=>{Sq(t,e).catch(n=>e.error(n))})}function Tq(t){return B3(Mx(t))}function Sq(t,e){var n,i,r,s;return u3(this,void 0,void 0,function*(){try{for(n=h3(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function ga(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function va(t,e=0){return Mn((n,i)=>{n.subscribe(kn(i,r=>ga(i,t,()=>i.next(r),e),()=>ga(i,t,()=>i.complete(),e),r=>ga(i,t,()=>i.error(r),e)))})}function yl(t,e=0){return Mn((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function j3(t,e){return er(t).pipe(yl(e),va(e))}function U3(t,e){return er(t).pipe(yl(e),va(e))}function H3(t,e){return new An(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function z3(t,e){return new An(n=>{let i;return ga(n,e,()=>{i=t[Dx](),ga(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>En(i?.return)&&i.return()})}function Fx(t,e){if(!t)throw new Error("Iterable cannot be null");return new An(n=>{ga(n,e,()=>{let i=t[Symbol.asyncIterator]();ga(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function $3(t,e){return Fx(Mx(t),e)}function G3(t,e){if(t!=null){if(Ex(t))return j3(t,e);if(Tx(t))return H3(t,e);if(Sx(t))return U3(t,e);if(Ax(t))return Fx(t,e);if(Ix(t))return z3(t,e);if(Px(t))return $3(t,e)}throw kx(t)}function qn(t,e){return e?G3(t,e):er(t)}function Xt(...t){let e=Jc(t);return qn(t,e)}function nm(t,e){let n=En(t)?t:()=>t,i=r=>r.error(n());return new An(e?r=>e.schedule(i,0,r):i)}function lE(t){return!!t&&(t instanceof An||En(t.lift)&&En(t.subscribe))}var od=q0(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W3(t){return t instanceof Date&&!isNaN(t)}function nn(t,e){return Mn((n,i)=>{let r=0;n.subscribe(kn(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:Eq}=Array;function Aq(t,e){return Eq(e)?t(...e):t(e)}function Lx(t){return nn(e=>Aq(t,e))}var{isArray:kq}=Array,{getPrototypeOf:Dq,prototype:Iq,keys:Mq}=Object;function Nx(t){if(t.length===1){let e=t[0];if(kq(e))return{args:e,keys:null};if(Pq(e)){let n=Mq(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Pq(t){return t&&typeof t=="object"&&Dq(t)===Iq}function Ox(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Rx(...t){let e=Jc(t),n=Cx(t),{args:i,keys:r}=Nx(t);if(i.length===0)return qn([],e);let s=new An(Fq(i,e,r?o=>Ox(r,o):Oo));return n?s.pipe(Lx(n)):s}function Fq(t,e,n=Oo){return i=>{q3(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)q3(e,()=>{let c=qn(t[l],e),u=!1;c.subscribe(kn(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function q3(t,e,n){t?ga(n,t,e):e()}function X3(t,e,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<i?_(g):l.push(g),_=g=>{s&&e.next(g),c++;let y=!1;er(n(g,u++)).subscribe(kn(e,b=>{r?.(b),s?h(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){let b=l.shift();o?ga(e,o,()=>_(b)):_(b)}f()}catch(b){e.error(b)}}))};return t.subscribe(kn(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Tr(t,e,n=1/0){return En(e)?Tr((i,r)=>nn((s,o)=>e(i,s,r,o))(er(t(i,r))),n):(typeof e=="number"&&(n=e),Mn((i,r)=>X3(i,r,t,n)))}function Nv(t=1/0){return Tr(Oo,t)}function Y3(){return Nv(1)}function im(...t){return Y3()(qn(t,Jc(t)))}function Vx(t){return new An(e=>{er(t()).subscribe(e)})}function cE(...t){let e=Cx(t),{args:n,keys:i}=Nx(t),r=new An(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;er(n[u]).subscribe(kn(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?Ox(i,a):a),s.complete())}))}});return e?r.pipe(Lx(e)):r}function K3(t=0,e,n=sE){let i=-1;return e!=null&&(bx(e)?n=e:i=e),new An(r=>{let s=W3(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function uE(...t){let e=Jc(t),n=V3(t,1/0),i=t;return i.length?i.length===1?er(i[0]):Nv(n)(qn(i,e)):Ro}function Es(t,e){return Mn((n,i)=>{let r=0;n.subscribe(kn(i,s=>t.call(e,s,r++)&&i.next(s)))})}function _h(t){return Mn((e,n)=>{let i=null,r=!1,s;i=e.subscribe(kn(n,void 0,void 0,o=>{s=er(t(o,_h(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Q3(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(kn(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function rm(t,e){return En(e)?Tr(t,e,1):Tr(t,1)}function dE(t,e=_l){return Mn((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+t,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}n.subscribe(kn(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function yh(t){return Mn((e,n)=>{let i=!1;e.subscribe(kn(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function xl(t){return t<=0?()=>Ro:Mn((e,n)=>{let i=0;e.subscribe(kn(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function hE(t){return nn(()=>t)}function fE(t,e=Oo){return t=t??Lq,Mn((n,i)=>{let r,s=!0;n.subscribe(kn(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function Lq(t,e){return t===e}function Bx(t=Nq){return Mn((e,n)=>{let i=!1;e.subscribe(kn(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Nq(){return new od}function Ov(t){return Mn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function wl(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Es((r,s)=>t(r,s,i)):Oo,xl(1),n?yh(e):Bx(()=>new od))}function sm(t){return t<=0?()=>Ro:Mn((e,n)=>{let i=[];e.subscribe(kn(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function pE(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Es((r,s)=>t(r,s,i)):Oo,sm(1),n?yh(e):Bx(()=>new od))}function Rv(){return Mn((t,e)=>{let n,i=!1;t.subscribe(kn(e,r=>{let s=n;n=r,i&&e.next([s,r]),i=!0}))})}function Xf(t,e){return Mn(Q3(t,e,arguments.length>=2,!0))}function Z3(t={}){let{connector:e=()=>new cr,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},_=()=>{let g=o;h(),g?.unsubscribe()};return Mn((g,y)=>{c++,!d&&!u&&f();let b=l=l??e();y.add(()=>{c--,c===0&&!d&&!u&&(a=mE(_,r))}),b.subscribe(y),!o&&c>0&&(o=new sd({next:E=>b.next(E),error:E=>{d=!0,f(),a=mE(h,n,E),b.error(E)},complete:()=>{u=!0,f(),a=mE(h,i),b.complete()}}),er(g).subscribe(o))})(s)}}function mE(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new sd({next:()=>{i.unsubscribe(),t()}});return er(e(...n)).subscribe(i)}function jx(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Z3({connector:()=>new vh(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Yf(...t){let e=Jc(t);return Mn((n,i)=>{(e?im(t,n,e):im(t,n)).subscribe(i)})}function fi(t,e){return Mn((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(kn(i,l=>{r?.unsubscribe();let c=0,u=s++;er(t(l,u)).subscribe(r=kn(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ux(t,e){return En(e)?fi(()=>t,e):fi(()=>t)}function gE(t){return Mn((e,n)=>{er(t).subscribe(kn(n,()=>n.complete(),Pv)),!n.closed&&e.subscribe(n)})}function Qr(t,e,n){let i=En(t)||e||n?{next:t,error:e,complete:n}:t;return i?Mn((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(kn(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Oo}function J3(t,e){return Mn((n,i)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,s&&(h(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},f=_=>l=er(t(_)).subscribe(kn(i,u,d)),h=()=>{if(o){o=!1;let _=a;a=null,i.next(_),!c&&f(_)}};n.subscribe(kn(i,_=>{o=!0,a=_,!(l&&!l.closed)&&(r?h():f(_))},()=>{c=!0,!(s&&o&&l&&!l.closed)&&i.complete()}))})}function vE(t,e=_l,n){let i=K3(t,e);return J3(()=>i,n)}var HL="https://g.co/ng/security#xss",Et=class extends Error{constructor(e,n){super(MA(e,n)),this.code=e}};function MA(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xv(t){return{toString:t}.toString()}var Hx="__parameters__";function Oq(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function zL(t,e,n){return Xv(()=>{let i=Oq(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Hx)?l[Hx]:Object.defineProperty(l,Hx,{value:[]})[Hx];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var As=globalThis;function tr(t){for(let e in t)if(t[e]===tr)return e;throw Error("Could not find renamed property on target object.")}function Rq(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bo(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Bo).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function FE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Vq=tr({__forward_ref__:tr});function Ws(t){return t.__forward_ref__=Ws,t.toString=function(){return Bo(this())},t}function Vo(t){return $L(t)?t():t}function $L(t){return typeof t=="function"&&t.hasOwnProperty(Vq)&&t.__forward_ref__===Ws}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bw(t){return eL(t,WL)||eL(t,qL)}function GL(t){return bw(t)!==null}function eL(t,e){return t.hasOwnProperty(e)?t[e]:null}function Bq(t){let e=t&&(t[WL]||t[qL]);return e||null}function tL(t){return t&&(t.hasOwnProperty(nL)||t.hasOwnProperty(jq))?t[nL]:null}var WL=tr({\u0275prov:tr}),nL=tr({\u0275inj:tr}),qL=tr({ngInjectableDef:tr}),jq=tr({ngInjectorDef:tr}),Nt=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$t({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function XL(t){return t&&!!t.\u0275providers}var Uq=tr({\u0275cmp:tr}),Hq=tr({\u0275dir:tr}),zq=tr({\u0275pipe:tr}),$q=tr({\u0275mod:tr}),ew=tr({\u0275fac:tr}),Vv=tr({__NG_ELEMENT_ID__:tr}),iL=tr({__NG_ENV_ID__:tr});function Jf(t){return typeof t=="string"?t:t==null?"":String(t)}function Gq(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jf(t)}function Wq(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Et(-200,t)}function PA(t,e){throw new Et(-201,!1)}var Xn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xn||{}),LE;function YL(){return LE}function _a(t){let e=LE;return LE=t,e}function KL(t,e,n){let i=bw(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Xn.Optional)return null;if(e!==void 0)return e;PA(t,"Injector")}var qq={},Bv=qq,NE="__NG_DI_FLAG__",tw="ngTempTokenPath",Xq="ngTokenPath",Yq=/\n/gm,Kq="\u0275",rL="__source",cm;function Qq(){return cm}function xh(t){let e=cm;return cm=t,e}function Zq(t,e=Xn.Default){if(cm===void 0)throw new Et(-203,!1);return cm===null?KL(t,void 0,e):cm.get(t,e&Xn.Optional?null:void 0,e)}function ct(t,e=Xn.Default){return(YL()||Zq)(Vo(t),e)}function zt(t,e=Xn.Default){return ct(t,Cw(e))}function Cw(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function OE(t){let e=[];for(let n=0;n<t.length;n++){let i=Vo(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Et(900,!1);let r,s=Xn.Default;for(let o=0;o<i.length;o++){let a=i[o],l=Jq(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(ct(r,s))}else e.push(ct(i))}return e}function QL(t,e){return t[NE]=e,t.prototype[NE]=e,t}function Jq(t){return t[NE]}function eX(t,e,n,i){let r=t[tw];throw e[rL]&&r.unshift(e[rL]),t.message=tX(`
`+t.message,r,n,i),t[Xq]=r,t[tw]=null,t}function tX(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Kq?t.slice(2):t;let r=Bo(e);if(Array.isArray(e))r=e.map(Bo).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Bo(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Yq,`
  `)}`}var Yv=QL(zL("Optional"),8);var ZL=QL(zL("SkipSelf"),4);function ep(t,e){let n=t.hasOwnProperty(ew);return n?t[ew]:null}function nX(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function iX(t){return t.flat(Number.POSITIVE_INFINITY)}function FA(t,e){t.forEach(n=>Array.isArray(n)?FA(n,e):e(n))}function JL(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nw(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rX(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function Tw(t,e,n){let i=Kv(t,e);return i>=0?t[i|1]=n:(i=~i,rX(t,i,e,n)),i}function _E(t,e){let n=Kv(t,e);if(n>=0)return t[n|1]}function Kv(t,e){return sX(t,e,1)}function sX(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var dm={},ya=[],hm=new Nt(""),eN=new Nt("",-1),tN=new Nt(""),iw=class{get(e,n=Bv){if(n===Bv){let i=new Error(`NullInjectorError: No provider for ${Bo(e)}!`);throw i.name="NullInjectorError",i}return n}},nN=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nN||{}),nu=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nu||{}),Ch=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ch||{});function oX(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function RE(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];lX(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function aX(t){return t===3||t===4||t===6}function lX(t){return t.charCodeAt(0)===64}function jv(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?sL(t,n,r,null,e[++i]):sL(t,n,r,null,null))}}return t}function sL(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var iN="ng-template";function cX(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&oX(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(LA(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function LA(t){return t.type===4&&t.value!==iN}function uX(t,e,n){let i=t.type===4&&!n?iN:t.value;return e===i}function dX(t,e,n){let i=4,r=t.attrs,s=r!==null?pX(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!lc(i)&&!lc(l))return!1;if(o&&lc(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!uX(t,l,n)||l===""&&e.length===1){if(lc(i))return!1;o=!0}}else if(i&8){if(r===null||!cX(t,r,l,n)){if(lc(i))return!1;o=!0}}else{let c=e[++a],u=hX(l,r,LA(t),n);if(u===-1){if(lc(i))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(lc(i))return!1;o=!0}}}}return lc(i)||o}function lc(t){return(t&1)===0}function hX(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return mX(e,t)}function fX(t,e,n=!1){for(let i=0;i<e.length;i++)if(dX(t,e[i],n))return!0;return!1}function pX(t){for(let e=0;e<t.length;e++){let n=t[e];if(aX(n))return e}return t.length}function mX(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function oL(t,e){return t?":not("+e.trim()+")":e}function gX(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!lc(o)&&(e+=oL(s,r),r=""),i=o,s=s||!lc(i);n++}return r!==""&&(e+=oL(s,r)),e}function vX(t){return t.map(gX).join(",")}function _X(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!lc(r))break;r=s}i++}return{attrs:e,classes:n}}function fn(t){return Xv(()=>{let e=lN(t),n=hn(ut({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nN.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nu.Emulated,styles:t.styles||ya,_:null,schemas:t.schemas||null,tView:null,id:""});cN(n);let i=t.dependencies;return n.directiveDefs=lL(i,!1),n.pipeDefs=lL(i,!0),n.id=wX(n),n})}function yX(t){return tp(t)||rN(t)}function xX(t){return t!==null}function Vn(t){return Xv(()=>({type:t.type,bootstrap:t.bootstrap||ya,declarations:t.declarations||ya,imports:t.imports||ya,exports:t.exports||ya,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aL(t,e){if(t==null)return dm;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=Ch.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==Ch.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Bn(t){return Xv(()=>{let e=lN(t);return cN(e),e})}function up(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function tp(t){return t[Uq]||null}function rN(t){return t[Hq]||null}function sN(t){return t[zq]||null}function oN(t){let e=tp(t)||rN(t)||sN(t);return e!==null?e.standalone:!1}function aN(t,e){let n=t[$q]||null;if(!n&&e===!0)throw new Error(`Type ${Bo(t)} does not have '\u0275mod' property.`);return n}function lN(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||dm,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ya,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aL(t.inputs,e),outputs:aL(t.outputs),debugInfo:null}}function cN(t){t.features?.forEach(e=>e(t))}function lL(t,e){if(!t)return null;let n=e?sN:yX;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(xX)}function wX(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NA(t){return{\u0275providers:t}}function OA(...t){return{\u0275providers:uN(!0,t),\u0275fromNgModule:!0}}function uN(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return FA(e,o=>{let a=o;VE(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&dN(r,s),n}function dN(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];RA(r,s=>{e(s,i)})}}function VE(t,e,n,i){if(t=Vo(t),!t)return!1;let r=null,s=tL(t),o=!s&&tp(t);if(!s&&!o){let l=t.ngModule;if(s=tL(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)VE(c,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{FA(s.imports,u=>{VE(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&dN(c,e)}if(!a){let c=ep(r)||(()=>new r);e({provide:r,useFactory:c,deps:ya},r),e({provide:tN,useValue:r,multi:!0},r),e({provide:hm,useValue:()=>ct(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;RA(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function RA(t,e){for(let n of t)XL(n)&&(n=n.\u0275providers),Array.isArray(n)?RA(n,e):e(n)}var bX=tr({provide:String,useValue:tr});function hN(t){return t!==null&&typeof t=="object"&&bX in t}function CX(t){return!!(t&&t.useExisting)}function TX(t){return!!(t&&t.useFactory)}function fm(t){return typeof t=="function"}function SX(t){return!!t.useClass}var Sw=new Nt(""),Xx={},EX={},yE;function VA(){return yE===void 0&&(yE=new iw),yE}var Cl=class{},Uv=class extends Cl{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jE(e,o=>this.processProvider(o)),this.records.set(eN,om(void 0,this)),r.has("environment")&&this.records.set(Cl,om(void 0,this));let s=this.records.get(Sw);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tN,ya,Xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=hi(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),hi(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=xh(this),i=_a(void 0),r;try{return e()}finally{xh(n),_a(i)}}get(e,n=Bv,i=Xn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(iL))return e[iL](this);i=Cw(i);let r,s=xh(this),o=_a(void 0);try{if(!(i&Xn.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=MX(e)&&bw(e);c&&this.injectableDefInScope(c)?l=om(BE(e),Xx):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Xn.Self?VA():this.parent;return n=i&Xn.Optional&&n===Bv?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[tw]=a[tw]||[]).unshift(Bo(e)),s)throw a;return eX(a,e,"R3InjectorError",this.source)}else throw a}finally{_a(o),xh(s)}}resolveInjectorInitializers(){let e=hi(null),n=xh(this),i=_a(void 0),r;try{let s=this.get(hm,ya,Xn.Self);for(let o of s)o()}finally{xh(n),_a(i),hi(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Bo(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Et(205,!1)}processProvider(e){e=Vo(e);let n=fm(e)?e:Vo(e&&e.provide),i=kX(e);if(!fm(e)&&e.multi===!0){let r=this.records.get(n);r||(r=om(void 0,Xx,!0),r.factory=()=>OE(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=hi(null);try{return n.value===Xx&&(n.value=EX,n.value=n.factory()),typeof n.value=="object"&&n.value&&IX(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{hi(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vo(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function BE(t){let e=bw(t),n=e!==null?e.factory:ep(t);if(n!==null)return n;if(t instanceof Nt)throw new Et(204,!1);if(t instanceof Function)return AX(t);throw new Et(204,!1)}function AX(t){if(t.length>0)throw new Et(204,!1);let n=Bq(t);return n!==null?()=>n.factory(t):()=>new t}function kX(t){if(hN(t))return om(void 0,t.useValue);{let e=fN(t);return om(e,Xx)}}function fN(t,e,n){let i;if(fm(t)){let r=Vo(t);return ep(r)||BE(r)}else if(hN(t))i=()=>Vo(t.useValue);else if(TX(t))i=()=>t.useFactory(...OE(t.deps||[]));else if(CX(t))i=()=>ct(Vo(t.useExisting));else{let r=Vo(t&&(t.useClass||t.provide));if(DX(t))i=()=>new r(...OE(t.deps));else return ep(r)||BE(r)}return i}function om(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DX(t){return!!t.deps}function IX(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MX(t){return typeof t=="function"||typeof t=="object"&&t instanceof Nt}function jE(t,e){for(let n of t)Array.isArray(n)?jE(n,e):n&&XL(n)?jE(n.\u0275providers,e):e(n)}function dd(t,e){t instanceof Uv&&t.assertNotDestroyed();let n,i=xh(t),r=_a(void 0);try{return e()}finally{xh(i),_a(r)}}function PX(){return YL()!==void 0||Qq()!=null}function FX(t){return typeof t=="function"}var hd=0,Un=1,Cn=2,co=3,uc=4,fc=5,rw=6,sw=7,dc=8,pm=9,iu=10,Sr=11,Hv=12,cL=13,_m=14,ru=15,np=16,am=17,ad=18,Ew=19,pN=20,wh=21,xE=22,bl=23,hc=25,mN=1;var ip=7,ow=8,mm=9,Va=10,aw=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(aw||{});function bh(t){return Array.isArray(t)&&typeof t[mN]=="object"}function fd(t){return Array.isArray(t)&&t[mN]===!0}function BA(t){return(t.flags&4)!==0}function Aw(t){return t.componentOffset>-1}function kw(t){return(t.flags&1)===1}function Th(t){return!!t.template}function UE(t){return(t[Cn]&512)!==0}var HE=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function gN(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function ja(){return vN}function vN(t){return t.type.prototype.ngOnChanges&&(t.setInput=NX),LX}ja.ngInherit=!0;function LX(){let t=yN(this),e=t?.current;if(e){let n=t.previous;if(n===dm)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function NX(t,e,n,i,r){let s=this.declaredInputs[i],o=yN(t)||OX(t,{previous:dm,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new HE(c&&c.currentValue,n,l===dm),gN(t,e,r,n)}var _N="__ngSimpleChanges__";function yN(t){return t[_N]||null}function OX(t,e){return t[_N]=e}var uL=null;var eu=function(t,e,n){uL?.(t,e,n)},RX="svg",VX="math";function su(t){for(;Array.isArray(t);)t=t[hd];return t}function xN(t,e){return su(e[t])}function Tl(t,e){return su(e[t.index])}function wN(t,e){return t.data[e]}function BX(t,e){return t[e]}function Ih(t,e){let n=e[t];return bh(n)?n:n[hd]}function jX(t){return(t[Cn]&4)===4}function jA(t){return(t[Cn]&128)===128}function UX(t){return fd(t[co])}function gm(t,e){return e==null?null:t[e]}function bN(t){t[am]=0}function CN(t){t[Cn]&1024||(t[Cn]|=1024,jA(t)&&Dw(t))}function HX(t,e){for(;t>0;)e=e[_m],t--;return e}function zv(t){return!!(t[Cn]&9216||t[bl]?.dirty)}function zE(t){t[iu].changeDetectionScheduler?.notify(7),t[Cn]&64&&(t[Cn]|=1024),zv(t)&&Dw(t)}function Dw(t){t[iu].changeDetectionScheduler?.notify(0);let e=rp(t);for(;e!==null&&!(e[Cn]&8192||(e[Cn]|=8192,!jA(e)));)e=rp(e)}function TN(t,e){if((t[Cn]&256)===256)throw new Et(911,!1);t[wh]===null&&(t[wh]=[]),t[wh].push(e)}function zX(t,e){if(t[wh]===null)return;let n=t[wh].indexOf(e);n!==-1&&t[wh].splice(n,1)}function rp(t){let e=t[co];return fd(e)?e[co]:e}var Yn={lFrame:FN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var SN=!1;function $X(){return Yn.lFrame.elementDepthCount}function GX(){Yn.lFrame.elementDepthCount++}function WX(){Yn.lFrame.elementDepthCount--}function EN(){return Yn.bindingsEnabled}function qX(){return Yn.skipHydrationRootTNode!==null}function XX(t){return Yn.skipHydrationRootTNode===t}function YX(){Yn.skipHydrationRootTNode=null}function Qn(){return Yn.lFrame.lView}function Br(){return Yn.lFrame.tView}function vt(t){return Yn.lFrame.contextLView=t,t[dc]}function _t(t){return Yn.lFrame.contextLView=null,t}function jo(){let t=AN();for(;t!==null&&t.type===64;)t=t.parent;return t}function AN(){return Yn.lFrame.currentTNode}function KX(){let t=Yn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function dp(t,e){let n=Yn.lFrame;n.currentTNode=t,n.isParent=e}function UA(){return Yn.lFrame.isParent}function kN(){Yn.lFrame.isParent=!1}function DN(){return SN}function dL(t){SN=t}function HA(){let t=Yn.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QX(){return Yn.lFrame.bindingIndex}function ZX(t){return Yn.lFrame.bindingIndex=t}function Iw(){return Yn.lFrame.bindingIndex++}function zA(t){let e=Yn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JX(){return Yn.lFrame.inI18n}function eY(t,e){let n=Yn.lFrame;n.bindingIndex=n.bindingRootIndex=t,$E(e)}function tY(){return Yn.lFrame.currentDirectiveIndex}function $E(t){Yn.lFrame.currentDirectiveIndex=t}function nY(t){let e=Yn.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function IN(){return Yn.lFrame.currentQueryIndex}function $A(t){Yn.lFrame.currentQueryIndex=t}function iY(t){let e=t[Un];return e.type===2?e.declTNode:e.type===1?t[fc]:null}function MN(t,e,n){if(n&Xn.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&Xn.Host);)if(r=iY(s),r===null||(s=s[_m],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=Yn.lFrame=PN();return i.currentTNode=e,i.lView=t,!0}function GA(t){let e=PN(),n=t[Un];Yn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function PN(){let t=Yn.lFrame,e=t===null?null:t.child;return e===null?FN(t):e}function FN(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function LN(){let t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var NN=LN;function WA(){let t=LN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rY(t){return(Yn.lFrame.contextLView=HX(t,Yn.lFrame.contextLView))[dc]}function Mh(){return Yn.lFrame.selectedIndex}function sp(t){Yn.lFrame.selectedIndex=t}function Qv(){let t=Yn.lFrame;return wN(t.tView,t.selectedIndex)}function sY(){return Yn.lFrame.currentNamespace}var ON=!0;function Mw(){return ON}function Pw(t){ON=t}function oY(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=vN(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Fw(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Yx(t,e,n){RN(t,e,3,n)}function Kx(t,e,n,i){(t[Cn]&3)===n&&RN(t,e,n,i)}function wE(t,e){let n=t[Cn];(n&3)===e&&(n&=16383,n+=1,t[Cn]=n)}function RN(t,e,n,i){let r=i!==void 0?t[am]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[am]+=65536),(a<s||s==-1)&&(aY(t,n,e,l),t[am]=(t[am]&4294901760)+l+2),l++}function hL(t,e){eu(4,t,e);let n=hi(null);try{e.call(t)}finally{hi(n),eu(5,t,e)}}function aY(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[Cn]>>14<t[am]>>16&&(t[Cn]&3)===e&&(t[Cn]+=16384,hL(a,s)):hL(a,s)}var um=-1,op=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function lY(t){return t instanceof op}function cY(t){return(t.flags&8)!==0}function uY(t){return(t.flags&16)!==0}var bE={},GE=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Cw(i);let r=this.injector.get(e,bE,i);return r!==bE||n===bE?r:this.parentInjector.get(e,n,i)}};function VN(t){return t!==um}function lw(t){return t&32767}function dY(t){return t>>16}function cw(t,e){let n=dY(t),i=e;for(;n>0;)i=i[_m],n--;return i}var WE=!0;function uw(t){let e=WE;return WE=t,e}var hY=256,BN=hY-1,jN=5,fY=0,tu={};function pY(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Vv)&&(i=n[Vv]),i==null&&(i=n[Vv]=fY++);let r=i&BN,s=1<<r;e.data[t+(r>>jN)]|=s}function dw(t,e){let n=UN(t,e);if(n!==-1)return n;let i=e[Un];i.firstCreatePass&&(t.injectorIndex=e.length,CE(i.data,t),CE(e,null),CE(i.blueprint,null));let r=qA(t,e),s=t.injectorIndex;if(VN(r)){let o=lw(r),a=cw(r,e),l=a[Un].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function CE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UN(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qA(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=WN(r),i===null)return um;if(n++,r=r[_m],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return um}function qE(t,e,n){pY(t,e,n)}function HN(t,e,n){if(n&Xn.Optional||t!==void 0)return t;PA(e,"NodeInjector")}function zN(t,e,n,i){if(n&Xn.Optional&&i===void 0&&(i=null),!(n&(Xn.Self|Xn.Host))){let r=t[pm],s=_a(void 0);try{return r?r.get(e,i,n&Xn.Optional):KL(e,i,n&Xn.Optional)}finally{_a(s)}}return HN(i,e,n)}function $N(t,e,n,i=Xn.Default,r){if(t!==null){if(e[Cn]&2048&&!(i&Xn.Self)){let o=_Y(t,e,n,i,tu);if(o!==tu)return o}let s=GN(t,e,n,i,tu);if(s!==tu)return s}return zN(e,n,i,r)}function GN(t,e,n,i,r){let s=gY(n);if(typeof s=="function"){if(!MN(e,t,i))return i&Xn.Host?HN(r,n,i):zN(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Xn.Optional))PA(n);else return o}finally{NN()}}else if(typeof s=="number"){let o=null,a=UN(t,e),l=um,c=i&Xn.Host?e[ru][fc]:null;for((a===-1||i&Xn.SkipSelf)&&(l=a===-1?qA(t,e):e[a+8],l===um||!pL(i,!1)?a=-1:(o=e[Un],a=lw(l),e=cw(l,e)));a!==-1;){let u=e[Un];if(fL(s,a,u.data)){let d=mY(a,e,n,o,i,c);if(d!==tu)return d}l=e[a+8],l!==um&&pL(i,e[Un].data[a+8]===c)&&fL(s,a,e)?(o=u,a=lw(l),e=cw(l,e)):a=-1}}return r}function mY(t,e,n,i,r,s){let o=e[Un],a=o.data[t+8],l=i==null?Aw(a)&&WE:i!=o&&(a.type&3)!==0,c=r&Xn.Host&&s===a,u=Qx(a,o,n,l,c);return u!==null?ap(e,o,u,a):tu}function Qx(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=i?a:a+u,f=r?a+u:c;for(let h=d;h<f;h++){let _=o[h];if(h<l&&n===_||h>=l&&_.type===n)return h}if(r){let h=o[l];if(h&&Th(h)&&h.type===n)return l}return null}function ap(t,e,n,i){let r=t[n],s=e.data;if(lY(r)){let o=r;o.resolving&&Wq(Gq(s[n]));let a=uw(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?_a(o.injectImpl):null,u=MN(t,i,Xn.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&oY(n,s[n],e)}finally{c!==null&&_a(c),uw(a),o.resolving=!1,NN()}}return r}function gY(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vv)?t[Vv]:void 0;return typeof e=="number"?e>=0?e&BN:vY:e}function fL(t,e,n){let i=1<<t;return!!(n[e+(t>>jN)]&i)}function pL(t,e){return!(t&Xn.Self)&&!(t&Xn.Host&&e)}var Zf=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return $N(this._tNode,this._lView,e,Cw(i),n)}};function vY(){return new Zf(jo(),Qn())}function pc(t){return Xv(()=>{let e=t.prototype.constructor,n=e[ew]||XE(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[ew]||XE(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function XE(t){return $L(t)?()=>{let e=XE(Vo(t));return e&&e()}:ep(t)}function _Y(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[Cn]&2048&&!(o[Cn]&512);){let a=GN(s,o,n,i|Xn.Self,tu);if(a!==tu)return a;let l=s.parent;if(!l){let c=o[pN];if(c){let u=c.get(n,tu,i);if(u!==tu)return u}l=WN(o),o=o[_m]}s=l}return r}function WN(t){let e=t[Un],n=e.type;return n===2?e.declTNode:n===1?t[fc]:null}function mL(t,e=null,n=null,i){let r=qN(t,e,n,i);return r.resolveInjectorInitializers(),r}function qN(t,e=null,n=null,i,r=new Set){let s=[n||ya,OA(t)];return i=i||(typeof t=="object"?void 0:Bo(t)),new Uv(s,e||VA(),i||null,r)}var Qf=class Qf{static create(e,n){if(Array.isArray(e))return mL({name:""},n,e,"");{let i=e.name??"";return mL({name:i},e.parent,e.providers,i)}}};Qf.THROW_IF_NOT_FOUND=Bv,Qf.NULL=new iw,Qf.\u0275prov=$t({token:Qf,providedIn:"any",factory:()=>ct(eN)}),Qf.__NG_ELEMENT_ID__=-1;var Ba=Qf;var yY=new Nt("");yY.__NG_ELEMENT_ID__=t=>{let e=jo();if(e===null)throw new Et(204,!1);if(e.type&2)return e.value;if(t&Xn.Optional)return null;throw new Et(204,!1)};var xY="ngOriginalError";function TE(t){return t[xY]}var ld=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&TE(e);for(;n&&TE(n);)n=TE(n);return n||null}},XN=new Nt("",{providedIn:"root",factory:()=>zt(ld).handleError.bind(void 0)}),YN=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),YE=class extends YN{constructor(e){super(),this._lView=e}onDestroy(e){return TN(this._lView,e),()=>zX(this._lView,e)}};function wY(){return new YE(Qn())}function bY(){return ym(jo(),Qn())}function ym(t,e){return new Gi(Tl(t,e))}var Gi=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=bY;let t=e;return t})();function CY(t){return t instanceof Gi?t.nativeElement:t}var xm=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$t({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var KE=class extends cr{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,PX()&&(this.destroyRef=zt(YN,{optional:!0})??void 0,this.pendingTasks=zt(xm,{optional:!0})??void 0)}emit(e){let n=hi(null);try{super.next(e)}finally{hi(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof xr&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ri=KE;function TY(){return this._results[Symbol.iterator]()}var QE=class t{get changes(){return this._changes??=new ri}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=TY)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=iX(e);(this._changesDetected=!nX(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function KN(t){return(t.flags&128)===128}var QN=new Map,SY=0;function EY(){return SY++}function AY(t){QN.set(t[Ew],t)}function kY(t){QN.delete(t[Ew])}var gL="__ngContext__";function Sh(t,e){bh(e)?(t[gL]=e[Ew],AY(e)):t[gL]=e}function ZN(t){return eO(t[Hv])}function JN(t){return eO(t[uc])}function eO(t){for(;t!==null&&!fd(t);)t=t[uc];return t}var ZE;function tO(t){ZE=t}function nO(){if(ZE!==void 0)return ZE;if(typeof document<"u")return document;throw new Et(210,!1)}var Lw=new Nt("",{providedIn:"root",factory:()=>DY}),DY="ng",XA=new Nt(""),ks=new Nt("",{providedIn:"platform",factory:()=>"unknown"});var YA=new Nt(""),KA=new Nt("",{providedIn:"root",factory:()=>nO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IY="h",MY="b";var PY=()=>null;function QA(t,e,n=!1){return PY(t,e,n)}var iO=!1,FY=new Nt("",{providedIn:"root",factory:()=>iO});var zx;function LY(){if(zx===void 0&&(zx=null,As.trustedTypes))try{zx=As.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zx}function Nw(t){return LY()?.createHTML(t)||t}var $x;function NY(){if($x===void 0&&($x=null,As.trustedTypes))try{$x=As.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $x}function vL(t){return NY()?.createHTML(t)||t}var hw=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HL})`}};function wm(t){return t instanceof hw?t.changingThisBreaksApplicationSecurity:t}function ZA(t,e){let n=OY(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${HL})`)}return n===e}function OY(t){return t instanceof hw&&t.getTypeName()||null}function RY(t){let e=new eA(t);return VY()?new JE(e):e}var JE=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Nw(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},eA=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Nw(e),n}};function VY(){try{return!!new window.DOMParser().parseFromString(Nw(""),"text/html")}catch{return!1}}var BY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function JA(t){return t=String(t),t.match(BY)?t:"unsafe:"+t}function pd(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Zv(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var rO=pd("area,br,col,hr,img,wbr"),sO=pd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oO=pd("rp,rt"),jY=Zv(oO,sO),UY=Zv(sO,pd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),HY=Zv(oO,pd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_L=Zv(rO,UY,HY,jY),aO=pd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zY=pd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$Y=pd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GY=Zv(aO,zY,$Y),WY=pd("script,style,template"),tA=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=YY(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=XY(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=yL(e).toLowerCase();if(!_L.hasOwnProperty(n))return this.sanitizedSomething=!0,!WY.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!GY.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;aO[a]&&(l=JA(l)),this.buf.push(" ",o,'="',xL(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=yL(e).toLowerCase();_L.hasOwnProperty(n)&&!rO.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(xL(e))}};function qY(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function XY(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw lO(e);return e}function YY(t){let e=t.firstChild;if(e&&qY(t,e))throw lO(e);return e}function yL(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function lO(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var KY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QY=/([^\#-~ |!])/g;function xL(t){return t.replace(/&/g,"&amp;").replace(KY,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(QY,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Gx;function cO(t,e){let n=null;try{Gx=Gx||RY(t);let i=e?String(e):"";n=Gx.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Gx.getInertBodyElement(i)}while(i!==s);let a=new tA().sanitizeChildren(wL(n)||n);return Nw(a)}finally{if(n){let i=wL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function wL(t){return"content"in t&&ZY(t)?t.content:null}function ZY(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ow=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ow||{});function uO(t){let e=dO();return e?vL(e.sanitize(Ow.HTML,t)||""):ZA(t,"HTML")?vL(wm(t)):cO(nO(),Jf(t))}function Ua(t){let e=dO();return e?e.sanitize(Ow.URL,t)||"":ZA(t,"URL")?wm(t):JA(Jf(t))}function dO(){let t=Qn();return t&&t[iu].sanitizer}var JY=/^>|^->|<!--|-->|--!>|<!-$/g,eK=/(<|>)/g,tK="\u200B$1\u200B";function nK(t){return t.replace(JY,e=>e.replace(eK,tK))}function hO(t){return t.ownerDocument.defaultView}function fO(t){return t instanceof Function?t():t}var cd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cd||{}),iK;function ek(t,e){return iK(t,e)}function lm(t,e,n,i,r){if(i!=null){let s,o=!1;fd(i)?s=i:bh(i)&&(o=!0,i=i[hd]);let a=su(i);t===0&&n!==null?r==null?_O(e,n,a):fw(e,n,a,r||null,!0):t===1&&n!==null?fw(e,n,a,r||null,!0):t===2?xK(e,a,o):t===3&&e.destroyNode(a),s!=null&&bK(e,t,s,n,r)}}function rK(t,e){return t.createText(e)}function sK(t,e,n){t.setValue(e,n)}function oK(t,e){return t.createComment(nK(e))}function pO(t,e,n){return t.createElement(e,n)}function aK(t,e){mO(t,e),e[hd]=null,e[fc]=null}function lK(t,e,n,i,r,s){i[hd]=r,i[fc]=e,Vw(t,i,n,1,r,s)}function mO(t,e){e[iu].changeDetectionScheduler?.notify(8),Vw(t,e,e[Sr],2,null,null)}function cK(t){let e=t[Hv];if(!e)return SE(t[Un],t);for(;e;){let n=null;if(bh(e))n=e[Hv];else{let i=e[Va];i&&(n=i)}if(!n){for(;e&&!e[uc]&&e!==t;)bh(e)&&SE(e[Un],e),e=e[co];e===null&&(e=t),bh(e)&&SE(e[Un],e),n=e&&e[uc]}e=n}}function uK(t,e,n,i){let r=Va+i,s=n.length;i>0&&(n[r-1][uc]=e),i<s-Va?(e[uc]=n[r],JL(n,Va+i,e)):(n.push(e),e[uc]=null),e[co]=n;let o=e[np];o!==null&&n!==o&&gO(o,e);let a=e[ad];a!==null&&a.insertView(t),zE(e),e[Cn]|=128}function gO(t,e){let n=t[mm],i=e[co];if(bh(i))t[Cn]|=aw.HasTransplantedViews;else{let r=i[co][ru];e[ru]!==r&&(t[Cn]|=aw.HasTransplantedViews)}n===null?t[mm]=[e]:n.push(e)}function tk(t,e){let n=t[mm],i=n.indexOf(e);n.splice(i,1)}function nA(t,e){if(t.length<=Va)return;let n=Va+e,i=t[n];if(i){let r=i[np];r!==null&&r!==t&&tk(r,i),e>0&&(t[n-1][uc]=i[uc]);let s=nw(t,Va+e);aK(i[Un],i);let o=s[ad];o!==null&&o.detachView(s[Un]),i[co]=null,i[uc]=null,i[Cn]&=-129}return i}function vO(t,e){if(!(e[Cn]&256)){let n=e[Sr];n.destroyNode&&Vw(t,e,n,3,null,null),cK(e)}}function SE(t,e){if(e[Cn]&256)return;let n=hi(null);try{e[Cn]&=-129,e[Cn]|=256,e[bl]&&XS(e[bl]),hK(t,e),dK(t,e),e[Un].type===1&&e[Sr].destroy();let i=e[np];if(i!==null&&fd(e[co])){i!==e[co]&&tk(i,e);let r=e[ad];r!==null&&r.detachView(t)}kY(e)}finally{hi(n)}}function dK(t,e){let n=t.cleanup,i=e[sw];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[sw]=null);let r=e[wh];if(r!==null){e[wh]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function hK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof op)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];eu(4,a,l);try{l.call(a)}finally{eu(5,a,l)}}else{eu(4,r,s);try{s.call(r)}finally{eu(5,r,s)}}}}}function fK(t,e,n){return pK(t,e.parent,n)}function pK(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[hd];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===nu.None||s===nu.Emulated)return null}return Tl(i,n)}}function fw(t,e,n,i,r){t.insertBefore(e,n,i,r)}function _O(t,e,n){t.appendChild(e,n)}function bL(t,e,n,i,r){i!==null?fw(t,e,n,i,r):_O(t,e,n)}function mK(t,e,n,i){t.removeChild(e,n,i)}function nk(t,e){return t.parentNode(e)}function gK(t,e){return t.nextSibling(e)}function vK(t,e,n){return yK(t,e,n)}function _K(t,e,n){return t.type&40?Tl(t,n):null}var yK=_K,CL;function Rw(t,e,n,i){let r=fK(t,i,e),s=e[Sr],o=i.parent||e[fc],a=vK(o,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)bL(s,r,n[l],a,!1);else bL(s,r,n,a,!1);CL!==void 0&&CL(s,i,e,n,r)}function Zx(t,e){if(e!==null){let n=e.type;if(n&3)return Tl(e,t);if(n&4)return iA(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Zx(t,i);{let r=t[e.index];return fd(r)?iA(-1,r):su(r)}}else{if(n&32)return ek(e,t)()||su(t[e.index]);{let i=yO(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=rp(t[ru]);return Zx(r,i)}else return Zx(t,e.next)}}}return null}function yO(t,e){if(e!==null){let i=t[ru][fc],r=e.projection;return i.projection[r]}return null}function iA(t,e){let n=Va+t+1;if(n<e.length){let i=e[n],r=i[Un].firstChild;if(r!==null)return Zx(i,r)}return e[ip]}function xK(t,e,n){let i=nk(t,e);i&&mK(t,i,e,n)}function ik(t,e,n,i,r,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(o&&e===0&&(a&&Sh(su(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)ik(t,e,n.child,i,r,s,!1),lm(e,t,r,a,s);else if(l&32){let c=ek(n,i),u;for(;u=c();)lm(e,t,r,u,s);lm(e,t,r,a,s)}else l&16?wK(t,e,i,n,r,s):lm(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Vw(t,e,n,i,r,s){ik(n,i,t.firstChild,e,r,s,!1)}function wK(t,e,n,i,r,s){let o=n[ru],l=o[fc].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];lm(e,t,r,u,s)}else{let c=l,u=o[co];KN(i)&&(c.flags|=128),ik(t,e,c,u,r,s,!0)}}function bK(t,e,n,i,r){let s=n[ip],o=su(n);s!==o&&lm(e,t,i,s,r);for(let a=Va;a<n.length;a++){let l=n[a];Vw(l[Un],l,t,e,i,s)}}function CK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:cd.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=cd.Important),t.setStyle(n,i,r,s))}}function TK(t,e,n){t.setAttribute(e,"style",n)}function xO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wO(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&RE(t,e,i),r!==null&&xO(t,e,r),s!==null&&TK(t,e,s)}var Ha={};function Z(t=1){bO(Br(),Qn(),Mh()+t,!1)}function bO(t,e,n,i){if(!i)if((e[Cn]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yx(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Kx(e,s,0,n)}sp(n)}function Je(t,e=Xn.Default){let n=Qn();if(n===null)return ct(t,e);let i=jo();return $N(i,n,Vo(t),e)}function CO(t,e,n,i,r,s){let o=hi(null);try{let a=null;r&Ch.SignalBased&&(a=e[i][rd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ch.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):gN(e,a,i,s)}finally{hi(o)}}function SK(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)sp(~r);else{let s=r,o=n[++i],a=n[++i];eY(o,s);let l=e[s];a(2,l)}}}finally{sp(-1)}}function Bw(t,e,n,i,r,s,o,a,l,c,u){let d=e.blueprint.slice();return d[hd]=r,d[Cn]=i|4|128|8|64,(c!==null||t&&t[Cn]&2048)&&(d[Cn]|=2048),bN(d),d[co]=d[_m]=t,d[dc]=n,d[iu]=o||t&&t[iu],d[Sr]=a||t&&t[Sr],d[pm]=l||t&&t[pm]||null,d[fc]=s,d[Ew]=EY(),d[rw]=u,d[pN]=c,d[ru]=e.type==2?t[ru]:d,d}function Jv(t,e,n,i,r){let s=t.data[e];if(s===null)s=EK(t,e,n,i,r),JX()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=KX();s.injectorIndex=o===null?-1:o.injectorIndex}return dp(s,!0),s}function EK(t,e,n,i,r){let s=AN(),o=UA(),a=o?s:s&&s.parent,l=t.data[e]=PK(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function TO(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function SO(t,e,n,i,r){let s=Mh(),o=i&2;try{sp(-1),o&&e.length>hc&&bO(t,e,hc,!1),eu(o?2:0,r),n(i,r)}finally{sp(s),eu(o?3:1,r)}}function rk(t,e,n){if(BA(e)){let i=hi(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{hi(i)}}}function sk(t,e,n){EN()&&(VK(t,e,n,Tl(n,e)),(n.flags&64)===64&&kO(t,e,n))}function ok(t,e,n=Tl){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function EO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ak(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ak(t,e,n,i,r,s,o,a,l,c,u){let d=hc+i,f=d+r,h=AK(d,f),_=typeof c=="function"?c():c;return h[Un]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function AK(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ha);return n}function kK(t,e,n,i){let s=i.get(FY,iO)||n===nu.ShadowDom,o=t.selectRootElement(e,s);return DK(o),o}function DK(t){IK(t)}var IK=()=>null;function MK(t,e,n,i){let r=MO(e);r.push(n),t.firstCreatePass&&PO(t).push(i,r.length-1)}function PK(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return qX()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function TL(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=Ch.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}t===0?SL(i,n,c,a,l):SL(i,n,c,a)}return i}function SL(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function FK(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],f=n?n.get(d):null,h=f?f.inputs:null,_=f?f.outputs:null;l=TL(0,d.inputs,u,l,h),c=TL(1,d.outputs,u,c,_);let g=l!==null&&o!==null&&!LA(e)?YK(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function LK(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jw(t,e,n,i,r,s,o,a){let l=Tl(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(ck(t,n,u,i,r),Aw(e)&&NK(n,e.index)):e.type&3?(i=LK(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function NK(t,e){let n=Ih(e,t);n[Cn]&16||(n[Cn]|=64)}function lk(t,e,n,i){if(EN()){let r=i===null?null:{"":-1},s=jK(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&AO(t,e,n,o,r,a),r&&UK(n,i,r)}n.mergedAttrs=jv(n.mergedAttrs,n.attrs)}function AO(t,e,n,i,r,s){for(let c=0;c<i.length;c++)qE(dw(n,e),t,i[c].type);zK(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=TO(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=jv(n.mergedAttrs,u.hostAttrs),$K(t,n,e,l,u),HK(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}FK(t,n,s)}function OK(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;RK(o)!=a&&o.push(a),o.push(n,i,s)}}function RK(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VK(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Aw(n)&&GK(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||dw(n,e),Sh(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=ap(e,t,a,n);if(Sh(c,e),o!==null&&XK(e,a-r,c,l,n,o),Th(l)){let u=Ih(n.index,e);u[dc]=ap(e,t,a,n)}}}function kO(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=tY();try{sp(s);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];$E(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&BK(l,c)}}finally{sp(-1),$E(o)}}function BK(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jK(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(fX(e,o.selectors,!1))if(i||(i=[]),Th(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;rA(t,e,l)}else i.unshift(o),rA(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function rA(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UK(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new Et(-301,!1);i.push(e[r],s)}}}function HK(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Th(e)&&(n[""]=t)}}function zK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $K(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=ep(r.type,!0)),o=new op(s,Th(r),Je);t.blueprint[i]=o,n[i]=o,OK(t,e,i,TO(t,n,r.hostVars,Ha),r)}function GK(t,e,n){let i=Tl(e,t),r=EO(n),s=t[iu].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Uw(t,Bw(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function WK(t,e,n,i,r,s){let o=Tl(t,e);qK(e[Sr],o,s,t.value,n,i,r)}function qK(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?Jf(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function XK(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];CO(i,n,l,c,u,d)}}function YK(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function DO(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function IO(t,e){let n=t.contentQueries;if(n!==null){let i=hi(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];$A(s),a.contentQueries(2,e[o],o)}}}finally{hi(i)}}}function Uw(t,e){return t[Hv]?t[cL][uc]=e:t[Hv]=e,t[cL]=e,e}function sA(t,e,n){$A(0);let i=hi(null);try{e(t,n)}finally{hi(i)}}function MO(t){return t[sw]??=[]}function PO(t){return t.cleanup??=[]}function FO(t,e){let n=t[pm],i=n?n.get(ld,null):null;i&&i.handleError(e)}function ck(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];CO(u,c,i,a,l,r)}}function LO(t,e,n){let i=xN(e,t);sK(t[Sr],i,n)}function KK(t,e){let n=Ih(e,t),i=n[Un];QK(i,n);let r=n[hd];r!==null&&n[rw]===null&&(n[rw]=QA(r,n[pm])),uk(i,n,n[dc])}function QK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function uk(t,e,n){GA(e);try{let i=t.viewQuery;i!==null&&sA(1,i,n);let r=t.template;r!==null&&SO(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ad]?.finishViewCreation(t),t.staticContentQueries&&IO(t,e),t.staticViewQueries&&sA(2,t.viewQuery,n);let s=t.components;s!==null&&ZK(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Cn]&=-5,WA()}}function ZK(t,e){for(let n=0;n<e.length;n++)KK(t,e[n])}function JK(t,e,n,i){let r=hi(null);try{let s=e.tView,a=t[Cn]&4096?4096:16,l=Bw(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[e.index];l[np]=c;let u=t[ad];return u!==null&&(l[ad]=u.createEmbeddedView(s)),uk(s,l,n),l}finally{hi(r)}}function EL(t,e){return!e||e.firstChild===null||KN(t)}function eQ(t,e,n,i=!0){let r=e[Un];if(uK(r,e,t,n),i){let o=iA(n,t),a=e[Sr],l=nk(a,t[ip]);l!==null&&lK(r,t[fc],a,e,l,o)}let s=e[rw];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function pw(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&i.push(su(s)),fd(s)&&tQ(s,i);let o=n.type;if(o&8)pw(t,e,n.child,i);else if(o&32){let a=ek(n,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=yO(e,n);if(Array.isArray(a))i.push(...a);else{let l=rp(e[ru]);pw(l[Un],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function tQ(t,e){for(let n=Va;n<t.length;n++){let i=t[n],r=i[Un].firstChild;r!==null&&pw(i[Un],i,r,e)}t[ip]!==t[hd]&&e.push(t[ip])}var NO=[];function nQ(t){return t[bl]??iQ(t)}function iQ(t){let e=NO.pop()??Object.create(sQ);return e.lView=t,e}function rQ(t){t.lView[bl]!==t&&(t.lView=null,NO.push(t))}var sQ=hn(ut({},Mv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dw(t.lView)},consumerOnSignalRead(){this.lView[bl]=this}});function oQ(t){let e=t[bl]??Object.create(aQ);return e.lView=t,e}var aQ=hn(ut({},Mv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=rp(t.lView);for(;e&&!OO(e[Un]);)e=rp(e);e&&CN(e)},consumerOnSignalRead(){this.lView[bl]=this}});function OO(t){return t.type!==2}var lQ=100;function RO(t,e=!0,n=0){let i=t[iu],r=i.rendererFactory,s=!1;s||r.begin?.();try{cQ(t,n)}catch(o){throw e&&FO(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function cQ(t,e){let n=DN();try{dL(!0),oA(t,e);let i=0;for(;zv(t);){if(i===lQ)throw new Et(103,!1);i++,oA(t,1)}}finally{dL(n)}}function uQ(t,e,n,i){let r=e[Cn];if((r&256)===256)return;let s=!1,o=!1;!s&&e[iu].inlineEffectRunner?.flush(),GA(e);let a=!0,l=null,c=null;s||(OO(t)?(c=nQ(e),l=dx(c)):v3()===null?(a=!1,c=oQ(e),l=dx(c)):e[bl]&&(XS(e[bl]),e[bl]=null));try{bN(e),ZX(t.bindingStartIndex),n!==null&&SO(t,e,n,2,i);let u=(r&3)===3;if(!s)if(u){let h=t.preOrderCheckHooks;h!==null&&Yx(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Kx(e,h,0,null),wE(e,0)}if(o||dQ(e),VO(e,0),t.contentQueries!==null&&IO(t,e),!s)if(u){let h=t.contentCheckHooks;h!==null&&Yx(e,h)}else{let h=t.contentHooks;h!==null&&Kx(e,h,1),wE(e,1)}SK(t,e);let d=t.components;d!==null&&jO(e,d,0);let f=t.viewQuery;if(f!==null&&sA(2,f,i),!s)if(u){let h=t.viewCheckHooks;h!==null&&Yx(e,h)}else{let h=t.viewHooks;h!==null&&Kx(e,h,2),wE(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xE]){for(let h of e[xE])h();e[xE]=null}s||(e[Cn]&=-73)}catch(u){throw s||Dw(e),u}finally{c!==null&&(WS(c,l),a&&rQ(c)),WA()}}function VO(t,e){for(let n=ZN(t);n!==null;n=JN(n))for(let i=Va;i<n.length;i++){let r=n[i];BO(r,e)}}function dQ(t){for(let e=ZN(t);e!==null;e=JN(e)){if(!(e[Cn]&aw.HasTransplantedViews))continue;let n=e[mm];for(let i=0;i<n.length;i++){let r=n[i];CN(r)}}}function hQ(t,e,n){let i=Ih(e,t);BO(i,n)}function BO(t,e){jA(t)&&oA(t,e)}function oA(t,e){let i=t[Un],r=t[Cn],s=t[bl],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&qS(s)),o||=!1,s&&(s.dirty=!1),t[Cn]&=-9217,o)uQ(i,t,i.template,t[dc]);else if(r&8192){VO(t,1);let a=i.components;a!==null&&jO(t,a,1)}}function jO(t,e,n){for(let i=0;i<e.length;i++)hQ(t,e[i],n)}function dk(t,e){let n=DN()?64:1088;for(t[iu].changeDetectionScheduler?.notify(e);t;){t[Cn]|=n;let i=rp(t);if(UE(t)&&!i)return t;t=i}return null}var lp=class{get rootNodes(){let e=this._lView,n=e[Un];return pw(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dc]}set context(e){this._lView[dc]=e}get destroyed(){return(this._lView[Cn]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[co];if(fd(e)){let n=e[ow],i=n?n.indexOf(this):-1;i>-1&&(nA(e,i),nw(n,i))}this._attachedToViewContainer=!1}vO(this._lView[Un],this._lView)}onDestroy(e){TN(this._lView,e)}markForCheck(){dk(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Cn]&=-129}reattach(){zE(this._lView),this._lView[Cn]|=128}detectChanges(){this._lView[Cn]|=1024,RO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=UE(this._lView),n=this._lView[np];n!==null&&!e&&tk(n,this._lView),mO(this._lView[Un],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Et(902,!1);this._appRef=e;let n=UE(this._lView),i=this._lView[np];i!==null&&!n&&gO(i,this._lView),zE(this._lView)}},Eh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mQ;let t=e;return t})(),fQ=Eh,pQ=class extends fQ{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=JK(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new lp(r)}};function mQ(){return hk(jo(),Qn())}function hk(t,e){return t.type&4?new pQ(e,t,ym(t,e)):null}var IIe=new RegExp(`^(\\d+)*(${MY}|${IY})*(.*)`);var gQ=()=>null;function AL(t,e){return gQ(t,e)}var $v=class{},UO=new Nt("",{providedIn:"root",factory:()=>!1});var HO=new Nt(""),aA=class{},mw=class{};function vQ(t){let e=Error(`No component factory found for ${Bo(t)}.`);return e[_Q]=t,e}var _Q="ngComponent";var lA=class{resolveComponentFactory(e){throw vQ(e)}},Ek=class Ek{};Ek.NULL=new lA;var Ah=Ek,kh=class{},Ds=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>yQ();let t=e;return t})();function yQ(){let t=Qn(),e=jo(),n=Ih(e.index,t);return(bh(n)?n:t)[Sr]}var xQ=(()=>{let e=class e{};e.\u0275prov=$t({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var kL=new Set;function e1(t){kL.has(t)||(kL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zO(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof As.requestAnimationFrame=="function"&&As.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function DL(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function IL(...t){}var zn=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ri(!1),this.onMicrotaskEmpty=new ri(!1),this.onStable=new ri(!1),this.onError=new ri(!1),typeof Zone>"u")throw new Et(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,CQ(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Et(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Et(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,wQ,IL,IL);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},wQ={};function fk(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bQ(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{zO(()=>{t.callbackScheduled=!1,cA(t),t.isCheckStableRunning=!0,fk(t),t.isCheckStableRunning=!1})}),cA(t))}function CQ(t){let e=()=>{bQ(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(TQ(a))return n.invokeTask(r,s,o,a);try{return ML(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),PL(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return ML(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!SQ(a)&&e(),PL(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cA(t),fk(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cA(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ML(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PL(t){t._nesting--,fk(t)}var uA=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ri,this.onMicrotaskEmpty=new ri,this.onStable=new ri,this.onError=new ri}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function TQ(t){return $O(t,"__ignore_ng_zone__")}function SQ(t){return $O(t,"__scheduler_tick__")}function $O(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var GO=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$t({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gw(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=FE(r,a);else if(s==2){let l=a,c=e[++o];i=FE(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var vw=class extends Ah{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=tp(e);return new Gv(n,this.ngModule)}};function FL(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Ch.None;e?n.push({propName:o,templateName:i,isSignal:(a&Ch.SignalBased)!==0}):n.push({propName:o,templateName:i})}return n}function EQ(t){let e=t.toLowerCase();return e==="svg"?RX:e==="math"?VX:null}var Gv=class extends mw{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=FL(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return FL(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vX(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=hi(null);try{r=r||this.ngModule;let o=r instanceof Cl?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new GE(e,o):e,l=a.get(kh,null);if(l===null)throw new Et(407,!1);let c=a.get(xQ,null),u=a.get(GO,null),d=a.get($v,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",g=i?kK(h,i,this.componentDef.encapsulation,a):pO(h,_,EQ(_)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;g!==null&&(b=QA(g,a,!0));let E=ak(0,null,null,1,0,null,null,null,null,null,null),F=Bw(null,E,null,y,null,null,f,h,a,null,b);GA(F);let U,W;try{let te=this.componentDef,I,T=null;te.findHostDirectiveDefs?(I=[],T=new Map,te.findHostDirectiveDefs(te,I,T),I.push(te)):I=[te];let L=AQ(F,g),N=kQ(L,g,te,I,F,f,h);W=wN(E,hc),g&&MQ(h,te,g,i),n!==void 0&&PQ(W,this.ngContentSelectors,n),U=IQ(N,te,I,T,F,[FQ]),uk(E,F,null)}finally{WA()}return new dA(this.componentType,U,ym(W,F),F,W)}finally{hi(s)}}},dA=class extends aA{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lp(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ck(s[Un],s,r,e,n),this.previousInputValues.set(e,n);let o=Ih(this._tNode.index,s);dk(o,1)}}get injector(){return new Zf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AQ(t,e){let n=t[Un],i=hc;return t[i]=e,Jv(n,i,2,"#host",null)}function kQ(t,e,n,i,r,s,o){let a=r[Un];DQ(i,t,e,o);let l=null;e!==null&&(l=QA(e,r[pm]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Bw(r,EO(n),null,u,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&rA(a,t,i.length-1),Uw(r,d),r[t.index]=d}function DQ(t,e,n,i){for(let r of t)e.mergedAttrs=jv(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(gw(e,e.mergedAttrs,!0),n!==null&&wO(i,n,e))}function IQ(t,e,n,i,r,s){let o=jo(),a=r[Un],l=Tl(o,r);AO(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,f=ap(r,a,d,o);Sh(f,r)}kO(a,r,o),l&&Sh(l,r);let c=ap(r,a,o.directiveStart+o.componentOffset,o);if(t[dc]=r[dc]=c,s!==null)for(let u of s)u(c,e);return rk(a,o,r),c}function MQ(t,e,n,i){if(i)RE(t,n,["ng-version","18.1.0"]);else{let{attrs:r,classes:s}=_X(e.selectors[0]);r&&RE(t,n,r),s&&s.length>0&&xO(t,n,s.join(" "))}}function PQ(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function FQ(){let t=jo();Fw(Qn()[Un],t)}var mc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LQ;let t=e;return t})();function LQ(){let t=jo();return qO(t,Qn())}var NQ=mc,WO=class extends NQ{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ym(this._hostTNode,this._hostLView)}get injector(){return new Zf(this._hostTNode,this._hostLView)}get parentInjector(){let e=qA(this._hostTNode,this._hostLView);if(VN(e)){let n=cw(e,this._hostLView),i=lw(e),r=n[Un].data[i+8];return new Zf(r,n)}else return new Zf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=LL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Va}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=AL(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,EL(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!FX(e),a;if(o)a=n;else{let _=n||{};a=_.index,i=_.injector,r=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let l=o?e:new Gv(tp(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(Cl,null);g&&(s=g)}let u=tp(l.componentType??{}),d=AL(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,r,f,s);return this.insertImpl(h.hostView,a,EL(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(UX(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[co],c=new WO(l,l[fc],l[co]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return eQ(o,r,s,i),e.attachToViewContainerRef(),JL(EE(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=LL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=nA(this._lContainer,n);i&&(nw(EE(this._lContainer),n),vO(i[Un],i))}detach(e){let n=this._adjustIndex(e,-1),i=nA(this._lContainer,n);return i&&nw(EE(this._lContainer),n)!=null?new lp(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function LL(t){return t[ow]}function EE(t){return t[ow]||(t[ow]=[])}function qO(t,e){let n,i=e[t.index];return fd(i)?n=i:(n=DO(i,e,null,t),e[t.index]=n,Uw(e,n)),RQ(n,e,t,i),new WO(n,t,e)}function OQ(t,e){let n=t[Sr],i=n.createComment(""),r=Tl(e,t),s=nk(n,r);return fw(n,s,i,gK(n,r),!1),i}var RQ=jQ,VQ=()=>!1;function BQ(t,e,n){return VQ(t,e,n)}function jQ(t,e,n,i){if(t[ip])return;let r;n.type&8?r=su(i):r=OQ(e,n),t[ip]=r}var hA=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},fA=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)pk(e,n).matches!==null&&this.queries[n].setDirty()}},pA=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=XQ(e):this.predicate=e}},mA=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},gA=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,UQ(n,s)),this.matchTNodeWithReadOption(e,n,Qx(n,e,s,!1,!1))}else i===Eh?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Qx(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Gi||r===mc||r===Eh&&n.type&4)this.addMatch(n.index,-2);else{let s=Qx(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function UQ(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function HQ(t,e){return t.type&11?ym(t,e):t.type&4?hk(t,e):null}function zQ(t,e,n,i){return n===-1?HQ(e,t):n===-2?$Q(t,e,i):ap(t,t[Un],n,e)}function $Q(t,e,n){if(n===Gi)return ym(e,t);if(n===Eh)return hk(e,t);if(n===mc)return qO(e,t)}function XO(t,e,n,i){let r=e[ad].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(zQ(e,u,o[l+1],n.metadata.read))}}r.matches=a}return r.matches}function vA(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=XO(t,e,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=Va;d<u.length;d++){let f=u[d];f[np]===f[co]&&vA(f[Un],f,c,i)}if(u[mm]!==null){let d=u[mm];for(let f=0;f<d.length;f++){let h=d[f];vA(h[Un],h,c,i)}}}}}return i}function GQ(t,e){return t[ad].queries[e].queryList}function WQ(t,e,n){let i=new QE((n&4)===4);return MK(t,e,i,i.destroy),(e[ad]??=new fA).queries.push(new hA(i))-1}function qQ(t,e,n){let i=Br();return i.firstCreatePass&&(YQ(i,new pA(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),WQ(i,Qn(),e)}function XQ(t){return t.split(",").map(e=>e.trim())}function YQ(t,e,n){t.queries===null&&(t.queries=new mA),t.queries.track(new gA(e,n))}function pk(t,e){return t.queries.getByIndex(e)}function KQ(t,e){let n=t[Un],i=pk(n,e);return i.crossesNgTemplate?vA(n,t,e,[]):XO(n,t,i,e)}function QQ(t){return typeof t=="function"&&t[rd]!==void 0}function bm(t,e){e1("NgSignals");let n=k3(t),i=n[rd];return e?.equal&&(i.equal=e.equal),n.set=r=>YS(i,r),n.update=r=>D3(i,r),n.asReadonly=ZQ.bind(n),n}function ZQ(){let t=this[rd];if(t.readonlyFn===void 0){let e=()=>this();e[rd]=t,t.readonlyFn=e}return t.readonlyFn}function YO(t){return QQ(t)&&typeof t.set=="function"}function JQ(t){return Object.getPrototypeOf(t.prototype).constructor}function us(t){let e=JQ(t.type),n=!0,i=[t];for(;e;){let r;if(Th(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Et(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=Wx(t.inputs),o.inputTransforms=Wx(t.inputTransforms),o.declaredInputs=Wx(t.declaredInputs),o.outputs=Wx(t.outputs);let a=r.hostBindings;a&&rZ(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&nZ(t,l),c&&iZ(t,c),eZ(t,r),Rq(t.outputs,r.outputs),Th(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===us&&(n=!1)}}e=Object.getPrototypeOf(e)}tZ(i)}function eZ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function tZ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=jv(r.hostAttrs,n=jv(n,r.hostAttrs))}}function Wx(t){return t===dm?{}:t===ya?[]:t}function nZ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function iZ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function rZ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Dh=class{},Wv=class{};var _A=class extends Dh{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);let r=aN(e);this._bootstrapComponents=fO(r.bootstrap),this._r3Injector=qN(e,n,[{provide:Dh,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver},...i],Bo(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yA=class extends Wv{constructor(e){super(),this.moduleType=e}create(e){return new _A(this.moduleType,e,[])}};var _w=class extends Dh{constructor(e){super(),this.componentFactoryResolver=new vw(this),this.instance=null;let n=new Uv([...e.providers,{provide:Dh,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver}],e.parent||VA(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mk(t,e,n=null){return new _w({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function KO(t){return oZ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function oZ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function QO(t,e,n){return t[e]=n}function aZ(t,e){return t[e]}function ou(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function xA(t,e,n,i){let r=ou(t,e,n);return ou(t,e+1,i)||r}function lZ(t,e,n,i,r,s){let o=xA(t,e,n,i);return xA(t,e+2,r,s)||o}function cZ(t){return(t.flags&32)===32}function uZ(t,e,n,i,r,s,o,a,l){let c=e.consts,u=Jv(e,t,4,o||null,a||null);lk(e,n,u,gm(c,l)),Fw(e,u);let d=u.tView=ak(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function dZ(t,e,n,i,r,s,o,a,l,c){let u=n+hc,d=e.firstCreatePass?uZ(u,e,t,i,r,s,o,a,l):e.data[u];dp(d,!1);let f=hZ(e,t,d,n);Mw()&&Rw(e,t,f,d),Sh(f,t);let h=DO(f,t,f,d);return t[u]=h,Uw(t,h),BQ(h,d,t),kw(d)&&sk(e,t,d),l!=null&&ok(t,d,c),d}function tt(t,e,n,i,r,s,o,a){let l=Qn(),c=Br(),u=gm(c.consts,s);return dZ(l,c,t,e,n,i,r,u,o,a),tt}var hZ=fZ;function fZ(t,e,n,i){return Pw(!0),e[Sr].createComment("")}function hp(t,e,n,i){let r=Qn(),s=Iw();if(ou(r,s,e)){let o=Br(),a=Qv();WK(a,r,t,e,n,i)}return hp}function gk(t,e,n,i){return ou(t,Iw(),n)?e+Jf(n)+i:Ha}function ZO(t,e,n,i,r,s){let o=QX(),a=xA(t,o,n,r);return zA(2),a?e+Jf(n)+i+Jf(r)+s:Ha}function qx(t,e){return t<<17|e<<2}function cp(t){return t>>17&32767}function pZ(t){return(t&2)==2}function mZ(t,e){return t&131071|e<<17}function wA(t){return t|2}function vm(t){return(t&131068)>>2}function AE(t,e){return t&-131069|e<<2}function gZ(t){return(t&1)===1}function bA(t){return t|1}function vZ(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=cp(o),l=vm(o);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Kv(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let f=cp(t[a+1]);t[i+1]=qx(f,a),f!==0&&(t[f+1]=AE(t[f+1],i)),t[a+1]=mZ(t[a+1],i)}else t[i+1]=qx(a,0),a!==0&&(t[a+1]=AE(t[a+1],i)),a=i;else t[i+1]=qx(l,0),a===0?a=i:t[l+1]=AE(t[l+1],i),l=i;c&&(t[i+1]=wA(t[i+1])),NL(t,u,i,!0),NL(t,u,i,!1),_Z(e,u,t,i,s),o=qx(a,l),s?e.classBindings=o:e.styleBindings=o}function _Z(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Kv(s,e)>=0&&(n[i+1]=bA(n[i+1]))}function NL(t,e,n,i){let r=t[n+1],s=e===null,o=i?cp(r):vm(r),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];yZ(l,e)&&(a=!0,t[o+1]=i?bA(c):wA(c)),o=i?cp(c):vm(c)}a&&(t[n+1]=i?wA(r):bA(r))}function yZ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Kv(t,e)>=0:!1}var cc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xZ(t){return t.substring(cc.key,cc.keyEnd)}function wZ(t){return bZ(t),JO(t,eR(t,0,cc.textEnd))}function JO(t,e){let n=cc.textEnd;return n===e?-1:(e=cc.keyEnd=CZ(t,cc.key=e,n),eR(t,e,n))}function bZ(t){cc.key=0,cc.keyEnd=0,cc.value=0,cc.valueEnd=0,cc.textEnd=t.length}function eR(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function CZ(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ye(t,e,n){let i=Qn(),r=Iw();if(ou(i,r,e)){let s=Br(),o=Qv();jw(s,o,i,t,e,i[Sr],n,!1)}return ye}function CA(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";ck(t,n,s[o],o,i)}function md(t,e){return TZ(t,e,null,!0),md}function tR(t){iR(IZ,nR,t,!0)}function nR(t,e){for(let n=wZ(e);n>=0;n=JO(e,n))Tw(t,xZ(e),!0)}function TZ(t,e,n,i){let r=Qn(),s=Br(),o=zA(2);if(s.firstUpdatePass&&sR(s,t,o,i),e!==Ha&&ou(r,o,e)){let a=s.data[Mh()];oR(s,a,r,r[Sr],t,r[o+1]=PZ(e,n),i,o)}}function iR(t,e,n,i){let r=Br(),s=zA(2);r.firstUpdatePass&&sR(r,null,s,i);let o=Qn();if(n!==Ha&&ou(o,s,n)){let a=r.data[Mh()];if(aR(a,i)&&!rR(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=FE(l,n||"")),CA(r,a,o,n,i)}else MZ(r,a,o,o[Sr],o[s+1],o[s+1]=DZ(t,e,n),i,s)}}function rR(t,e){return e>=t.expandoStartIndex}function sR(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Mh()],o=rR(t,n);aR(s,i)&&e===null&&!o&&(e=!1),e=SZ(r,s,e,i),vZ(r,s,e,n,o,i)}}function SZ(t,e,n,i){let r=nY(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=kE(null,t,e,n,i),n=qv(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=kE(r,t,e,n,i),s===null){let l=EZ(t,e,i);l!==void 0&&Array.isArray(l)&&(l=kE(null,t,e,l[1],i),l=qv(l,e.attrs,i),AZ(t,e,i,l))}else s=kZ(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function EZ(t,e,n){let i=n?e.classBindings:e.styleBindings;if(vm(i)!==0)return t[cp(i)]}function AZ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[cp(r)]=i}function kZ(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=qv(i,o,n)}return qv(i,e.attrs,n)}function kE(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=qv(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function qv(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Tw(t,o,n?!0:e[++s]))}return t===void 0?null:t}function DZ(t,e,n){if(n==null||n==="")return ya;let i=[],r=wm(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function IZ(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&Tw(t,i,n)}function MZ(t,e,n,i,r,s,o,a){r===Ha&&(r=ya);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,h=c<s.length?s[c+1]:void 0,_=null,g;u===d?(l+=2,c+=2,f!==h&&(_=d,g=h)):d===null||u!==null&&u<d?(l+=2,_=u):(c+=2,_=d,g=h),_!==null&&oR(t,e,n,i,_,g,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function oR(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=gZ(c)?OL(l,e,n,r,vm(c),o):void 0;if(!yw(u)){yw(s)||pZ(c)&&(s=OL(l,null,n,r,a,o));let d=xN(Mh(),n);CK(i,o,d,r,s)}}function OL(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[r+1];f===Ha&&(f=d?ya:void 0);let h=d?_E(f,i):u===i?f:void 0;if(c&&!yw(h)&&(h=_E(l,i)),yw(h)&&(a=h,o))return a;let _=t[r+1];r=o?cp(_):vm(_)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=_E(l,i))}return a}function yw(t){return t!==void 0}function PZ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bo(wm(t)))),t}function aR(t,e){return(t.flags&(e?8:16))!==0}function lR(t,e,n){let i=Qn(),r=gk(i,t,e,n);iR(Tw,nR,r,!0)}function FZ(t,e,n,i,r,s){let o=e.consts,a=gm(o,r),l=Jv(e,t,2,i,a);return lk(e,n,l,gm(o,s)),l.attrs!==null&&gw(l,l.attrs,!1),l.mergedAttrs!==null&&gw(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function B(t,e,n,i){let r=Qn(),s=Br(),o=hc+t,a=r[Sr],l=s.firstCreatePass?FZ(o,s,r,e,n,i):s.data[o],c=LZ(s,r,l,a,e,t);r[o]=c;let u=kw(l);return dp(l,!0),wO(a,c,l),!cZ(l)&&Mw()&&Rw(s,r,c,l),$X()===0&&Sh(c,r),GX(),u&&(sk(s,r,l),rk(s,l,r)),i!==null&&ok(r,l),B}function P(){let t=jo();UA()?kN():(t=t.parent,dp(t,!1));let e=t;XX(e)&&YX(),WX();let n=Br();return n.firstCreatePass&&(Fw(n,t),BA(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cY(e)&&CA(n,e,Qn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uY(e)&&CA(n,e,Qn(),e.stylesWithoutHost,!1),P}function Ft(t,e,n,i){return B(t,e,n,i),P(),Ft}var LZ=(t,e,n,i,r,s)=>(Pw(!0),pO(i,r,sY()));function NZ(t,e,n,i,r){let s=e.consts,o=gm(s,i),a=Jv(e,t,8,"ng-container",o);o!==null&&gw(a,o,!0);let l=gm(s,r);return lk(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ph(t,e,n){let i=Qn(),r=Br(),s=t+hc,o=r.firstCreatePass?NZ(s,r,i,e,n):r.data[s];dp(o,!0);let a=OZ(r,i,o,t);return i[s]=a,Mw()&&Rw(r,i,a,o),Sh(a,i),kw(o)&&(sk(r,i,o),rk(r,o,i)),n!=null&&ok(i,o),Ph}function Fh(){let t=jo(),e=Br();return UA()?kN():(t=t.parent,dp(t,!1)),e.firstCreatePass&&(Fw(e,t),BA(t)&&e.queries.elementEnd(t)),Fh}var OZ=(t,e,n,i)=>(Pw(!0),oK(e[Sr],""));function Jt(){return Qn()}var Kf=void 0;function RZ(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var VZ=["en",[["a","p"],["AM","PM"],Kf],[["AM","PM"],Kf,Kf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kf,"{1} 'at' {0}",Kf],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",RZ],DE={};function Sl(t){let e=BZ(t),n=RL(e);if(n)return n;let i=e.split("-")[0];if(n=RL(i),n)return n;if(i==="en")return VZ;throw new Et(701,!1)}function RL(t){return t in DE||(DE[t]=As.ng&&As.ng.common&&As.ng.common.locales&&As.ng.common.locales[t]),DE[t]}var jr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(jr||{});function BZ(t){return t.toLowerCase().replace(/_/g,"-")}var xw="en-US";var jZ=xw;function UZ(t){typeof t=="string"&&(jZ=t.toLowerCase().replace(/_/g,"-"))}var HZ=(t,e,n)=>{};function Ye(t,e,n,i){let r=Qn(),s=Br(),o=jo();return cR(s,r,r[Sr],o,t,e,i),Ye}function zZ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[sw],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function cR(t,e,n,i,r,s,o){let a=kw(i),c=t.firstCreatePass&&PO(t),u=e[dc],d=MO(e),f=!0;if(i.type&3||o){let g=Tl(i,e),y=o?o(g):g,b=d.length,E=o?U=>o(su(U[i.index])):i.index,F=null;if(!o&&a&&(F=zZ(t,e,r,i.index)),F!==null){let U=F.__ngLastListenerFn__||F;U.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,f=!1}else{s=BL(i,e,u,s),HZ(g,r,s);let U=n.listen(y,r,s);d.push(s,U),c&&c.push(r,E,b,b+1)}}else s=BL(i,e,u,s);let h=i.outputs,_;if(f&&h!==null&&(_=h[r])){let g=_.length;if(g)for(let y=0;y<g;y+=2){let b=_[y],E=_[y+1],W=e[b][E].subscribe(s),te=d.length;d.push(s,W),c&&c.push(r,i.index,te,-(te+1))}}}function VL(t,e,n,i){let r=hi(null);try{return eu(6,e,n),n(i)!==!1}catch(s){return FO(t,s),!1}finally{eu(7,e,n),hi(r)}}function BL(t,e,n,i){return function r(s){if(s===Function)return i;let o=t.componentOffset>-1?Ih(t.index,e):e;dk(o,5);let a=VL(e,n,i,s),l=r.__ngNextListenerFn__;for(;l;)a=VL(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function Pe(t=1){return rY(t)}function vk(t,e,n){return Cm(t,"",e,"",n),vk}function Cm(t,e,n,i,r){let s=Qn(),o=gk(s,e,n,i);if(o!==Ha){let a=Br(),l=Qv();jw(a,l,s,t,o,s[Sr],r,!1)}return Cm}function t1(t,e,n,i,r,s,o){let a=Qn(),l=ZO(a,e,n,i,r,s);if(l!==Ha){let c=Br(),u=Qv();jw(c,u,a,t,l,a[Sr],o,!1)}return t1}function El(t,e,n){qQ(t,e,n)}function za(t){let e=Qn(),n=Br(),i=IN();$A(i+1);let r=pk(n,i);if(t.dirty&&jX(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=KQ(e,i);t.reset(s,CY),t.notifyOnChanges()}return!0}return!1}function $a(){return GQ(Qn(),IN())}function $Z(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function G(t,e=""){let n=Qn(),i=Br(),r=t+hc,s=i.firstCreatePass?Jv(i,r,1,e,null):i.data[r],o=GZ(i,n,s,e,t);n[r]=o,Mw()&&Rw(i,n,o,s),dp(s,!1)}var GZ=(t,e,n,i,r)=>(Pw(!0),rK(e[Sr],i));function uo(t){return it("",t,""),uo}function it(t,e,n){let i=Qn(),r=gk(i,t,e,n);return r!==Ha&&LO(i,Mh(),r),it}function Is(t,e,n,i,r){let s=Qn(),o=ZO(s,t,e,n,i,r);return o!==Ha&&LO(s,Mh(),o),Is}function nr(t,e,n){YO(e)&&(e=e());let i=Qn(),r=Iw();if(ou(i,r,e)){let s=Br(),o=Qv();jw(s,o,i,t,e,i[Sr],n,!1)}return nr}function ur(t,e){let n=YO(t);return n&&t.set(e),n}function ir(t,e){let n=Qn(),i=Br(),r=jo();return cR(i,n,n[Sr],r,t,e),ir}function WZ(t,e,n){let i=Br();if(i.firstCreatePass){let r=Th(t);TA(n,i.data,i.blueprint,r,!0),TA(e,i.data,i.blueprint,r,!1)}}function TA(t,e,n,i,r){if(t=Vo(t),Array.isArray(t))for(let s=0;s<t.length;s++)TA(t[s],e,n,i,r);else{let s=Br(),o=Qn(),a=jo(),l=fm(t)?t:Vo(t.provide),c=fN(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(fm(t)||!t.multi){let h=new op(c,r,Je),_=ME(l,e,r?u:u+f,d);_===-1?(qE(dw(a,o),s,l),IE(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[_]=h,o[_]=h)}else{let h=ME(l,e,u+f,d),_=ME(l,e,u,u+f),g=h>=0&&n[h],y=_>=0&&n[_];if(r&&!y||!r&&!g){qE(dw(a,o),s,l);let b=YZ(r?XZ:qZ,n.length,r,i,c);!r&&y&&(n[_].providerFactory=b),IE(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=uR(n[r?_:h],c,!r&&i);IE(s,t,h>-1?h:_,b)}!r&&i&&y&&n[_].componentProviders++}}}function IE(t,e,n,i){let r=fm(e),s=SX(e);if(r||s){let l=(s?Vo(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function uR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ME(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function qZ(t,e,n,i){return SA(this.multi,[])}function XZ(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ap(n,n[Un],this.providerFactory.index,i);s=a.slice(0,o),SA(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],SA(r,s);return s}function SA(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function YZ(t,e,n,i,r){let s=new op(t,n,Je);return s.multi=[],s.index=e,s.componentProviders=0,uR(s,r,i&&!n),s}function ho(t,e=[]){return n=>{n.providersResolver=(i,r)=>WZ(i,r?r(t):t,e)}}var KZ=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=uN(!1,i.type),s=r.length>0?mk([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$t({token:e,providedIn:"environment",factory:()=>new e(ct(Cl))});let t=e;return t})();function wn(t){e1("NgStandalone"),t.getStandaloneInjector=e=>e.get(KZ).getOrCreateStandaloneInjector(t)}function dR(t,e,n,i){return hR(Qn(),HA(),t,e,n,i)}function Tm(t,e,n,i,r,s,o,a){let l=HA()+t,c=Qn(),u=lZ(c,l,n,i,r,s);return ou(c,l+4,o)||u?QO(c,l+5,a?e.call(a,n,i,r,s,o):e(n,i,r,s,o)):aZ(c,l+5)}function QZ(t,e){let n=t[e];return n===Ha?void 0:n}function hR(t,e,n,i,r,s){let o=e+n;return ou(t,o,r)?QO(t,o+1,s?i.call(s,r):i(r)):QZ(t,o+1)}function Ga(t,e){let n=Br(),i,r=t+hc;n.firstCreatePass?(i=ZZ(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=ep(i.type,!0)),o,a=_a(Je);try{let l=uw(!1),c=s();return uw(l),$Z(n,Qn(),r,c),c}finally{_a(a)}}function ZZ(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Wa(t,e,n){let i=t+hc,r=Qn(),s=BX(r,i);return JZ(r,i)?hR(r,HA(),e,s.transform,n,s):s.transform(n)}function JZ(t,e){return t[Un].data[e].pure}var ud=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},fR=new ud("18.1.0");var Hw=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var _k=new Nt(""),n1=new Nt(""),zw=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yk||(eJ(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(ct(zn),ct($w),ct(n1))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),$w=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return yk?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function eJ(t){yk=t}var yk;function Lh(t){return!!t&&typeof t.then=="function"}function xk(t){return!!t&&typeof t.subscribe=="function"}var pR=new Nt(""),mR=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=zt(pR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Lh(o))i.push(o);else if(xk(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wk=new Nt("");function tJ(){A3(()=>{throw new Et(600,!1)})}function nJ(t){return t.isBoundToModule}var iJ=10;function rJ(t,e,n){try{let i=n();return Lh(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var gd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=zt(XN),this.afterRenderEffectManager=zt(GO),this.zonelessEnabled=zt(UO),this.externalTestViews=new Set,this.beforeRender=new cr,this.afterTick=new cr,this.componentTypes=[],this.components=[],this.isStable=zt(xm).hasPendingTasks.pipe(nn(i=>!i)),this._injector=zt(Cl)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof mw;if(!this._injector.get(mR).done){let h=!s&&oN(i),_=!1;throw new Et(405,_)}let a;s?a=i:a=this._injector.get(Ah).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=nJ(a)?void 0:this._injector.get(Dh),c=r||a.selector,u=a.create(Ba.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(_k,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),PE(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Et(101,!1);let r=hi(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,hi(r),this.afterTick.next()}}detectChangesInAttachedViews(i){let r=null;this._injector.destroyed||(r=this._injector.get(kh,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<iJ;){let a=s===0;if(i||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)sJ(l,c,a,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>zv(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>zv(l))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;PE(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(wk,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>PE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Et(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sJ(t,e,n,i){if(!n&&!zv(t))return;RO(t,e,n&&!i?0:1)}var EA=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},bk=(()=>{let e=class e{compileModuleSync(i){return new yA(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=aN(i),o=fO(s.declarations).reduce((a,l)=>{let c=tp(l);return c&&a.push(new Gv(c)),a},[]);return new EA(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oJ=(()=>{let e=class e{constructor(){this.zone=zt(zn),this.changeDetectionScheduler=zt($v),this.applicationRef=zt(gd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aJ({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new zn(cJ()),[{provide:zn,useFactory:t},{provide:hm,multi:!0,useFactory:()=>{let n=zt(oJ,{optional:!0});return()=>n.initialize()}},{provide:hm,multi:!0,useFactory:()=>{let n=zt(uJ);return()=>{n.initialize()}}},{provide:XN,useFactory:lJ},e===!0?{provide:HO,useValue:!0}:[]]}function lJ(){let t=zt(zn),e=zt(ld);return n=>t.runOutsideAngular(()=>e.handleError(n))}function cJ(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var uJ=(()=>{let e=class e{constructor(){this.subscription=new xr,this.initialized=!1,this.zone=zt(zn),this.pendingTasks=zt(xm)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zn.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{zn.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dJ=(()=>{let e=class e{constructor(){this.appRef=zt(gd),this.taskService=zt(xm),this.ngZone=zt(zn),this.zonelessEnabled=zt(UO),this.disableScheduling=zt(HO,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xr,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uA||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?DL:zO;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&zn.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,DL(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hJ(){return typeof $localize<"u"&&$localize.locale||xw}var Ck=new Nt("",{providedIn:"root",factory:()=>zt(Ck,Xn.Optional|Xn.SkipSelf)||hJ()});var gR=new Nt("");var Jx=null;function fJ(t=[],e){return Ba.create({name:e,providers:[{provide:Sw,useValue:"platform"},{provide:gR,useValue:new Set([()=>Jx=null])},...t]})}function pJ(t=[]){if(Jx)return Jx;let e=fJ(t);return Jx=e,tJ(),mJ(e),e}function mJ(t){t.get(XA,null)?.forEach(n=>n())}function Tk(){return!1}var au=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gJ;let t=e;return t})();function gJ(t){return vJ(jo(),Qn(),(t&16)===16)}function vJ(t,e,n){if(Aw(t)&&!n){let i=Ih(t.index,e);return new lp(i,i)}else if(t.type&175){let i=e[ru];return new lp(i,e)}return null}var AA=class{constructor(){}supports(e){return KO(e)}create(e){return new kA(e)}},_J=(t,e)=>e,kA=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_J}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<jL(i,r,s)?n:i,a=jL(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let h=f<s.length?s[f]:s[f]=0,_=h+f;u<=_&&_<c&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!KO(e))throw new Et(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,sZ(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new DA(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ww),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ww),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},DA=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},IA=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ww=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new IA,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jL(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function UL(){return new Sk([new AA])}var Sk=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||UL()),deps:[[e,new ZL,new Yv]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new Et(901,!1)}};e.\u0275prov=$t({token:e,providedIn:"root",factory:UL});let t=e;return t})();var vR=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(ct(gd))},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({});let t=e;return t})();function _R(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=pJ(i),s=[aJ({}),{provide:$v,useExisting:dJ},...n||[]],a=new _w({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(zn);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(ld,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=r.get(gR);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),rJ(c,l,()=>{let h=a.get(mR);return h.runInitializers(),h.donePromise.then(()=>{let _=a.get(Ck,xw);UZ(_||xw);let g=a.get(gd);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}var yR=new Nt("");function i1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Sm(t,e){e1("NgSignals");let n=T3(t);return e?.equal&&(n[rd].equal=e.equal),n}function Al(t){let e=hi(null);try{return t()}finally{hi(e)}}var ER=null;function lu(){return ER}function AR(t){ER??=t}var Jw=class{};var Ho=new Nt(""),kR=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt(bJ),providedIn:"platform"});let t=e;return t})();var bJ=(()=>{let e=class e extends kR{constructor(){super(),this._doc=zt(Ho),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lu().getBaseHref(this._doc)}onPopState(i){let r=lu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=lu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function DR(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function fp(t){return t&&t[0]!=="?"?"?"+t:t}var n2=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt(IR),providedIn:"root"});let t=e;return t})(),CJ=new Nt(""),IR=(()=>{let e=class e extends n2{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??zt(Ho).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return DR(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+fp(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+fp(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+fp(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ct(kR),ct(CJ,8))},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var r1=(()=>{let e=class e{constructor(i){this._subject=new ri,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=EJ(xR(wR(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+fp(r))}normalize(i){return e.stripTrailingSlash(SJ(this._basePath,wR(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+fp(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+fp(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=fp,e.joinWithSlash=DR,e.stripTrailingSlash=xR,e.\u0275fac=function(r){return new(r||e)(ct(n2))},e.\u0275prov=$t({token:e,factory:()=>TJ(),providedIn:"root"});let t=e;return t})();function TJ(){return new r1(ct(n2))}function SJ(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wR(t){return t.replace(/\/index.html$/,"")}function EJ(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Uo=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Uo||{}),rr=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(rr||{}),qa=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(qa||{}),Nh={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AJ(t){return Sl(t)[jr.LocaleId]}function kJ(t,e,n){let i=Sl(t),r=[i[jr.DayPeriodsFormat],i[jr.DayPeriodsStandalone]],s=kl(r,e);return kl(s,n)}function DJ(t,e,n){let i=Sl(t),r=[i[jr.DaysFormat],i[jr.DaysStandalone]],s=kl(r,e);return kl(s,n)}function IJ(t,e,n){let i=Sl(t),r=[i[jr.MonthsFormat],i[jr.MonthsStandalone]],s=kl(r,e);return kl(s,n)}function MJ(t,e){let i=Sl(t)[jr.Eras];return kl(i,e)}function Gw(t,e){let n=Sl(t);return kl(n[jr.DateFormat],e)}function Ww(t,e){let n=Sl(t);return kl(n[jr.TimeFormat],e)}function qw(t,e){let i=Sl(t)[jr.DateTimeFormat];return kl(i,e)}function i2(t,e){let n=Sl(t),i=n[jr.NumberSymbols][e];if(typeof i>"u"){if(e===Nh.CurrencyDecimal)return n[jr.NumberSymbols][Nh.Decimal];if(e===Nh.CurrencyGroup)return n[jr.NumberSymbols][Nh.Group]}return i}function MR(t){if(!t[jr.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[jr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PJ(t){let e=Sl(t);return MR(e),(e[jr.ExtraData][2]||[]).map(i=>typeof i=="string"?Ak(i):[Ak(i[0]),Ak(i[1])])}function FJ(t,e,n){let i=Sl(t);MR(i);let r=[i[jr.ExtraData][0],i[jr.ExtraData][1]],s=kl(r,e)||[];return kl(s,n)||[]}function kl(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ak(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var LJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xw={},NJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_d=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(_d||{}),bi=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(bi||{}),wi=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(wi||{});function PR(t,e,n,i){let r=$J(t);e=vd(n,e)||e;let o=[],a;for(;e;)if(a=NJ.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=LR(i,l),r=zJ(r,i,!0));let c="";return o.forEach(u=>{let d=UJ(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function e2(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function vd(t,e){let n=AJ(t);if(Xw[n]??={},Xw[n][e])return Xw[n][e];let i="";switch(e){case"shortDate":i=Gw(t,qa.Short);break;case"mediumDate":i=Gw(t,qa.Medium);break;case"longDate":i=Gw(t,qa.Long);break;case"fullDate":i=Gw(t,qa.Full);break;case"shortTime":i=Ww(t,qa.Short);break;case"mediumTime":i=Ww(t,qa.Medium);break;case"longTime":i=Ww(t,qa.Long);break;case"fullTime":i=Ww(t,qa.Full);break;case"short":let r=vd(t,"shortTime"),s=vd(t,"shortDate");i=Yw(qw(t,qa.Short),[r,s]);break;case"medium":let o=vd(t,"mediumTime"),a=vd(t,"mediumDate");i=Yw(qw(t,qa.Medium),[o,a]);break;case"long":let l=vd(t,"longTime"),c=vd(t,"longDate");i=Yw(qw(t,qa.Long),[l,c]);break;case"full":let u=vd(t,"fullTime"),d=vd(t,"fullDate");i=Yw(qw(t,qa.Full),[u,d]);break}return i&&(Xw[n][e]=i),i}function Yw(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function gc(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function OJ(t,e){return gc(t,3).substring(0,e)}function Zr(t,e,n=0,i=!1,r=!1){return function(s,o){let a=RJ(t,s);if((n>0||a>-n)&&(a+=n),t===bi.Hours)a===0&&n===-12&&(a=12);else if(t===bi.FractionalSeconds)return OJ(a,e);let l=i2(o,Nh.MinusSign);return gc(a,e,l,i,r)}}function RJ(t,e){switch(t){case bi.FullYear:return e.getFullYear();case bi.Month:return e.getMonth();case bi.Date:return e.getDate();case bi.Hours:return e.getHours();case bi.Minutes:return e.getMinutes();case bi.Seconds:return e.getSeconds();case bi.FractionalSeconds:return e.getMilliseconds();case bi.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function dr(t,e,n=Uo.Format,i=!1){return function(r,s){return VJ(r,s,t,e,n,i)}}function VJ(t,e,n,i,r,s){switch(n){case wi.Months:return IJ(e,r,i)[t.getMonth()];case wi.Days:return DJ(e,r,i)[t.getDay()];case wi.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let c=PJ(e),u=FJ(e,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,_]=f,g=o>=h.hours&&a>=h.minutes,y=o<_.hours||o===_.hours&&a<_.minutes;if(h.hours<_.hours){if(g&&y)return!0}else if(g||y)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return kJ(e,r,i)[o<12?0:1];case wi.Eras:return MJ(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Kw(t){return function(e,n,i){let r=-1*i,s=i2(n,Nh.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case _d.Short:return(r>=0?"+":"")+gc(o,2,s)+gc(Math.abs(r%60),2,s);case _d.ShortGMT:return"GMT"+(r>=0?"+":"")+gc(o,1,s);case _d.Long:return"GMT"+(r>=0?"+":"")+gc(o,2,s)+":"+gc(Math.abs(r%60),2,s);case _d.Extended:return i===0?"Z":(r>=0?"+":"")+gc(o,2,s)+":"+gc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var BJ=0,Zw=4;function jJ(t){let e=e2(t,BJ,1).getDay();return e2(t,0,1+(e<=Zw?Zw:Zw+7)-e)}function FR(t){let e=t.getDay(),n=e===0?-3:Zw-e;return e2(t.getFullYear(),t.getMonth(),t.getDate()+n)}function kk(t,e=!1){return function(n,i){let r;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=FR(n),o=jJ(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return gc(r,t,i2(i,Nh.MinusSign))}}function Qw(t,e=!1){return function(n,i){let s=FR(n).getFullYear();return gc(s,t,i2(i,Nh.MinusSign),e)}}var Dk={};function UJ(t){if(Dk[t])return Dk[t];let e;switch(t){case"G":case"GG":case"GGG":e=dr(wi.Eras,rr.Abbreviated);break;case"GGGG":e=dr(wi.Eras,rr.Wide);break;case"GGGGG":e=dr(wi.Eras,rr.Narrow);break;case"y":e=Zr(bi.FullYear,1,0,!1,!0);break;case"yy":e=Zr(bi.FullYear,2,0,!0,!0);break;case"yyy":e=Zr(bi.FullYear,3,0,!1,!0);break;case"yyyy":e=Zr(bi.FullYear,4,0,!1,!0);break;case"Y":e=Qw(1);break;case"YY":e=Qw(2,!0);break;case"YYY":e=Qw(3);break;case"YYYY":e=Qw(4);break;case"M":case"L":e=Zr(bi.Month,1,1);break;case"MM":case"LL":e=Zr(bi.Month,2,1);break;case"MMM":e=dr(wi.Months,rr.Abbreviated);break;case"MMMM":e=dr(wi.Months,rr.Wide);break;case"MMMMM":e=dr(wi.Months,rr.Narrow);break;case"LLL":e=dr(wi.Months,rr.Abbreviated,Uo.Standalone);break;case"LLLL":e=dr(wi.Months,rr.Wide,Uo.Standalone);break;case"LLLLL":e=dr(wi.Months,rr.Narrow,Uo.Standalone);break;case"w":e=kk(1);break;case"ww":e=kk(2);break;case"W":e=kk(1,!0);break;case"d":e=Zr(bi.Date,1);break;case"dd":e=Zr(bi.Date,2);break;case"c":case"cc":e=Zr(bi.Day,1);break;case"ccc":e=dr(wi.Days,rr.Abbreviated,Uo.Standalone);break;case"cccc":e=dr(wi.Days,rr.Wide,Uo.Standalone);break;case"ccccc":e=dr(wi.Days,rr.Narrow,Uo.Standalone);break;case"cccccc":e=dr(wi.Days,rr.Short,Uo.Standalone);break;case"E":case"EE":case"EEE":e=dr(wi.Days,rr.Abbreviated);break;case"EEEE":e=dr(wi.Days,rr.Wide);break;case"EEEEE":e=dr(wi.Days,rr.Narrow);break;case"EEEEEE":e=dr(wi.Days,rr.Short);break;case"a":case"aa":case"aaa":e=dr(wi.DayPeriods,rr.Abbreviated);break;case"aaaa":e=dr(wi.DayPeriods,rr.Wide);break;case"aaaaa":e=dr(wi.DayPeriods,rr.Narrow);break;case"b":case"bb":case"bbb":e=dr(wi.DayPeriods,rr.Abbreviated,Uo.Standalone,!0);break;case"bbbb":e=dr(wi.DayPeriods,rr.Wide,Uo.Standalone,!0);break;case"bbbbb":e=dr(wi.DayPeriods,rr.Narrow,Uo.Standalone,!0);break;case"B":case"BB":case"BBB":e=dr(wi.DayPeriods,rr.Abbreviated,Uo.Format,!0);break;case"BBBB":e=dr(wi.DayPeriods,rr.Wide,Uo.Format,!0);break;case"BBBBB":e=dr(wi.DayPeriods,rr.Narrow,Uo.Format,!0);break;case"h":e=Zr(bi.Hours,1,-12);break;case"hh":e=Zr(bi.Hours,2,-12);break;case"H":e=Zr(bi.Hours,1);break;case"HH":e=Zr(bi.Hours,2);break;case"m":e=Zr(bi.Minutes,1);break;case"mm":e=Zr(bi.Minutes,2);break;case"s":e=Zr(bi.Seconds,1);break;case"ss":e=Zr(bi.Seconds,2);break;case"S":e=Zr(bi.FractionalSeconds,1);break;case"SS":e=Zr(bi.FractionalSeconds,2);break;case"SSS":e=Zr(bi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Kw(_d.Short);break;case"ZZZZZ":e=Kw(_d.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Kw(_d.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Kw(_d.Long);break;default:return null}return Dk[t]=e,e}function LR(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function HJ(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function zJ(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),s=LR(e,r);return HJ(t,i*(s-r))}function $J(t){if(bR(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return e2(r,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(LJ))return GJ(i)}let e=new Date(t);if(!bR(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function GJ(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function bR(t){return t instanceof Date&&!isNaN(t.valueOf())}function NR(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Ik=/\s+/,CR=[],Em=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=CR,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Ik):CR}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Ik):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Ik).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds))},e.\u0275dir=Bn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Mk=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ur=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Mk(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),TR(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);TR(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(Je(mc),Je(Eh),Je(Sk))},e.\u0275dir=Bn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function TR(t,e){t.context.$implicit=e.item}var hr=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Pk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){SR("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){SR("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(Je(mc),Je(Eh))},e.\u0275dir=Bn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Pk=class{constructor(){this.$implicit=null,this.ngIf=null}};function SR(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Bo(e)}'.`)}var Fk=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Ok=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){let r=i===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(let r of this._defaultViews)r.enforceState(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Bn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),OR=(()=>{let e=class e{constructor(i,r,s){this.ngSwitch=s,s._addCase(),this._view=new Fk(i,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(Je(mc),Je(Eh),Je(Ok,9))},e.\u0275dir=Bn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})();var RR=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(Je(mc))},e.\u0275dir=Bn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ja]});let t=e;return t})();function WJ(t,e){return new Et(2100,!1)}var Lk=class{createSubscription(e,n){return Al(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){Al(()=>e.unsubscribe())}},Nk=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},qJ=new Nk,XJ=new Lk,r2=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(Lh(i))return qJ;if(xk(i))return XJ;throw WJ(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(Je(au,16))},e.\u0275pipe=up({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Hr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({});let t=e;return t})(),Rk="browser",YJ="server";function s2(t){return t===Rk}function Oh(t){return t===YJ}var t2=class{};var jk=class extends Jw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Uk=class t extends jk{static makeCurrent(){AR(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KJ();return n==null?null:QJ(n)}resetBaseElement(){s1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NR(document.cookie,e)}},s1=null;function KJ(){return s1=s1||document.querySelector("base"),s1?s1.getAttribute("href"):null}function QJ(t){return new URL(t,document.baseURI).pathname}var Hk=class{addToWindow(e){As.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new Et(5103,!1);return s},As.getAllAngularTestabilities=()=>e.getAllTestabilities(),As.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=As.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};As.frameworkStabilizers||(As.frameworkStabilizers=[]),As.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?lu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},ZJ=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),o2=new Nt(""),jR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new Et(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(ct(o2),ct(zn))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),o1=class{constructor(e){this._doc=e}},Vk="ng-app-id",UR=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oh(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Vk}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Vk),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Vk,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ct(Ho),ct(Lw),ct(KA,8),ct(ks))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),Bk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$k=/%COMP%/g,HR="%COMP%",JJ=`_nghost-${HR}`,eee=`_ngcontent-${HR}`,tee=!0,nee=new Nt("",{providedIn:"root",factory:()=>tee});function iee(t){return eee.replace($k,t)}function ree(t){return JJ.replace($k,t)}function zR(t,e){return e.map(n=>n.replace($k,t))}var a2=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Oh(l),this.defaultRenderer=new a1(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nu.ShadowDom&&(r=hn(ut({},r),{encapsulation:nu.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof l2?s.applyToHost(i):s instanceof l1&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case nu.Emulated:o=new l2(c,u,r,this.appId,d,a,l,f);break;case nu.ShadowDom:return new zk(c,u,i,r,a,l,this.nonce,f);default:o=new l1(c,u,r,d,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ct(jR),ct(UR),ct(Lw),ct(nee),ct(Ho),ct(ks),ct(zn),ct(KA))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),a1=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Bk[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(VR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Et(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Bk[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Bk[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(cd.DashCase|cd.Important)?e.style.setProperty(n,i,r&cd.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&cd.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=lu().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zk=class extends a1{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=zR(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},l1=class extends a1{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?zR(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},l2=class extends l1{constructor(e,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=iee(c),this.hostAttr=ree(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},see=(()=>{let e=class e extends o1{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(ct(Ho))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),oee=(()=>{let e=class e extends o1{constructor(i){super(i),this.delegate=zt(yR,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(ct(Ho))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),BR=["alt","control","meta","shift"],aee={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cee=(()=>{let e=class e extends o1{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lu().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),BR.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=aee[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),BR.forEach(a=>{if(a!==s){let l=lee[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(ct(Ho))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})();function $R(t,e){return _R(ut({rootComponent:t},uee(e)))}function uee(t){return{appProviders:[...GR,...t?.providers??[]],platformProviders:pee}}function dee(){Uk.makeCurrent()}function hee(){return new ld}function fee(){return tO(document),document}var pee=[{provide:ks,useValue:Rk},{provide:XA,useValue:dee,multi:!0},{provide:Ho,useFactory:fee,deps:[]}];var mee=new Nt(""),gee=[{provide:n1,useClass:Hk,deps:[]},{provide:_k,useClass:zw,deps:[zn,$w,n1]},{provide:zw,useClass:zw,deps:[zn,$w,n1]}],GR=[{provide:Sw,useValue:"root"},{provide:ld,useFactory:hee,deps:[]},{provide:o2,useClass:see,multi:!0,deps:[Ho,zn,ks]},{provide:o2,useClass:cee,multi:!0,deps:[Ho]},{provide:o2,useClass:oee,multi:!0},a2,UR,jR,{provide:kh,useExisting:a2},{provide:t2,useClass:ZJ,deps:[]},[]],c2=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Lw,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(ct(mee,12))},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({providers:[...GR,...gee],imports:[Hr,vR]});let t=e;return t})();var WR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(ct(Ho))},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hn="primary",S1=Symbol("RouteTitle"),Yk=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Pm(t){return new Yk(t)}function yee(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function xee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cu(t[n],e[n]))return!1;return!0}function cu(t,e){let n=t?Kk(t):void 0,i=e?Kk(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!e6(t[r],e[r]))return!1;return!0}function Kk(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function e6(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function t6(t){return t.length>0?t[t.length-1]:null}function Rh(t){return lE(t)?t:Lh(t)?qn(Promise.resolve(t)):Xt(t)}var wee={exact:i6,subset:r6},n6={exact:bee,subset:Cee,ignored:()=>!0};function qR(t,e,n){return wee[n.paths](t.root,e.root,n.matrixParams)&&n6[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bee(t,e){return cu(t,e)}function i6(t,e,n){if(!gp(t.segments,e.segments)||!h2(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!i6(t.children[i],e.children[i],n))return!1;return!0}function Cee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e6(t[n],e[n]))}function r6(t,e,n){return s6(t,e,e.segments,n)}function s6(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!gp(r,n)||e.hasChildren()||!h2(r,n,i))}else if(t.segments.length===n.length){if(!gp(t.segments,n)||!h2(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!r6(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!gp(t.segments,r)||!h2(t.segments,r,i)||!t.children[Hn]?!1:s6(t.children[Hn],e,s,i)}}function h2(t,e,n){return e.every((i,r)=>n6[n](t[r].parameters,i.parameters))}var xd=class{constructor(e=new Ii([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Pm(this.queryParams),this._queryParamMap}toString(){return Eee.serialize(this)}},Ii=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return f2(this)}},mp=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Pm(this.parameters),this._parameterMap}toString(){return a6(this)}};function Tee(t,e){return gp(t,e)&&t.every((n,i)=>cu(n.parameters,e[i].parameters))}function gp(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function See(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Hn&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Hn&&(n=n.concat(e(r,i)))}),n}var bD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>new m1,providedIn:"root"});let t=e;return t})(),m1=class{parse(e){let n=new Zk(e);return new xd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${c1(e.root,!0)}`,i=Dee(e.queryParams),r=typeof e.fragment=="string"?`#${Aee(e.fragment)}`:"";return`${n}${i}${r}`}},Eee=new m1;function f2(t){return t.segments.map(e=>a6(e)).join("/")}function c1(t,e){if(!t.hasChildren())return f2(t);if(e){let n=t.children[Hn]?c1(t.children[Hn],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Hn&&i.push(`${r}:${c1(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=See(t,(i,r)=>r===Hn?[c1(t.children[Hn],!1)]:[`${r}:${c1(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Hn]!=null?`${f2(t)}/${n[0]}`:`${f2(t)}/(${n.join("//")})`}}function o6(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function u2(t){return o6(t).replace(/%3B/gi,";")}function Aee(t){return encodeURI(t)}function Qk(t){return o6(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function p2(t){return decodeURIComponent(t)}function XR(t){return p2(t.replace(/\+/g,"%20"))}function a6(t){return`${Qk(t.path)}${kee(t.parameters)}`}function kee(t){return Object.entries(t).map(([e,n])=>`;${Qk(e)}=${Qk(n)}`).join("")}function Dee(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${u2(n)}=${u2(r)}`).join("&"):`${u2(n)}=${u2(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Iee=/^[^\/()?;#]+/;function Gk(t){let e=t.match(Iee);return e?e[0]:""}var Mee=/^[^\/()?;=#]+/;function Pee(t){let e=t.match(Mee);return e?e[0]:""}var Fee=/^[^=?&#]+/;function Lee(t){let e=t.match(Fee);return e?e[0]:""}var Nee=/^[^&#]+/;function Oee(t){let e=t.match(Nee);return e?e[0]:""}var Zk=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ii([],{}):new Ii([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Hn]=new Ii(e,n)),i}parseSegment(){let e=Gk(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Et(4009,!1);return this.capture(e),new mp(p2(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Pee(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Gk(this.remaining);r&&(i=r,this.capture(i))}e[p2(n)]=p2(i)}parseQueryParam(e){let n=Lee(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Oee(this.remaining);o&&(i=o,this.capture(i))}let r=XR(n),s=XR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Gk(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Et(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Hn);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Hn]:new Ii([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Et(4011,!1)}};function l6(t){return t.segments.length>0?new Ii([],{[Hn]:t}):t}function c6(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=c6(r);if(i===Hn&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ii(t.segments,e);return Ree(n)}function Ree(t){if(t.numberOfChildren===1&&t.children[Hn]){let e=t.children[Hn];return new Ii(t.segments.concat(e.segments),e.children)}return t}function g1(t){return t instanceof xd}function Vee(t,e,n=null,i=null){let r=u6(t);return d6(r,e,n,i)}function u6(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new Ii(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=l6(i);return e??r}function d6(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Wk(r,r,r,n,i);let s=Bee(e);if(s.toRoot())return Wk(r,r,new Ii([],{}),n,i);let o=jee(s,r,t),a=o.processChildren?h1(o.segmentGroup,o.index,s.commands):f6(o.segmentGroup,o.index,s.commands);return Wk(r,o.segmentGroup,a,n,i)}function m2(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function v1(t){return typeof t=="object"&&t!=null&&t.outlets}function Wk(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=h6(t,e,n);let a=l6(c6(o));return new xd(a,s,r)}function h6(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=h6(s,e,n)}),new Ii(t.segments,i)}var g2=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&m2(i[0]))throw new Et(4003,!1);let r=i.find(v1);if(r&&r!==t6(i))throw new Et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Bee(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new g2(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new g2(n,e,i)}var Dm=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function jee(t,e,n){if(t.isAbsolute)return new Dm(e,!0,0);if(!n)return new Dm(e,!1,NaN);if(n.parent===null)return new Dm(n,!0,0);let i=m2(t.commands[0])?0:1,r=n.segments.length-1+i;return Uee(n,r,t.numberOfDoubleDots)}function Uee(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Et(4005,!1);r=i.segments.length}return new Dm(i,!1,r-s)}function Hee(t){return v1(t[0])?t[0].outlets:{[Hn]:t}}function f6(t,e,n){if(t??=new Ii([],{}),t.segments.length===0&&t.hasChildren())return h1(t,e,n);let i=zee(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ii(t.segments.slice(0,i.pathIndex),{});return s.children[Hn]=new Ii(t.segments.slice(i.pathIndex),t.children),h1(s,0,r)}else return i.match&&r.length===0?new Ii(t.segments,{}):i.match&&!t.hasChildren()?Jk(t,e,n):i.match?h1(t,0,r):Jk(t,e,n)}function h1(t,e,n){if(n.length===0)return new Ii(t.segments,{});{let i=Hee(n),r={};if(Object.keys(i).some(s=>s!==Hn)&&t.children[Hn]&&t.numberOfChildren===1&&t.children[Hn].segments.length===0){let s=h1(t.children[Hn],e,n);return new Ii(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=f6(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ii(t.segments,r)}}function zee(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(v1(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!KR(l,c,o))return s;i+=2}else{if(!KR(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Jk(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(v1(s)){let l=$ee(s.outlets);return new Ii(i,l)}if(r===0&&m2(n[0])){let l=t.segments[e];i.push(new mp(l.path,YR(n[0]))),r++;continue}let o=v1(s)?s.outlets[Hn]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&m2(a)?(i.push(new mp(o,YR(a))),r+=2):(i.push(new mp(o,{})),r++)}return new Ii(i,{})}function $ee(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Jk(new Ii([],{}),0,i))}),e}function YR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function KR(t,e,n){return t==n.path&&cu(e,n.parameters)}var f1="imperative",qs=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qs||{}),Dl=class{constructor(e,n){this.id=e,this.url=n}},_1=class extends Dl{constructor(e,n,i="imperative",r=null){super(e,n),this.type=qs.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vp=class extends Dl{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=qs.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ya=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ya||{}),eD=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(eD||{}),yd=class extends Dl{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=qs.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_p=class extends Dl{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=qs.NavigationSkipped}},y1=class extends Dl{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=qs.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},v2=class extends Dl{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=qs.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tD=class extends Dl{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=qs.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nD=class extends Dl{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=qs.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},iD=class extends Dl{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=qs.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rD=class extends Dl{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=qs.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sD=class{constructor(e){this.route=e,this.type=qs.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oD=class{constructor(e){this.route=e,this.type=qs.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},aD=class{constructor(e){this.snapshot=e,this.type=qs.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lD=class{constructor(e){this.snapshot=e,this.type=qs.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cD=class{constructor(e){this.snapshot=e,this.type=qs.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uD=class{constructor(e){this.snapshot=e,this.type=qs.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var x1=class{},Fm=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Gee(t,e){return t.providers&&!t._injector&&(t._injector=mk(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vc(t){return t.outlet||Hn}function Wee(t,e){let n=t.filter(i=>vc(i)===e);return n.push(...t.filter(i=>vc(i)!==e)),n}function E1(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dD=class{get injector(){return E1(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new T2(this.rootInjector),this.attachRef=null}},T2=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new dD(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(ct(Cl))},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_2=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hD(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=hD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return fD(e,this._root).map(n=>n.value)}};function hD(t,e){if(t===e.value)return e;for(let n of e.children){let i=hD(t,n);if(i)return i}return null}function fD(t,e){if(t===e.value)return[e];for(let n of e.children){let i=fD(t,n);if(i.length)return i.unshift(e),i}return[]}var Xa=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function km(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var y2=class extends _2{constructor(e,n){super(e),this.snapshot=n,CD(this,e)}toString(){return this.snapshot.toString()}};function p6(t){let e=qee(t),n=new Vr([new mp("",{})]),i=new Vr({}),r=new Vr({}),s=new Vr({}),o=new Vr(""),a=new Lm(n,i,s,o,r,Hn,t,e.root);return a.snapshot=e.root,new y2(new Xa(a,[]),e)}function qee(t){let e={},n={},i={},r="",s=new Im([],e,i,r,n,Hn,t,null,{});return new w2("",new Xa(s,[]))}var Lm=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nn(c=>c[S1]))??Xt(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nn(e=>Pm(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nn(e=>Pm(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function x2(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ut(ut({},e.params),t.params),data:ut(ut({},e.data),t.data),resolve:ut(ut(ut(ut({},t.data),e.data),r?.data),t._resolvedData)}:i={params:ut({},t.params),data:ut({},t.data),resolve:ut(ut({},t.data),t._resolvedData??{})},r&&g6(r)&&(i.resolve[S1]=r.title),i}var Im=class{get title(){return this.data?.[S1]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pm(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},w2=class extends _2{constructor(e,n){super(n),this.url=e,CD(this,n)}toString(){return m6(this._root)}};function CD(t,e){e.value._routerState=t,e.children.forEach(n=>CD(t,n))}function m6(t){let e=t.children.length>0?` { ${t.children.map(m6).join(", ")} } `:"";return`${t.value}${e}`}function qk(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cu(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),cu(e.params,n.params)||t.paramsSubject.next(n.params),xee(e.url,n.url)||t.urlSubject.next(n.url),cu(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pD(t,e){let n=cu(t.params,e.params)&&Tee(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||pD(t.parent,e.parent))}function g6(t){return typeof t.title=="string"||t.title===null}var TD=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Hn,this.activateEvents=new ri,this.deactivateEvents=new ri,this.attachEvents=new ri,this.detachEvents=new ri,this.parentContexts=zt(T2),this.location=zt(mc),this.changeDetector=zt(au),this.inputBinder=zt(SD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Et(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Et(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new mD(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Bn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ja]});let t=e;return t})(),mD=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Lm?this.route:e===T2?this.childContexts:this.parent.get(e,n)}},SD=new Nt("");function Xee(t,e,n){let i=w1(t,e._root,n?n._root:void 0);return new y2(i,e)}function w1(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Yee(t,e,n);return new Xa(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>w1(t,a)),o}}let i=Kee(e.value),r=e.children.map(s=>w1(t,s));return new Xa(i,r)}}function Yee(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return w1(t,i,r);return w1(t,i)})}function Kee(t){return new Lm(new Vr(t.url),new Vr(t.params),new Vr(t.queryParams),new Vr(t.fragment),new Vr(t.data),t.outlet,t.component,t)}var b1=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},v6="ngNavigationCancelingError";function b2(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=g1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=_6(!1,Ya.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function _6(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[v6]=!0,n.cancellationCode=e,n}function Qee(t){return y6(t)&&g1(t.url)}function y6(t){return!!t&&t[v6]}var Zee=(t,e,n,i)=>nn(r=>(new gD(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),gD=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),qk(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=km(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=km(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=km(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=km(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new uD(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lD(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(qk(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),qk(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},C2=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Mm=class{constructor(e,n){this.component=e,this.route=n}};function Jee(t,e,n){let i=t._root,r=e?e._root:null;return u1(i,r,n,[i.value])}function ete(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Om(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!GL(t)?t:e.get(t):i}function u1(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=km(e);return t.children.forEach(o=>{tte(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>p1(a,n.getContext(o),r)),r}function tte(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=nte(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new C2(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?u1(t,e,a?a.children:null,i,r):u1(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Mm(a.outlet.component,o))}else o&&p1(e,a,r),r.canActivateChecks.push(new C2(i)),s.component?u1(t,null,a?a.children:null,i,r):u1(t,null,n,i,r);return r}function nte(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!gp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gp(t.url,e.url)||!cu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pD(t,e)||!cu(t.queryParams,e.queryParams);case"paramsChange":default:return!pD(t,e)}}function p1(t,e,n){let i=km(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?p1(o,e.children.getContext(s),n):p1(o,null,n):p1(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Mm(e.outlet.component,r)):n.canDeactivateChecks.push(new Mm(null,r)):n.canDeactivateChecks.push(new Mm(null,r))}function A1(t){return typeof t=="function"}function ite(t){return typeof t=="boolean"}function rte(t){return t&&A1(t.canLoad)}function ste(t){return t&&A1(t.canActivate)}function ote(t){return t&&A1(t.canActivateChild)}function ate(t){return t&&A1(t.canDeactivate)}function lte(t){return t&&A1(t.canMatch)}function x6(t){return t instanceof od||t?.name==="EmptyError"}var d2=Symbol("INITIAL_VALUE");function Nm(){return fi(t=>Rx(t.map(e=>e.pipe(xl(1),Yf(d2)))).pipe(nn(e=>{for(let n of e)if(n!==!0){if(n===d2)return d2;if(n===!1||cte(n))return n}return!0}),Es(e=>e!==d2),xl(1)))}function cte(t){return g1(t)||t instanceof b1}function ute(t,e){return Tr(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Xt(hn(ut({},n),{guardsResult:!0})):dte(o,i,r,t).pipe(Tr(a=>a&&ite(a)?hte(i,s,t,e):Xt(a)),nn(a=>hn(ut({},n),{guardsResult:a})))})}function dte(t,e,n,i){return qn(t).pipe(Tr(r=>vte(r.component,r.route,n,e,i)),wl(r=>r!==!0,!0))}function hte(t,e,n,i){return qn(e).pipe(rm(r=>im(pte(r.route.parent,i),fte(r.route,i),gte(t,r.path,n),mte(t,r.route,n))),wl(r=>r!==!0,!0))}function fte(t,e){return t!==null&&e&&e(new cD(t)),Xt(!0)}function pte(t,e){return t!==null&&e&&e(new aD(t)),Xt(!0)}function mte(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Xt(!0);let r=i.map(s=>Vx(()=>{let o=E1(e)??n,a=Om(s,o),l=ste(a)?a.canActivate(e,t):dd(o,()=>a(e,t));return Rh(l).pipe(wl())}));return Xt(r).pipe(Nm())}function gte(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ete(o)).filter(o=>o!==null).map(o=>Vx(()=>{let a=o.guards.map(l=>{let c=E1(o.node)??n,u=Om(l,c),d=ote(u)?u.canActivateChild(i,t):dd(c,()=>u(i,t));return Rh(d).pipe(wl())});return Xt(a).pipe(Nm())}));return Xt(s).pipe(Nm())}function vte(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Xt(!0);let o=s.map(a=>{let l=E1(e)??r,c=Om(a,l),u=ate(c)?c.canDeactivate(t,e,n,i):dd(l,()=>c(t,e,n,i));return Rh(u).pipe(wl())});return Xt(o).pipe(Nm())}function _te(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Xt(!0);let s=r.map(o=>{let a=Om(o,t),l=rte(a)?a.canLoad(e,n):dd(t,()=>a(e,n));return Rh(l)});return Xt(s).pipe(Nm(),w6(i))}function w6(t){return tE(Qr(e=>{if(typeof e!="boolean")throw b2(t,e)}),nn(e=>e===!0))}function yte(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Xt(!0);let s=r.map(o=>{let a=Om(o,t),l=lte(a)?a.canMatch(e,n):dd(t,()=>a(e,n));return Rh(l)});return Xt(s).pipe(Nm(),w6(i))}var C1=class{constructor(e){this.segmentGroup=e||null}},T1=class extends Error{constructor(e){super(),this.urlTree=e}};function Am(t){return nm(new C1(t))}function xte(t){return nm(new Et(4e3,!1))}function wte(t){return nm(_6(!1,Ya.GuardRejected))}var vD=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Xt(i);if(r.numberOfChildren>1||!r.children[Hn])return xte(`${e.redirectTo}`);r=r.children[Hn]}}applyRedirectCommands(e,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:_,title:g}=r,y=dd(s,()=>a({params:h,data:_,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(y instanceof xd)throw new T1(y);n=y}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new T1(o);return o}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new xd(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Ii(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Et(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},_D={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bte(t,e,n,i,r){let s=ED(t,e,n);return s.matched?(i=Gee(e,i),yte(i,e,n,r).pipe(nn(o=>o===!0?s:ut({},_D)))):Xt(s)}function ED(t,e,n){if(e.path==="**")return Cte(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ut({},_D):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||yee)(n,t,e);if(!r)return ut({},_D);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?ut(ut({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Cte(t){return{matched:!0,parameters:t.length>0?t6(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QR(t,e,n,i){return n.length>0&&Ete(t,n,i)?{segmentGroup:new Ii(e,Ste(i,new Ii(n,t.children))),slicedSegments:[]}:n.length===0&&Ate(t,n,i)?{segmentGroup:new Ii(t.segments,Tte(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ii(t.segments,t.children),slicedSegments:n}}function Tte(t,e,n,i){let r={};for(let s of n)if(S2(t,e,s)&&!i[vc(s)]){let o=new Ii([],{});r[vc(s)]=o}return ut(ut({},i),r)}function Ste(t,e){let n={};n[Hn]=e;for(let i of t)if(i.path===""&&vc(i)!==Hn){let r=new Ii([],{});n[vc(i)]=r}return n}function Ete(t,e,n){return n.some(i=>S2(t,e,i)&&vc(i)!==Hn)}function Ate(t,e,n){return n.some(i=>S2(t,e,i))}function S2(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kte(t,e,n,i){return vc(t)!==i&&(i===Hn||!S2(e,n,t))?!1:ED(e,t,n).matched}function Dte(t,e,n){return e.length===0&&!t.children[n]}var yD=class{};function Ite(t,e,n,i,r,s,o="emptyOnly"){return new xD(t,e,n,i,r,o,s).recognize()}var Mte=31,xD=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new vD(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Et(4002,`'${e.segmentGroup}'`)}recognize(){let e=QR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(nn(({children:n,rootSnapshot:i})=>{let r=new Xa(i,n),s=new w2("",r),o=Vee(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Im([],Object.freeze({}),Object.freeze(ut({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Hn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Hn,n).pipe(nn(i=>({children:i,rootSnapshot:n})),_h(i=>{if(i instanceof T1)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof C1?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,s):this.processSegment(e,n,i,i.segments,r,!0,s).pipe(nn(o=>o instanceof Xa?[o]:[]))}processChildren(e,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return qn(s).pipe(rm(o=>{let a=i.children[o],l=Wee(n,o);return this.processSegmentGroup(e,l,a,o,r)}),Xf((o,a)=>(o.push(...a),o)),yh(null),pE(),Tr(o=>{if(o===null)return Am(i);let a=b6(o);return Pte(a),Xt(a)}))}processSegment(e,n,i,r,s,o,a){return qn(n).pipe(rm(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,s,o,a).pipe(_h(c=>{if(c instanceof C1)return Xt(null);throw c}))),wl(l=>!!l),_h(l=>{if(x6(l))return Dte(i,r,s)?Xt(new yD):Am(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,s,o,a,l){return kte(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,l):Am(r):Am(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=ED(n,r,s);if(!l)return Am(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Mte&&(this.allowRedirects=!1));let h=new Im(s,c,Object.freeze(ut({},this.urlTree.queryParams)),this.urlTree.fragment,ZR(r),vc(r),r.component??r._loadedComponent??null,r,JR(r)),_=x2(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data);let g=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(r,g).pipe(Tr(y=>this.processSegment(e,i,n,y.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a=bte(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(fi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(fi(({routes:c})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,_=new Im(f,d,Object.freeze(ut({},this.urlTree.queryParams)),this.urlTree.fragment,ZR(i),vc(i),i.component??i._loadedComponent??null,i,JR(i)),g=x2(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(g.params),_.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:b}=QR(n,f,h,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y,_).pipe(nn(F=>new Xa(_,F)));if(c.length===0&&b.length===0)return Xt(new Xa(_,[]));let E=vc(i)===s;return this.processSegment(u,c,y,b,E?Hn:s,!0,_).pipe(nn(F=>new Xa(_,F instanceof Xa?[F]:[])))}))):Am(n)))}getChildConfig(e,n,i){return n.children?Xt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Xt({routes:n._loadedRoutes,injector:n._loadedInjector}):_te(e,n,i,this.urlSerializer).pipe(Tr(r=>r?this.configLoader.loadChildren(e,n).pipe(Qr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):wte(n))):Xt({routes:[],injector:e})}};function Pte(t){t.sort((e,n)=>e.value.outlet===Hn?-1:n.value.outlet===Hn?1:e.value.outlet.localeCompare(n.value.outlet))}function Fte(t){let e=t.value.routeConfig;return e&&e.path===""}function b6(t){let e=[],n=new Set;for(let i of t){if(!Fte(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=b6(i.children);e.push(new Xa(i.value,r))}return e.filter(i=>!n.has(i))}function ZR(t){return t.data||{}}function JR(t){return t.resolve||{}}function Lte(t,e,n,i,r,s){return Tr(o=>Ite(t,e,n,i,o.extractedUrl,r,s).pipe(nn(({state:a,tree:l})=>hn(ut({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Nte(t,e){return Tr(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Xt(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of C6(l))o.add(c);let a=0;return qn(o).pipe(rm(l=>s.has(l)?Ote(l,i,t,e):(l.data=x2(l,l.parent,t).resolve,Xt(void 0))),Qr(()=>a++),sm(1),Tr(l=>a===o.size?Xt(n):Ro))})}function C6(t){let e=t.children.map(n=>C6(n)).flat();return[t,...e]}function Ote(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!g6(r)&&(s[S1]=r.title),Rte(s,t,e,i).pipe(nn(o=>(t._resolvedData=o,t.data=x2(t,t.parent,n).resolve,null)))}function Rte(t,e,n,i){let r=Kk(t);if(r.length===0)return Xt({});let s={};return qn(r).pipe(Tr(o=>Vte(t[o],e,n,i).pipe(wl(),Qr(a=>{if(a instanceof b1)throw b2(new m1,a);s[o]=a}))),sm(1),hE(s),_h(o=>x6(o)?Ro:nm(o)))}function Vte(t,e,n,i){let r=E1(e)??i,s=Om(t,r),o=s.resolve?s.resolve(e,n):dd(r,()=>s(e,n));return Rh(o)}function Xk(t){return fi(e=>{let n=t(e);return n?qn(n).pipe(nn(()=>e)):Xt(e)})}var T6=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Hn);return r}getResolvedTitleForRoute(i){return i.data[S1]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt(Bte),providedIn:"root"});let t=e;return t})(),Bte=(()=>{let e=class e extends T6{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ct(WR))},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AD=new Nt("",{providedIn:"root",factory:()=>({})}),jte=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fn({type:e,selectors:[["ng-component"]],standalone:!0,features:[wn],decls:1,vars:0,template:function(r,s){r&1&&Ft(0,"router-outlet")},dependencies:[TD],encapsulation:2});let t=e;return t})();function kD(t){let e=t.children&&t.children.map(kD),n=e?hn(ut({},t),{children:e}):ut({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Hn&&(n.component=jte),n}var DD=new Nt(""),Ute=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=zt(bk)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Xt(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Rh(i.loadComponent()).pipe(nn(S6),Qr(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Ov(()=>{this.componentLoaders.delete(i)})),s=new Z0(r,()=>new cr).pipe(Q0());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Hte(r,this.compiler,i,this.onLoadEndListener).pipe(Ov(()=>{this.childrenLoaders.delete(r)})),a=new Z0(o,()=>new cr).pipe(Q0());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hte(t,e,n,i){return Rh(t.loadChildren()).pipe(nn(S6),Tr(r=>r instanceof Wv||Array.isArray(r)?Xt(r):qn(e.compileModuleAsync(r))),nn(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(DD,[],{optional:!0,self:!0}).flat()),{routes:o.map(kD),injector:s}}))}function zte(t){return t&&typeof t=="object"&&"default"in t}function S6(t){return zte(t)?t.default:t}var ID=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt($te),providedIn:"root"});let t=e;return t})(),$te=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gte=new Nt("");var Wte=new Nt(""),qte=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new cr,this.transitionAbortSubject=new cr,this.configLoader=zt(Ute),this.environmentInjector=zt(Cl),this.urlSerializer=zt(bD),this.rootContexts=zt(T2),this.location=zt(r1),this.inputBindingEnabled=zt(SD,{optional:!0})!==null,this.titleStrategy=zt(T6),this.options=zt(AD,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=zt(ID),this.createViewTransition=zt(Gte,{optional:!0}),this.navigationErrorHandler=zt(Wte,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Xt(void 0),this.rootComponentType=null;let i=s=>this.events.next(new sD(s)),r=s=>this.events.next(new oD(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(hn(ut(ut({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Vr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:f1,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Es(o=>o.id!==0),nn(o=>hn(ut({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),fi(o=>{let a=!1,l=!1;return Xt(o).pipe(fi(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ya.SupersededByNewNavigation),Ro;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?hn(ut({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new _p(c.id,this.urlSerializer.serialize(c.rawUrl),f,eD.IgnoredSameUrlNavigation)),c.resolve(!1),Ro}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Xt(c).pipe(fi(f=>{let h=this.transitions?.getValue();return this.events.next(new _1(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Ro:Promise.resolve(f)}),Lte(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Qr(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=hn(ut({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new v2(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:_,restoredState:g,extras:y}=c,b=new _1(f,this.urlSerializer.serialize(h),_,g);this.events.next(b);let E=p6(this.rootComponentType).snapshot;return this.currentTransition=o=hn(ut({},c),{targetSnapshot:E,urlAfterRedirects:h,extras:hn(ut({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Xt(o)}else{let f="";return this.events.next(new _p(c.id,this.urlSerializer.serialize(c.extractedUrl),f,eD.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ro}}),Qr(c=>{let u=new tD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),nn(c=>(this.currentTransition=o=hn(ut({},c),{guards:Jee(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),ute(this.environmentInjector,c=>this.events.next(c)),Qr(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw b2(this.urlSerializer,c.guardsResult);let u=new nD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Es(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ya.GuardRejected),!1)),Xk(c=>{if(c.guards.canActivateChecks.length)return Xt(c).pipe(Qr(u=>{let d=new iD(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),fi(u=>{let d=!1;return Xt(u).pipe(Nte(this.paramsInheritanceStrategy,this.environmentInjector),Qr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ya.NoDataFromResolver)}}))}),Qr(u=>{let d=new rD(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Xk(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qr(h=>{d.component=h}),nn(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Rx(u(c.targetSnapshot.root)).pipe(yh(null),xl(1))}),Xk(()=>this.afterPreactivation()),fi(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?qn(d).pipe(nn(()=>o)):Xt(o)}),nn(c=>{let u=Xee(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=hn(ut({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Qr(()=>{this.events.next(new x1)}),Zee(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xl(1),Qr({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),gE(this.transitionAbortSubject.pipe(Qr(c=>{throw c}))),Ov(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Ya.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),_h(c=>{if(l=!0,y6(c))this.events.next(new yd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Qee(c)?this.events.next(new Fm(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new y1(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=dd(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof b1){let{message:f,cancellationCode:h}=b2(this.urlSerializer,d);this.events.next(new yd(o.id,this.urlSerializer.serialize(o.extractedUrl),f,h)),this.events.next(new Fm(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=i.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Ro}))}))}cancelNavigationTransition(i,r,s){let o=new yd(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xte(t){return t!==f1}var Yte=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt(Kte),providedIn:"root"});let t=e;return t})(),wD=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Kte=(()=>{let e=class e extends wD{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:()=>zt(Qte),providedIn:"root"});let t=e;return t})(),Qte=(()=>{let e=class e extends E6{constructor(){super(...arguments),this.location=zt(r1),this.urlSerializer=zt(bD),this.options=zt(AD,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=zt(ID),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=p6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof _1)this.stateMemento=this.createStateMemento();else if(i instanceof _p)this.rawUrlTree=r.initialUrl;else if(i instanceof v2){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof x1?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof yd&&(i.code===Ya.GuardRejected||i.code===Ya.NoDataFromResolver)?this.restoreHistory(r):i instanceof y1?this.restoreHistory(r,!0):i instanceof vp&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof xd?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=ut(ut({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=ut(ut({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d1=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(d1||{});function Zte(t,e){t.events.pipe(Es(n=>n instanceof vp||n instanceof yd||n instanceof y1||n instanceof _p),nn(n=>n instanceof vp||n instanceof _p?d1.COMPLETE:(n instanceof yd?n.code===Ya.Redirect||n.code===Ya.SupersededByNewNavigation:!1)?d1.REDIRECTING:d1.FAILED),Es(n=>n!==d1.REDIRECTING),xl(1)).subscribe(()=>{e()})}function Jte(t){throw t}var ene={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fo=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=zt(Hw),this.stateManager=zt(E6),this.options=zt(AD,{optional:!0})||{},this.pendingTasks=zt(xm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=zt(qte),this.urlSerializer=zt(bD),this.location=zt(r1),this.urlHandlingStrategy=zt(ID),this._events=new cr,this.errorHandler=this.options.errorHandler||Jte,this.navigated=!1,this.routeReuseStrategy=zt(Yte),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=zt(DD,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!zt(SD,{optional:!0}),this.eventsSubscription=new xr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yd&&r.code!==Ya.Redirect&&r.code!==Ya.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vp)this.navigated=!0;else if(r instanceof Fm){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=ut({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Xte(s.source)},a);this.scheduleNavigation(l,f1,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}ine(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),f1,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=ut({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(kD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=ut(ut({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=s?s.snapshot:this.routerState.snapshot.root;f=u6(h)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),f=this.currentUrlTree.root}return d6(f,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=g1(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,f1,null,r)}navigate(i,r={skipLocationChange:!1}){return nne(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=ut({},ene):r===!1?s=ut({},tne):s=r,g1(i))return qR(this.currentUrlTree,i,s);let o=this.parseUrl(i);return qR(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return Zte(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nne(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Et(4008,!1)}function ine(t){return!(t instanceof x1)&&!(t instanceof Fm)}var rne=new Nt("");function A6(t,...e){return NA([{provide:DD,multi:!0,useValue:t},[],{provide:Lm,useFactory:sne,deps:[fo]},{provide:wk,multi:!0,useFactory:one},e.map(n=>n.\u0275providers)])}function sne(t){return t.routerState.root}function one(){let t=zt(Ba);return e=>{let n=t.get(gd);if(e!==n.components[0])return;let i=t.get(fo),r=t.get(ane);t.get(lne)===1&&i.initialNavigation(),t.get(cne,null,Xn.Optional)?.setUpPreloading(),t.get(rne,null,Xn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ane=new Nt("",{factory:()=>new cr}),lne=new Nt("",{providedIn:"root",factory:()=>1});var cne=new Nt("");var k6='body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;background-image:url("./media/fondo-5DKL25FJ.jpg");background-size:cover;background-position:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:66.9vh;padding:50px}.title[_ngcontent-%COMP%]{font-size:2rem;color:#2e4c6d;margin-bottom:20px;font-family:Dune,sans-serif}.description[_ngcontent-%COMP%]{font-size:2rem;color:#2e4c6d;font-family:Dune,sans-serif}.footer[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#d2691e;text-align:center;padding:20px 0;bottom:0;width:100%}',D6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fn({type:e,selectors:[["app-bienvenida"]],standalone:!0,features:[wn],decls:14,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"title"],[1,"description"],[1,"footer"],[1,"footer-content"]],template:function(r,s){r&1&&(B(0,"html",0)(1,"head"),Ft(2,"meta",1)(3,"meta",2),P(),B(4,"body")(5,"div",3)(6,"h1",4),G(7,"Bienvenido a la cl\xEDnica de Paul Atreides"),P(),B(8,"p",5),G(9,"Trataremos tus heridas de batalla, no te preocupes"),P()(),B(10,"footer",6)(11,"div",7)(12,"p"),G(13,"No desperdicies agua, en Arrakis es un recurso muy preciado"),P()()()()())},styles:[k6,k6]});let t=e;return t})();var Nd=ma(Vh());var B6=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(Je(Ds),Je(Gi))},e.\u0275dir=Bn({type:e});let t=e;return t})(),L1=(()=>{let e=class e extends B6{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,features:[us]});let t=e;return t})(),wd=new Nt("");var une={provide:wd,useExisting:Ws(()=>Jr),multi:!0};function dne(){let t=lu()?lu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hne=new Nt(""),Jr=(()=>{let e=class e extends B6{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dne())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(Je(Ds),Je(Gi),Je(hne,8))},e.\u0275dir=Bn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Ye("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ho([une]),us]});let t=e;return t})();function Bh(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function j6(t){return t!=null&&typeof t.length=="number"}var xp=new Nt(""),Um=new Nt(""),fne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,on=class{static min(e){return pne(e)}static max(e){return mne(e)}static required(e){return U6(e)}static requiredTrue(e){return gne(e)}static email(e){return vne(e)}static minLength(e){return _ne(e)}static maxLength(e){return yne(e)}static pattern(e){return xne(e)}static nullValidator(e){return A2(e)}static compose(e){return q6(e)}static composeAsync(e){return X6(e)}};function pne(t){return e=>{if(Bh(e.value)||Bh(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function mne(t){return e=>{if(Bh(e.value)||Bh(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function U6(t){return Bh(t.value)?{required:!0}:null}function gne(t){return t.value===!0?null:{required:!0}}function vne(t){return Bh(t.value)||fne.test(t.value)?null:{email:!0}}function _ne(t){return e=>Bh(e.value)||!j6(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function yne(t){return e=>j6(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function xne(t){if(!t)return A2;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Bh(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function A2(t){return null}function H6(t){return t!=null}function z6(t){return Lh(t)?qn(t):t}function $6(t){let e={};return t.forEach(n=>{e=n!=null?ut(ut({},e),n):e}),Object.keys(e).length===0?null:e}function G6(t,e){return e.map(n=>n(t))}function wne(t){return!t.validate}function W6(t){return t.map(e=>wne(e)?e:n=>e.validate(n))}function q6(t){if(!t)return null;let e=t.filter(H6);return e.length==0?null:function(n){return $6(G6(n,e))}}function RD(t){return t!=null?q6(W6(t)):null}function X6(t){if(!t)return null;let e=t.filter(H6);return e.length==0?null:function(n){let i=G6(n,e).map(z6);return cE(i).pipe(nn($6))}}function VD(t){return t!=null?X6(W6(t)):null}function I6(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Y6(t){return t._rawValidators}function K6(t){return t._rawAsyncValidators}function PD(t){return t?Array.isArray(t)?t:[t]:[]}function k2(t,e){return Array.isArray(t)?t.includes(e):t===e}function M6(t,e){let n=PD(e);return PD(t).forEach(r=>{k2(n,r)||n.push(r)}),n}function P6(t,e){return PD(e).filter(n=>!k2(t,n))}var D2=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zo=class extends D2{get formDirective(){return null}get path(){return null}},jh=class extends D2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},I2=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bne={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oMe=hn(ut({},bne),{"[class.ng-submitted]":"isSubmitted"}),Ms=(()=>{let e=class e extends I2{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Je(jh,2))},e.\u0275dir=Bn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&md("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[us]});let t=e;return t})(),Il=(()=>{let e=class e extends I2{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Je(zo,10))},e.\u0275dir=Bn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&md("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[us]});let t=e;return t})();var k1="VALID",E2="INVALID",Rm="PENDING",D1="DISABLED",Uh=class{},M2=class extends Uh{constructor(e,n){super(),this.value=e,this.source=n}},M1=class extends Uh{constructor(e,n){super(),this.pristine=e,this.source=n}},P1=class extends Uh{constructor(e,n){super(),this.touched=e,this.source=n}},Vm=class extends Uh{constructor(e,n){super(),this.status=e,this.source=n}},FD=class extends Uh{constructor(e){super(),this.source=e}},LD=class extends Uh{constructor(e){super(),this.source=e}};function BD(t){return(N2(t)?t.validators:t)||null}function Cne(t){return Array.isArray(t)?RD(t):t||null}function jD(t,e){return(N2(e)?e.asyncValidators:t)||null}function Tne(t){return Array.isArray(t)?VD(t):t||null}function N2(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Q6(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Et(1e3,"");if(!i[n])throw new Et(1001,"")}function Z6(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Et(1002,"")})}var Bm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Sm(()=>this.statusReactive()),this.statusReactive=bm(void 0),this._pristine=Sm(()=>this.pristineReactive()),this.pristineReactive=bm(!0),this._touched=Sm(()=>this.touchedReactive()),this.touchedReactive=bm(!1),this._events=new cr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Al(this.statusReactive)}set status(e){Al(()=>this.statusReactive.set(e))}get valid(){return this.status===k1}get invalid(){return this.status===E2}get pending(){return this.status==Rm}get disabled(){return this.status===D1}get enabled(){return this.status!==D1}get pristine(){return Al(this.pristineReactive)}set pristine(e){Al(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Al(this.touchedReactive)}set touched(e){Al(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(P6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(P6(e,this._rawAsyncValidators))}hasValidator(e){return k2(this._rawValidators,e)}hasAsyncValidator(e){return k2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(hn(ut({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new P1(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new P1(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(hn(ut({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new M1(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new M1(!0,i))}markAsPending(e={}){this.status=Rm;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vm(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(hn(ut({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=D1,this.errors=null,this._forEachChild(r=>{r.disable(hn(ut({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new M2(this.value,i)),this._events.next(new Vm(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(hn(ut({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=k1,this._forEachChild(i=>{i.enable(hn(ut({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(hn(ut({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k1||this.status===Rm)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new M2(this.value,n)),this._events.next(new Vm(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(hn(ut({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?D1:k1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Rm,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=z6(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Vm(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new ri,this.statusChanges=new ri}_calculateStatus(){return this._allControlsDisabled()?D1:this.errors?E2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rm)?Rm:this._anyControlsHaveStatus(E2)?E2:k1}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new M1(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new P1(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){N2(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cne(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Tne(this._rawAsyncValidators)}},jm=class extends Bm{constructor(e,n,i){super(BD(n),jD(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Z6(this,!0,e),Object.keys(e).forEach(i=>{Q6(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ND=class extends jm{};var Hm=new Nt("CallSetDisabledState",{providedIn:"root",factory:()=>N1}),N1="always";function O2(t,e){return[...e.path,t]}function P2(t,e,n=N1){UD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ene(t,e),kne(t,e),Ane(t,e),Sne(t,e)}function F6(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),L2(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function F2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Sne(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UD(t,e){let n=Y6(t);e.validator!==null?t.setValidators(I6(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=K6(t);e.asyncValidator!==null?t.setAsyncValidators(I6(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();F2(e._rawValidators,r),F2(e._rawAsyncValidators,r)}function L2(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Y6(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=K6(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return F2(e._rawValidators,i),F2(e._rawAsyncValidators,i),n}function Ene(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&J6(t,e)})}function Ane(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&J6(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function J6(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kne(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function e8(t,e){t==null,UD(t,e)}function Dne(t,e){return L2(t,e)}function t8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ine(t){return Object.getPrototypeOf(t.constructor)===L1}function n8(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function i8(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Jr?n=s:Ine(s)?i=s:r=s}),r||i||n||null}function Mne(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pne={provide:zo,useExisting:Ws(()=>HD)},I1=Promise.resolve(),HD=(()=>{let e=class e extends zo{get submitted(){return Al(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Sm(()=>this.submittedReactive()),this.submittedReactive=bm(!1),this._directives=new Set,this.ngSubmit=new ri,this.form=new jm({},RD(i),VD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){I1.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),P2(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){I1.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){I1.then(()=>{let r=this._findContainer(i.path),s=new jm({});e8(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){I1.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){I1.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),n8(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(Je(xp,10),Je(Um,10),Je(Hm,8))},e.\u0275dir=Bn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Ye("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ho([Pne]),us]});let t=e;return t})();function L6(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function N6(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var F1=class extends Bm{constructor(e=null,n,i){super(BD(n),jD(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(N6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){N6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Fne=t=>t instanceof F1,Lne=(()=>{let e=class e extends zo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return O2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,features:[us]});let t=e;return t})();var Nne={provide:jh,useExisting:Ws(()=>_c)},O6=Promise.resolve(),_c=(()=>{let e=class e extends jh{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new F1,this._registered=!1,this.name="",this.update=new ri,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=i8(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),t8(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){P2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){O6.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&i1(r);O6.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?O2(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(Je(zo,9),Je(xp,10),Je(Um,10),Je(wd,10),Je(au,8),Je(Hm,8))},e.\u0275dir=Bn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ho([Nne]),us,ja]});let t=e;return t})(),Ml=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Bn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),One={provide:wd,useExisting:Ws(()=>bd),multi:!0},bd=(()=>{let e=class e extends L1{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Ye("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[ho([One]),us]});let t=e;return t})(),Rne={provide:wd,useExisting:Ws(()=>O1),multi:!0};var Vne=(()=>{let e=class e{constructor(){this._accessors=[]}add(i,r){this._accessors.push([i,r])}remove(i){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===i){this._accessors.splice(r,1);return}}select(i){this._accessors.forEach(r=>{this._isSameGroup(r,i)&&r[1]!==i&&r[1].fireUncheck(i.value)})}_isSameGroup(i,r){return i[0].control?i[0]._parent===r._control._parent&&i[1].name===r.name:!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O1=(()=>{let e=class e extends L1{constructor(i,r,s,o){super(i,r),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=zt(Hm,{optional:!0})??N1}ngOnInit(){this._control=this._injector.get(jh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(i){this._state=i===this.value,this.setProperty("checked",this._state)}registerOnChange(i){this._fn=i,this.onChange=()=>{i(this.value),this._registry.select(this)}}setDisabledState(i){(this.setDisabledStateFired||i||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",i),this.setDisabledStateFired=!0}fireUncheck(i){this.writeValue(i)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(r){return new(r||e)(Je(Ds),Je(Gi),Je(Vne),Je(Ba))},e.\u0275dir=Bn({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,s){r&1&&Ye("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ho([Rne]),us]});let t=e;return t})();var r8=new Nt("");var Bne={provide:zo,useExisting:Ws(()=>Pl)},Pl=(()=>{let e=class e extends zo{get submitted(){return Al(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Sm(()=>this._submittedReactive()),this._submittedReactive=bm(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ri,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return P2(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){F6(i.control||null,i,!1),Mne(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),n8(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new FD(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new LD(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(F6(r||null,i),Fne(s)&&(P2(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);e8(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Dne(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UD(this.form,this),this._oldForm&&L2(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(Je(xp,10),Je(Um,10),Je(Hm,8))},e.\u0275dir=Bn({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Ye("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ho([Bne]),us,ja]});let t=e;return t})(),jne={provide:zo,useExisting:Ws(()=>R2)},R2=(()=>{let e=class e extends Lne{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){s8(this._parent)}};e.\u0275fac=function(r){return new(r||e)(Je(zo,13),Je(xp,10),Je(Um,10))},e.\u0275dir=Bn({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[ho([jne]),us]});let t=e;return t})(),Une={provide:zo,useExisting:Ws(()=>V2)},V2=(()=>{let e=class e extends zo{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return O2(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){s8(this._parent)}};e.\u0275fac=function(r){return new(r||e)(Je(zo,13),Je(xp,10),Je(Um,10))},e.\u0275dir=Bn({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[ho([Une]),us]});let t=e;return t})();function s8(t){return!(t instanceof R2)&&!(t instanceof Pl)&&!(t instanceof V2)}var Hne={provide:jh,useExisting:Ws(()=>yc)},yc=(()=>{let e=class e extends jh{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ri,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=i8(this,o)}ngOnChanges(i){this._added||this._setUpControl(),t8(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return O2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(Je(zo,13),Je(xp,10),Je(Um,10),Je(wd,10),Je(r8,8))},e.\u0275dir=Bn({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ho([Hne]),us,ja]});let t=e;return t})(),zne={provide:wd,useExisting:Ws(()=>zm),multi:!0};function o8(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $ne(t){return t.split(":")[0]}var zm=(()=>{let e=class e extends L1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=o8(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=$ne(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Ye("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ho([zne]),us]});let t=e;return t})(),B2=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(o8(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds),Je(zm,9))},e.\u0275dir=Bn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Gne={provide:wd,useExisting:Ws(()=>a8),multi:!0};function R6(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Wne(t){return t.split(":")[0]}var a8=(()=>{let e=class e extends L1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Wne(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Ye("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ho([Gne]),us]});let t=e;return t})(),j2=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(R6(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(R6(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds),Je(a8,9))},e.\u0275dir=Bn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var qne=(()=>{let e=class e{constructor(){this._validator=A2}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):A2,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Bn({type:e,features:[ja]});let t=e;return t})();var Xne={provide:xp,useExisting:Ws(()=>xc),multi:!0};var xc=(()=>{let e=class e extends qne{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i1,this.createValidator=i=>U6}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pc(e)))(s||e)}})(),e.\u0275dir=Bn({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&hp("required",s._enabled?"":null)},inputs:{required:"required"},features:[ho([Xne]),us]});let t=e;return t})();var l8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({});let t=e;return t})(),OD=class extends Bm{constructor(e,n,i){super(BD(n),jD(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Z6(this,!1,e),e.forEach((i,r)=>{Q6(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function V6(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var du=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return V6(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new jm(s,o)}record(i,r=null){let s=this._reduceControls(i);return new ND(s,r)}control(i,r,s){let o={};return this.useNonNullable?(V6(r)?o=r:(o.validators=r,o.asyncValidators=s),new F1(i,hn(ut({},o),{nonNullable:!0}))):new F1(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new OD(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof F1)return i;if(i instanceof Bm)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ir=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Hm,useValue:i.callSetDisabledState??N1}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({imports:[l8]});let t=e;return t})(),Fl=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:r8,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Hm,useValue:i.callSetDisabledState??N1}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({imports:[l8]});let t=e;return t})();var Ln=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ln||{}),hu="*";function fu(t,e){return{type:Ln.Trigger,name:t,definitions:e,options:{}}}function pu(t,e=null){return{type:Ln.Animate,styles:e,timings:t}}function c8(t,e=null){return{type:Ln.Sequence,steps:t,options:e}}function ds(t){return{type:Ln.Style,styles:t,offset:null}}function mu(t,e,n=null){return{type:Ln.Transition,expr:t,animation:e,options:n}}function u8(t,e,n=null){return{type:Ln.Query,selector:t,animation:e,options:n}}function d8(t,e){return{type:Ln.Stagger,timings:t,animation:e}}var Hh=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},R1=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},U2="!";var h8='.btnIngreso[_ngcontent-%COMP%]{margin-bottom:15px;background-size:cover;background-position:center;width:90px;height:90px;border:none;border-radius:10px;color:#d2691e;font-weight:700;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;text-shadow:2px 2px 4px rgba(0,0,0,.9);position:relative;display:flex;flex-direction:column;justify-content:flex-end;padding:5px}.btnIngreso[_ngcontent-%COMP%]:hover{filter:brightness(.7);cursor:pointer;transform:scale(1.09)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:90vh}.ingreso-rapido-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{margin-bottom:3px;margin-left:10px}.btnAdmin[_ngcontent-%COMP%]{background-image:url("./media/paul-TOTLTP7V.jpg")}.btnPac1[_ngcontent-%COMP%]{background-image:url("./media/feyd-PPCNG5RK.jpg")}.btnPac2[_ngcontent-%COMP%]{background-image:url("./media/rabban-SKHYYKXC.jpg")}.btnPac3[_ngcontent-%COMP%]{background-image:url("./media/harkonnen-WZNTQZTQ.jpg")}.btnEsp1[_ngcontent-%COMP%]{background-image:url("./media/chani-MDD6D4RA.jpg")}.btnEsp2[_ngcontent-%COMP%]{background-image:url("./media/stilgar-JGY2FHP7.jpg")}',H2=(()=>{let e=class e{constructor(){this.credencialesSeleccionadas=new ri}seleccionarCredenciales(i,r){let s={email:i,password:r};this.credencialesSeleccionadas.emit(s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fn({type:e,selectors:[["app-botones-inicio"]],outputs:{credencialesSeleccionadas:"credencialesSeleccionadas"},standalone:!0,features:[wn],decls:19,vars:2,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"ingreso-rapido-container","d-flex","flex-column","align-items-center","mb-4"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnAdmin",3,"click"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnEsp1",3,"click"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnEsp2",3,"click"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnPac1",3,"click"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnPac2",3,"click"],[1,"btn","btn-lg","btnIngreso","btn-primary","btnPac3",3,"click"]],template:function(r,s){r&1&&(B(0,"html",0)(1,"head"),Ft(2,"meta",1)(3,"meta",2),P(),B(4,"body")(5,"div",3)(6,"div",4)(7,"button",5),Ye("click",function(){return s.seleccionarCredenciales("pexari1606@luravel.com","111111")}),G(8,"(admin)"),P(),B(9,"button",6),Ye("click",function(){return s.seleccionarCredenciales("negah99739@nolanzip.com","chani123")}),G(10,"(especialista)"),P(),B(11,"button",7),Ye("click",function(){return s.seleccionarCredenciales("bidegi7129@mposhop.com","stilgar123")}),G(12,"(especialista)"),P(),B(13,"button",8),Ye("click",function(){return s.seleccionarCredenciales("doreno1189@mposhop.com","feyd123")}),G(14,"(paciente)"),P(),B(15,"button",9),Ye("click",function(){return s.seleccionarCredenciales("rajir12322@nolanzip.com","rabban123")}),G(16,"(paciente)"),P(),B(17,"button",10),Ye("click",function(){return s.seleccionarCredenciales("tafakaw234@kinsef.com","harkonnen123")}),G(18,"(paciente)"),P()()()()()),r&2&&(Z(5),ye("@buttonContainerAnimation",void 0),Z(),ye("@buttonAnimation",void 0))},styles:[h8,h8],data:{animation:[fu("buttonContainerAnimation",[mu(":enter",[ds({opacity:0}),pu("0.5s ease-out",ds({opacity:1}))])]),fu("buttonAnimation",[mu(":enter",[u8(".btn",[ds({transform:"translateX(-100px)",opacity:0}),d8("0.1s",[pu("0.8s ease-out",ds({transform:"translateX(0)",opacity:1}))])])])])]}});let t=e;return t})();var f8=(()=>{let e=class e{transform(i){return i?i.toUpperCase():""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=up({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Yne="firebase",Kne="10.12.3";vl(Yne,Kne,"app");var Td=new ud("ANGULARFIRE2_VERSION");var p8=(t,e)=>{let n=e?[e]:m3(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},gu=class{constructor(){return p8(Qne)}},Qne="app-check";function $m(){}var z2=class{zone;delegate;constructor(e,n=oE){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},zD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$m,{},$m,$m)),n.pipe(Qr({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bp=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new z2(Zone.current)),this.insideAngular=n.run(()=>new z2(Zone.current,_l)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(ct(zn))};static \u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V1(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Zne(t){return V1().ngZone.runOutsideAngular(()=>t())}function wp(t){return V1().ngZone.run(()=>t())}function $D(t){return t.pipe(va(V1().outsideAngular))}function Ps(t){return Jne(V1())(t)}function Jne(t){return function(n){return n=n.lift(new zD(t.ngZone)),n.pipe(yl(t.outsideAngular),va(t.insideAngular))}}var eie=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),wp(()=>t.apply(void 0,i))},m8=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=wp(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$m,{},$m,$m))),i[s]=eie(i[s],n));let r=Zne(()=>t.apply(this,i));if(!e)if(r instanceof An){let s=V1();return r.pipe(yl(s.outsideAngular),va(s.insideAngular))}else return wp(()=>r);return r instanceof An?r.pipe(Ps):r instanceof Promise?wp(()=>new Promise((s,o)=>r.then(a=>wp(()=>s(a)),a=>wp(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:wp(()=>r)};var g8=m8(HS,!0);var ere=new Map,tre={activated:!1,tokenObservers:[]},nre={initialized:!1,enabled:!1};function wc(t){return ere.get(t)||Object.assign({},tre)}function C8(){return nre}var ire="https://content-firebaseappcheck.googleapis.com/v1";var rre="exchangeDebugToken",v8={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},bPe=24*60*60*1e3;var qD=class{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return Se(this,null,function*(){this.stop();try{this.pending=new BS,this.pending.promise.catch(n=>{}),yield sre(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new BS,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function sre(t){return new Promise(e=>{setTimeout(e,t)})}var ore={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},zh=new p3("appCheck","AppCheck",ore);function T8(t){if(!wc(t).activated)throw zh.create("use-before-activation",{appName:t.name})}function S8(i,r){return Se(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(s["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(h){throw zh.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw zh.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw zh.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw zh.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function E8(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${ire}/projects/${n}/apps/${i}:${rre}?key=${r}`,body:{debug_token:e}}}var are="firebase-app-check-database",lre=1,XD="firebase-app-check-store";var $2=null;function cre(){return $2||($2=new Promise((t,e)=>{try{let n=indexedDB.open(are,lre);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(zh.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(XD,{keyPath:"compositeKey"})}}}catch(n){e(zh.create("storage-open",{originalErrorMessage:n?.message}))}}),$2)}function ure(t,e){return dre(hre(t),e)}function dre(t,e){return Se(this,null,function*(){let i=(yield cre()).transaction(XD,"readwrite"),s=i.objectStore(XD).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(zh.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function hre(t){return`${t.options.appId}-${t.name}`}var YD=new ox("@firebase/app-check");function WD(t,e){return rx()?ure(t,e).catch(n=>{YD.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function A8(){return C8().enabled}function k8(){return Se(this,null,function*(){let t=C8();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fre={error:"UNKNOWN_ERROR"};function pre(t){return f3.encodeString(JSON.stringify(t),!1)}function KD(t,e=!1){return Se(this,null,function*(){let n=t.app;T8(n);let i=wc(n),r=i.token,s;if(r&&!B1(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(B1(l)?r=l:yield WD(n,void 0))}if(!e&&r&&B1(r))return{token:r.token};let o=!1;if(A8()){i.exchangeTokenPromise||(i.exchangeTokenPromise=S8(E8(n,yield k8()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield WD(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield wc(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?YD.warn(l.message):YD.error(l),s=l}let a;return r?s?B1(r)?a={token:r.token,internalError:s}:a=y8(s):(a={token:r.token},i.token=r,yield WD(n,r)):a=y8(s),o&&_re(n,a),a})}function mre(t){return Se(this,null,function*(){let e=t.app;T8(e);let{provider:n}=wc(e);if(A8()){let i=yield k8(),{token:r}=yield S8(E8(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function gre(t,e,n,i){let{app:r}=t,s=wc(r),o={next:n,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&B1(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),_8(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_8(t))}function D8(t,e){let n=wc(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function _8(t){let{app:e}=t,n=wc(e),i=n.tokenRefresher;i||(i=vre(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function vre(t){let{app:e}=t;return new qD(()=>Se(this,null,function*(){let n=wc(e),i;if(n.token?i=yield KD(t,!0):i=yield KD(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=wc(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},v8.RETRIAL_MIN_WAIT,v8.RETRIAL_MAX_WAIT)}function _re(t,e){let n=wc(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function B1(t){return t.expireTimeMillis-Date.now()>0}function y8(t){return{token:pre(fre),error:t}}var QD=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=wc(this.app);for(let n of e)D8(this.app,n.next);return Promise.resolve()}};function yre(t,e){return new QD(t,e)}function xre(t){return{getToken:e=>KD(t,e),getLimitedUseToken:()=>mre(t),addTokenListener:e=>gre(t,"INTERNAL",e),removeTokenListener:e=>D8(t.app,e)}}var wre="@firebase/app-check",bre="0.8.5";var Cre="app-check",x8="app-check-internal";function Tre(){$f(new oc(Cre,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return yre(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(x8).initialize()})),$f(new oc(x8,t=>{let e=t.getProvider("app-check").getImmediate();return xre(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),vl(wre,bre)}Tre();var Sre=["localhost","0.0.0.0","127.0.0.1"],LPe=typeof window<"u"&&Sre.includes(window.location.hostname);var Ere="firebase",Are="10.12.3";Ss.registerVersion(Ere,Are,"app-compat");var kre=["ngOnDestroy"],M8=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{if(t[s])return i?.spy?.get&&i.spy.get(s,t[s]),t[s];if(kre.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,d),d})})})});var G2=class{constructor(e){return e}},$h=new Nt("angularfire2.app.options"),Gh=new Nt("angularfire2.app.name");function Cp(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let o=Ss.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Ss.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;Dre("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new G2(o)}var Dre=(t,...e)=>{Tk()&&typeof console<"u"&&console[t](...e)},Ire={provide:G2,useFactory:Cp,deps:[$h,zn,[new Yv,Gh]]},P8=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:$h,useValue:n},{provide:Gh,useValue:i}]}}constructor(n){Ss.registerVersion("angularfire",Td.full,"core"),Ss.registerVersion("angularfire",Td.full,"app-compat"),Ss.registerVersion("angular",fR.full,n.toString())}static \u0275fac=function(i){return new(i||t)(ct(ks))};static \u0275mod=Vn({type:t});static \u0275inj=Rn({providers:[Ire]})}return t})();function Gm(t,e,n,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return Mre(r,o)||(I8("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Pre?" You may need to reload as Firebase is not HMR aware.":""}`),I8("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function Mre(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Pre=typeof module<"u"&&!!module.hot,I8=(t,...e)=>{Tk()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var JD=new Nt("angularfire2.auth.use-emulator"),eI=new Nt("angularfire2.auth.settings"),tI=new Nt("angularfire2.auth.tenant-id"),nI=new Nt("angularfire2.auth.langugage-code"),iI=new Nt("angularfire2.auth.use-device-language"),rI=new Nt("angularfire.auth.persistence"),sI=(t,e,n,i,r,s,o,a)=>Gm(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,u]of Object.entries(o))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]),Tp=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,s,o,a,l,c,u,d,f,h){let _=new cr,g=Xt(void 0).pipe(va(o.outsideAngular),fi(()=>s.runOutsideAngular(()=>import("./chunk-U23URAIX.js"))),nn(()=>Cp(n,s,i)),nn(y=>sI(y,s,a,c,u,d,l,f)),jx({bufferSize:1,refCount:!1}));if(Oh(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xt(null);else{g.pipe(wl()).subscribe();let y=g.pipe(fi(F=>F.getRedirectResult().then(U=>U,()=>null)),Ps,jx({bufferSize:1,refCount:!1})),b=g.pipe(fi(F=>new An(U=>({unsubscribe:s.runOutsideAngular(()=>F.onAuthStateChanged(W=>U.next(W),W=>U.error(W),()=>U.complete()))})))),E=g.pipe(fi(F=>new An(U=>({unsubscribe:s.runOutsideAngular(()=>F.onIdTokenChanged(W=>U.next(W),W=>U.error(W),()=>U.complete()))}))));this.authState=y.pipe(Ux(b),yl(o.outsideAngular),va(o.insideAngular)),this.user=y.pipe(Ux(E),yl(o.outsideAngular),va(o.insideAngular)),this.idToken=this.user.pipe(fi(F=>F?qn(F.getIdToken()):Xt(null))),this.idTokenResult=this.user.pipe(fi(F=>F?qn(F.getIdTokenResult()):Xt(null))),this.credential=uE(y,_,this.authState.pipe(Es(F=>!F))).pipe(nn(F=>F?.user?F:null),yl(o.outsideAngular),va(o.insideAngular))}return M8(this,g,s,{spy:{apply:(y,b,E)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&E.then(F=>_.next(F))}}})}static \u0275fac=function(i){return new(i||t)(ct($h),ct(Gh,8),ct(ks),ct(zn),ct(bp),ct(JD,8),ct(eI,8),ct(tI,8),ct(nI,8),ct(iI,8),ct(rI,8),ct(gu,8))};static \u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),F8=(()=>{class t{constructor(){Ss.registerVersion("angularfire",Td.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Vn({type:t});static \u0275inj=Rn({providers:[Tp]})}return t})();var L8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N8={};var Wh,aI;(function(){var t;function e(I,T){function L(){}L.prototype=T.prototype,I.D=T.prototype,I.prototype=new L,I.prototype.constructor=I,I.C=function(N,D,M){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return T.prototype[D].apply(N,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,T,L){L||(L=0);var N=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)N[D]=T.charCodeAt(L++)|T.charCodeAt(L++)<<8|T.charCodeAt(L++)<<16|T.charCodeAt(L++)<<24;else for(D=0;16>D;++D)N[D]=T[L++]|T[L++]<<8|T[L++]<<16|T[L++]<<24;T=I.g[0],L=I.g[1],D=I.g[2];var M=I.g[3],R=T+(M^L&(D^M))+N[0]+3614090360&4294967295;T=L+(R<<7&4294967295|R>>>25),R=M+(D^T&(L^D))+N[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=D+(L^M&(T^L))+N[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=L+(T^D&(M^T))+N[3]+3250441966&4294967295,L=D+(R<<22&4294967295|R>>>10),R=T+(M^L&(D^M))+N[4]+4118548399&4294967295,T=L+(R<<7&4294967295|R>>>25),R=M+(D^T&(L^D))+N[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=D+(L^M&(T^L))+N[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=L+(T^D&(M^T))+N[7]+4249261313&4294967295,L=D+(R<<22&4294967295|R>>>10),R=T+(M^L&(D^M))+N[8]+1770035416&4294967295,T=L+(R<<7&4294967295|R>>>25),R=M+(D^T&(L^D))+N[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=D+(L^M&(T^L))+N[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=L+(T^D&(M^T))+N[11]+2304563134&4294967295,L=D+(R<<22&4294967295|R>>>10),R=T+(M^L&(D^M))+N[12]+1804603682&4294967295,T=L+(R<<7&4294967295|R>>>25),R=M+(D^T&(L^D))+N[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=D+(L^M&(T^L))+N[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=L+(T^D&(M^T))+N[15]+1236535329&4294967295,L=D+(R<<22&4294967295|R>>>10),R=T+(D^M&(L^D))+N[1]+4129170786&4294967295,T=L+(R<<5&4294967295|R>>>27),R=M+(L^D&(T^L))+N[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=D+(T^L&(M^T))+N[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=L+(M^T&(D^M))+N[0]+3921069994&4294967295,L=D+(R<<20&4294967295|R>>>12),R=T+(D^M&(L^D))+N[5]+3593408605&4294967295,T=L+(R<<5&4294967295|R>>>27),R=M+(L^D&(T^L))+N[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=D+(T^L&(M^T))+N[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=L+(M^T&(D^M))+N[4]+3889429448&4294967295,L=D+(R<<20&4294967295|R>>>12),R=T+(D^M&(L^D))+N[9]+568446438&4294967295,T=L+(R<<5&4294967295|R>>>27),R=M+(L^D&(T^L))+N[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=D+(T^L&(M^T))+N[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=L+(M^T&(D^M))+N[8]+1163531501&4294967295,L=D+(R<<20&4294967295|R>>>12),R=T+(D^M&(L^D))+N[13]+2850285829&4294967295,T=L+(R<<5&4294967295|R>>>27),R=M+(L^D&(T^L))+N[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=D+(T^L&(M^T))+N[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=L+(M^T&(D^M))+N[12]+2368359562&4294967295,L=D+(R<<20&4294967295|R>>>12),R=T+(L^D^M)+N[5]+4294588738&4294967295,T=L+(R<<4&4294967295|R>>>28),R=M+(T^L^D)+N[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=D+(M^T^L)+N[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=L+(D^M^T)+N[14]+4259657740&4294967295,L=D+(R<<23&4294967295|R>>>9),R=T+(L^D^M)+N[1]+2763975236&4294967295,T=L+(R<<4&4294967295|R>>>28),R=M+(T^L^D)+N[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=D+(M^T^L)+N[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=L+(D^M^T)+N[10]+3200236656&4294967295,L=D+(R<<23&4294967295|R>>>9),R=T+(L^D^M)+N[13]+681279174&4294967295,T=L+(R<<4&4294967295|R>>>28),R=M+(T^L^D)+N[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=D+(M^T^L)+N[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=L+(D^M^T)+N[6]+76029189&4294967295,L=D+(R<<23&4294967295|R>>>9),R=T+(L^D^M)+N[9]+3654602809&4294967295,T=L+(R<<4&4294967295|R>>>28),R=M+(T^L^D)+N[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=D+(M^T^L)+N[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=L+(D^M^T)+N[2]+3299628645&4294967295,L=D+(R<<23&4294967295|R>>>9),R=T+(D^(L|~M))+N[0]+4096336452&4294967295,T=L+(R<<6&4294967295|R>>>26),R=M+(L^(T|~D))+N[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=D+(T^(M|~L))+N[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=L+(M^(D|~T))+N[5]+4237533241&4294967295,L=D+(R<<21&4294967295|R>>>11),R=T+(D^(L|~M))+N[12]+1700485571&4294967295,T=L+(R<<6&4294967295|R>>>26),R=M+(L^(T|~D))+N[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=D+(T^(M|~L))+N[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=L+(M^(D|~T))+N[1]+2240044497&4294967295,L=D+(R<<21&4294967295|R>>>11),R=T+(D^(L|~M))+N[8]+1873313359&4294967295,T=L+(R<<6&4294967295|R>>>26),R=M+(L^(T|~D))+N[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=D+(T^(M|~L))+N[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=L+(M^(D|~T))+N[13]+1309151649&4294967295,L=D+(R<<21&4294967295|R>>>11),R=T+(D^(L|~M))+N[4]+4149444226&4294967295,T=L+(R<<6&4294967295|R>>>26),R=M+(L^(T|~D))+N[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=D+(T^(M|~L))+N[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=L+(M^(D|~T))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var L=T-this.blockSize,N=this.B,D=this.h,M=0;M<T;){if(D==0)for(;M<=L;)r(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<T;)if(N[D++]=I.charCodeAt(M++),D==this.blockSize){r(this,N),D=0;break}}else for(;M<T;)if(N[D++]=I[M++],D==this.blockSize){r(this,N),D=0;break}}this.h=D,this.o+=T},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var L=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=L&255,L/=256;for(this.u(I),I=Array(16),T=L=0;4>T;++T)for(var N=0;32>N;N+=8)I[L++]=this.g[T]>>>N&255;return I};function s(I,T){var L=a;return Object.prototype.hasOwnProperty.call(L,I)?L[I]:L[I]=T(I)}function o(I,T){this.h=T;for(var L=[],N=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;N&&M==T||(L[D]=M,N=!1)}this.g=L}var a={};function l(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(c(-I));for(var T=[],L=1,N=0;I>=L;N++)T[N]=I/L|0,L*=4294967296;return new o(T,0)}function u(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return y(u(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=c(Math.pow(T,8)),N=d,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),R=parseInt(I.substring(D,D+M),T);8>M?(M=c(Math.pow(T,M)),N=N.j(M).add(c(R))):(N=N.j(L),N=N.add(c(R)))}return N}var d=l(0),f=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();for(var I=0,T=1,L=0;L<this.g.length;L++){var N=this.i(L);I+=(0<=N?N:4294967296+N)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(g(this))return"-"+y(this).toString(I);for(var T=c(Math.pow(I,6)),L=this,N="";;){var D=U(L,T).g;L=b(L,D.j(T));var M=((0<L.g.length?L.g[0]:L.h)>>>0).toString(I);if(L=D,_(L))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=b(this,I),g(I)?-1:_(I)?0:1};function y(I){for(var T=I.g.length,L=[],N=0;N<T;N++)L[N]=~I.g[N];return new o(L,~I.h).add(f)}t.abs=function(){return g(this)?y(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),L=[],N=0,D=0;D<=T;D++){var M=N+(this.i(D)&65535)+(I.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);N=R>>>16,M&=65535,R&=65535,L[D]=R<<16|M}return new o(L,L[L.length-1]&-2147483648?-1:0)};function b(I,T){return I.add(y(T))}t.j=function(I){if(_(this)||_(I))return d;if(g(this))return g(I)?y(this).j(y(I)):y(y(this).j(I));if(g(I))return y(this.j(y(I)));if(0>this.l(h)&&0>I.l(h))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,L=[],N=0;N<2*T;N++)L[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<I.g.length;D++){var M=this.i(N)>>>16,R=this.i(N)&65535,Q=I.i(D)>>>16,oe=I.i(D)&65535;L[2*N+2*D]+=R*oe,E(L,2*N+2*D),L[2*N+2*D+1]+=M*oe,E(L,2*N+2*D+1),L[2*N+2*D+1]+=R*Q,E(L,2*N+2*D+1),L[2*N+2*D+2]+=M*Q,E(L,2*N+2*D+2)}for(N=0;N<T;N++)L[N]=L[2*N+1]<<16|L[2*N];for(N=T;N<2*T;N++)L[N]=0;return new o(L,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function F(I,T){this.g=I,this.h=T}function U(I,T){if(_(T))throw Error("division by zero");if(_(I))return new F(d,d);if(g(I))return T=U(y(I),T),new F(y(T.g),y(T.h));if(g(T))return T=U(I,y(T)),new F(y(T.g),T.h);if(30<I.g.length){if(g(I)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var L=f,N=T;0>=N.l(I);)L=W(L),N=W(N);var D=te(L,1),M=te(N,1);for(N=te(N,2),L=te(L,2);!_(N);){var R=M.add(N);0>=R.l(I)&&(D=D.add(L),M=R),N=te(N,1),L=te(L,1)}return T=b(I,D.j(T)),new F(D,T)}for(D=d;0<=I.l(T);){for(L=Math.max(1,Math.floor(I.m()/T.m())),N=Math.ceil(Math.log(L)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=c(L),R=M.j(T);g(R)||0<R.l(I);)L-=N,M=c(L),R=M.j(T);_(M)&&(M=f),D=D.add(M),I=b(I,R)}return new F(D,I)}t.A=function(I){return U(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),L=[],N=0;N<T;N++)L[N]=this.i(N)&I.i(N);return new o(L,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),L=[],N=0;N<T;N++)L[N]=this.i(N)|I.i(N);return new o(L,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),L=[],N=0;N<T;N++)L[N]=this.i(N)^I.i(N);return new o(L,this.h^I.h)};function W(I){for(var T=I.g.length+1,L=[],N=0;N<T;N++)L[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(L,I.h)}function te(I,T){var L=T>>5;T%=32;for(var N=I.g.length-L,D=[],M=0;M<N;M++)D[M]=0<T?I.i(M+L)>>>T|I.i(M+L+1)<<32-T:I.i(M+L);return new o(D,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aI=N8.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Wh=N8.Integer=o}).apply(typeof L8<"u"?L8:typeof self<"u"?self:typeof window<"u"?window:{});var W2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sd={};var lI,cI,Wm,uI,j1,q2,dI,hI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,V){return m==Array.prototype||m==Object.prototype||(m[A]=V.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof W2=="object"&&W2];for(var A=0;A<m.length;++A){var V=m[A];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function r(m,A){if(A)e:{var V=i;m=m.split(".");for(var re=0;re<m.length-1;re++){var Ie=m[re];if(!(Ie in V))break e;V=V[Ie]}m=m[m.length-1],re=V[m],A=A(re),A!=re&&A!=null&&e(V,m,{configurable:!0,writable:!0,value:A})}}function s(m,A){m instanceof String&&(m+="");var V=0,re=!1,Ie={next:function(){if(!re&&V<m.length){var je=V++;return{value:A(je,m[je]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}r("Array.prototype.values",function(m){return m||function(){return s(this,function(A,V){return V})}});var o=o||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function c(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function u(m,A,V){return m.call.apply(m.bind,arguments)}function d(m,A,V){if(!m)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,re),m.apply(A,Ie)}}return function(){return m.apply(A,arguments)}}function f(m,A,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function h(m,A){var V=Array.prototype.slice.call(arguments,1);return function(){var re=V.slice();return re.push.apply(re,arguments),m.apply(this,re)}}function _(m,A){function V(){}V.prototype=A.prototype,m.aa=A.prototype,m.prototype=new V,m.prototype.constructor=m,m.Qb=function(re,Ie,je){for(var yt=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)yt[yn-2]=arguments[yn];return A.prototype[Ie].apply(re,yt)}}function g(m){let A=m.length;if(0<A){let V=Array(A);for(let re=0;re<A;re++)V[re]=m[re];return V}return[]}function y(m,A){for(let V=1;V<arguments.length;V++){let re=arguments[V];if(l(re)){let Ie=m.length||0,je=re.length||0;m.length=Ie+je;for(let yt=0;yt<je;yt++)m[Ie+yt]=re[yt]}else m.push(re)}}class b{constructor(A,V){this.i=A,this.j=V,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function U(m){return U[" "](m),m}U[" "]=function(){};var W=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function te(m,A,V){for(let re in m)A.call(V,m[re],re,m)}function I(m,A){for(let V in m)A.call(void 0,m[V],V,m)}function T(m){let A={};for(let V in m)A[V]=m[V];return A}let L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,A){let V,re;for(let Ie=1;Ie<arguments.length;Ie++){re=arguments[Ie];for(V in re)m[V]=re[V];for(let je=0;je<L.length;je++)V=L[je],Object.prototype.hasOwnProperty.call(re,V)&&(m[V]=re[V])}}function D(m){var A=1;m=m.split(":");let V=[];for(;0<A&&m.length;)V.push(m.shift()),A--;return m.length&&V.push(m.join(":")),V}function M(m){a.setTimeout(()=>{throw m},0)}function R(){var m=be;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class Q{constructor(){this.h=this.g=null}add(A,V){let re=oe.get();re.set(A,V),this.h?this.h.next=re:this.g=re,this.h=re}}var oe=new b(()=>new le,m=>m.reset());class le{constructor(){this.next=this.g=this.h=null}set(A,V){this.h=A,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,fe=!1,be=new Q,Ce=()=>{let m=a.Promise.resolve(void 0);ie=()=>{m.then(Ue)}};var Ue=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(V){M(V)}var A=oe;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}fe=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{let V=()=>{};a.addEventListener("test",V,A),a.removeEventListener("test",V,A)}catch{}return m}();function X(m,A){if(q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var V=this.type=m.type,re=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(W){e:{try{U(A.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(A=null)}}else V=="mouseover"?A=m.fromElement:V=="mouseout"&&(A=m.toElement);this.relatedTarget=A,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:de[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&X.aa.h.call(this)}}_(X,q);var de={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Te(m,A,V,re,Ie){this.listener=m,this.proxy=null,this.src=A,this.type=V,this.capture=!!re,this.ha=Ie,this.key=++Ee,this.da=this.fa=!1}function Fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function et(m){this.src=m,this.g={},this.h=0}et.prototype.add=function(m,A,V,re,Ie){var je=m.toString();m=this.g[je],m||(m=this.g[je]=[],this.h++);var yt=bt(m,A,re,Ie);return-1<yt?(A=m[yt],V||(A.fa=!1)):(A=new Te(A,this.src,je,!!re,Ie),A.fa=V,m.push(A)),A};function ot(m,A){var V=A.type;if(V in m.g){var re=m.g[V],Ie=Array.prototype.indexOf.call(re,A,void 0),je;(je=0<=Ie)&&Array.prototype.splice.call(re,Ie,1),je&&(Fe(A),m.g[V].length==0&&(delete m.g[V],m.h--))}}function bt(m,A,V,re){for(var Ie=0;Ie<m.length;++Ie){var je=m[Ie];if(!je.da&&je.listener==A&&je.capture==!!V&&je.ha==re)return Ie}return-1}var Tt="closure_lm_"+(1e6*Math.random()|0),Ge={};function ve(m,A,V,re,Ie){if(re&&re.once)return Ke(m,A,V,re,Ie);if(Array.isArray(A)){for(var je=0;je<A.length;je++)ve(m,A[je],V,re,Ie);return null}return V=pn(V),m&&m[xe]?m.K(A,V,c(re)?!!re.capture:!!re,Ie):rt(m,A,V,!1,re,Ie)}function rt(m,A,V,re,Ie,je){if(!A)throw Error("Invalid event type");var yt=c(Ie)?!!Ie.capture:!!Ie,yn=en(m);if(yn||(m[Tt]=yn=new et(m)),V=yn.add(A,V,re,yt,je),V.proxy)return V;if(re=St(),V.proxy=re,re.src=m,re.listener=V,m.addEventListener)j||(Ie=yt),Ie===void 0&&(Ie=!1),m.addEventListener(A.toString(),re,Ie);else if(m.attachEvent)m.attachEvent(Mt(A.toString()),re);else if(m.addListener&&m.removeListener)m.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return V}function St(){function m(V){return A.call(m.src,m.listener,V)}let A=Wt;return m}function Ke(m,A,V,re,Ie){if(Array.isArray(A)){for(var je=0;je<A.length;je++)Ke(m,A[je],V,re,Ie);return null}return V=pn(V),m&&m[xe]?m.L(A,V,c(re)?!!re.capture:!!re,Ie):rt(m,A,V,!0,re,Ie)}function xt(m,A,V,re,Ie){if(Array.isArray(A))for(var je=0;je<A.length;je++)xt(m,A[je],V,re,Ie);else re=c(re)?!!re.capture:!!re,V=pn(V),m&&m[xe]?(m=m.i,A=String(A).toString(),A in m.g&&(je=m.g[A],V=bt(je,V,re,Ie),-1<V&&(Fe(je[V]),Array.prototype.splice.call(je,V,1),je.length==0&&(delete m.g[A],m.h--)))):m&&(m=en(m))&&(A=m.g[A.toString()],m=-1,A&&(m=bt(A,V,re,Ie)),(V=-1<m?A[m]:null)&&kt(V))}function kt(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[xe])ot(A.i,m);else{var V=m.type,re=m.proxy;A.removeEventListener?A.removeEventListener(V,re,m.capture):A.detachEvent?A.detachEvent(Mt(V),re):A.addListener&&A.removeListener&&A.removeListener(re),(V=en(A))?(ot(V,m),V.h==0&&(V.src=null,A[Tt]=null)):Fe(m)}}}function Mt(m){return m in Ge?Ge[m]:Ge[m]="on"+m}function Wt(m,A){if(m.da)m=!0;else{A=new X(A,this);var V=m.listener,re=m.ha||m.src;m.fa&&kt(m),m=V.call(re,A)}return m}function en(m){return m=m[Tt],m instanceof et?m:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(m){return typeof m=="function"?m:(m[cn]||(m[cn]=function(A){return m.handleEvent(A)}),m[cn])}function qt(){C.call(this),this.i=new et(this),this.M=this,this.F=null}_(qt,C),qt.prototype[xe]=!0,qt.prototype.removeEventListener=function(m,A,V,re){xt(this,m,A,V,re)};function rn(m,A){var V,re=m.F;if(re)for(V=[];re;re=re.F)V.push(re);if(m=m.M,re=A.type||A,typeof A=="string")A=new q(A,m);else if(A instanceof q)A.target=A.target||m;else{var Ie=A;A=new q(re,m),N(A,Ie)}if(Ie=!0,V)for(var je=V.length-1;0<=je;je--){var yt=A.g=V[je];Ie=tn(yt,re,!0,A)&&Ie}if(yt=A.g=m,Ie=tn(yt,re,!0,A)&&Ie,Ie=tn(yt,re,!1,A)&&Ie,V)for(je=0;je<V.length;je++)yt=A.g=V[je],Ie=tn(yt,re,!1,A)&&Ie}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var V=m.g[A],re=0;re<V.length;re++)Fe(V[re]);delete m.g[A],m.h--}}this.F=null},qt.prototype.K=function(m,A,V,re){return this.i.add(String(m),A,!1,V,re)},qt.prototype.L=function(m,A,V,re){return this.i.add(String(m),A,!0,V,re)};function tn(m,A,V,re){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var Ie=!0,je=0;je<A.length;++je){var yt=A[je];if(yt&&!yt.da&&yt.capture==V){var yn=yt.listener,gi=yt.ha||yt.src;yt.fa&&ot(m.i,yt),Ie=yn.call(gi,re)!==!1&&Ie}}return Ie&&!re.defaultPrevented}function Tn(m,A,V){if(typeof m=="function")V&&(m=f(m,V));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function Dt(m){m.g=Tn(()=>{m.g=null,m.i&&(m.i=!1,Dt(m))},m.l);let A=m.h;m.h=null,m.m.apply(null,A)}class qi extends C{constructor(A,V){super(),this.m=A,this.l=V,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(m){C.call(this),this.h=m,this.g={}}_(Dn,C);var kr=[];function Jn(m){te(m.g,function(A,V){this.g.hasOwnProperty(V)&&kt(A)},m),m.g={}}Dn.prototype.N=function(){Dn.aa.N.call(this),Jn(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=a.JSON.stringify,vs=a.JSON.parse,Gn=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function ls(){}ls.prototype.h=null;function Ei(m){return m.h||(m.h=m.i())}function Ai(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){q.call(this,"d")}_(ui,q);function Qt(){q.call(this,"c")}_(Qt,q);var Sn={},So=null;function Yi(){return So=So||new qt}Sn.La="serverreachability";function vn(m){q.call(this,Sn.La,m)}_(vn,q);function Pi(m){let A=Yi();rn(A,new vn(A))}Sn.STAT_EVENT="statevent";function Kt(m,A){q.call(this,Sn.STAT_EVENT,m),this.stat=A}_(Kt,q);function ei(m){let A=Yi();rn(A,new Kt(A,m))}Sn.Ma="timingevent";function ni(m,A){q.call(this,Sn.Ma,m),this.size=A}_(ni,q);function Wn(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function Ki(m,A,V,re,Ie,je){m.info(function(){if(m.g)if(je)for(var yt="",yn=je.split("&"),gi=0;gi<yn.length;gi++){var xn=yn[gi].split("=");if(1<xn.length){var Di=xn[0];xn=xn[1];var _r=Di.split("_");yt=2<=_r.length&&_r[1]=="type"?yt+(Di+"="+xn+"&"):yt+(Di+"=redacted&")}}else yt=null;else yt=je;return"XMLHTTP REQ ("+re+") [attempt "+Ie+"]: "+A+`
`+V+`
`+yt})}function J(m,A,V,re,Ie,je,yt){m.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Ie+"]: "+A+`
`+V+`
`+je+" "+yt})}function he(m,A,V,re){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+ue(m,V)+(re?" "+re:"")})}function ce(m,A){m.info(function(){return"TIMEOUT: "+A})}yi.prototype.info=function(){};function ue(m,A){if(!m.g)return A;if(!A)return null;try{var V=JSON.parse(A);if(V){for(m=0;m<V.length;m++)if(Array.isArray(V[m])){var re=V[m];if(!(2>re.length)){var Ie=re[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var je=Ie[0];if(je!="noop"&&je!="stop"&&je!="close")for(var yt=1;yt<Ie.length;yt++)Ie[yt]=""}}}}return mi(V)}catch{return A}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function $e(){}_($e,ls),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},Re=new $e;function Oe(m,A,V,re){this.j=m,this.i=A,this.l=V,this.R=re||1,this.U=new Dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Be={},ft={};function wt(m,A,V){m.L=1,m.v=Bc(ws(A)),m.m=V,m.P=!0,Vt(m,null)}function Vt(m,A){m.F=Date.now(),an(m),m.A=ws(m.v);var V=m.A,re=m.R;Array.isArray(re)||(re=[String(re)]),th(V.i,"t",re),m.C=0,V=m.j.J,m.h=new Ve,m.g=_e(m.j,V?A:null,!m.m),0<m.O&&(m.M=new qi(f(m.Y,m,m.g),m.O)),A=m.U,V=m.g,re=m.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(kr[0]=Ie.toString()),Ie=kr);for(var je=0;je<Ie.length;je++){var yt=ve(V,Ie[je],re||A.handleEvent,!1,A.h||A);if(!yt)break;A.g[yt.key]=yt}A=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),Pi(),Ki(m.i,m.u,m.A,m.l,m.R,m.m)}Oe.prototype.ca=function(m){m=m.target;let A=this.M;A&&so(m)==3?A.j():this.Y(m)},Oe.prototype.Y=function(m){try{if(m==this.g)e:{let _r=so(this.g);var A=this.g.Ba();let Lo=this.g.Z();if(!(3>_r)&&(_r!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||_r!=4||A==7||(A==8||0>=Lo?Pi(3):Pi(2)),pr(this);var V=this.g.Z();this.X=V;t:if(Ct(this)){var re=Da(this.g);m="";var Ie=re.length,je=so(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),Kn(this);var yt="";break t}this.h.i=new a.TextDecoder}for(A=0;A<Ie;A++)this.h.h=!0,m+=this.h.i.decode(re[A],{stream:!(je&&A==Ie-1)});re.length=0,this.h.g+=m,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=V==200,J(this.i,this.u,this.A,this.l,this.R,_r,V),this.o){if(this.T&&!this.K){t:{if(this.g){var yn,gi=this.g;if((yn=gi.g?gi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(yn)){var xn=yn;break t}}xn=null}if(V=xn)he(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,V);else{this.o=!1,this.s=3,ei(12),Fi(this),Kn(this);break e}}if(this.P){V=!0;let Or;for(;!this.J&&this.C<yt.length;)if(Or=At(this,yt),Or==ft){_r==4&&(this.s=4,ei(14),V=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==Be){this.s=4,ei(15),he(this.i,this.l,yt,"[Invalid Chunk]"),V=!1;break}else he(this.i,this.l,Or,null),Eo(this,Or);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_r!=4||yt.length!=0||this.h.h||(this.s=1,ei(16),V=!1),this.o=this.o&&V,!V)he(this.i,this.l,yt,"[Invalid Chunked Response]"),Fi(this),Kn(this);else if(0<yt.length&&!this.W){this.W=!0;var Di=this.j;Di.g==this&&Di.ba&&!Di.M&&(Di.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Gc(Di),Di.M=!0,ei(11))}}else he(this.i,this.l,yt,null),Eo(this,yt);_r==4&&Fi(this),this.o&&!this.J&&(_r==4?Wc(this.j,this):(this.o=!1,an(this)))}else Mo(this.g),V==400&&0<yt.indexOf("Unknown SID")?(this.s=3,ei(12)):(this.s=0,ei(13)),Fi(this),Kn(this)}}}catch{}finally{}};function Ct(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function At(m,A){var V=m.C,re=A.indexOf(`
`,V);return re==-1?ft:(V=Number(A.substring(V,re)),isNaN(V)?Be:(re+=1,re+V>A.length?ft:(A=A.slice(re,re+V),m.C=re+V,A)))}Oe.prototype.cancel=function(){this.J=!0,Fi(this)};function an(m){m.S=Date.now()+m.I,ti(m,m.I)}function ti(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Wn(f(m.ba,m),A)}function pr(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Oe.prototype.ba=function(){this.B=null;let m=Date.now();0<=m-this.S?(ce(this.i,this.A),this.L!=2&&(Pi(),ei(17)),Fi(this),this.s=2,Kn(this)):ti(this,this.S-m)};function Kn(m){m.j.G==0||m.J||Wc(m.j,m)}function Fi(m){pr(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,Jn(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function Eo(m,A){try{var V=m.j;if(V.G!=0&&(V.g==m||Qi(V.h,m))){if(!m.K&&Qi(V.h,m)&&V.G==3){try{var re=V.Da.g.parse(A)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Ie=re;if(Ie[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<m.F)oa(V),Ma(V);else break e;$c(V),ei(18)}}else V.za=Ie[1],0<V.za-V.T&&37500>Ie[2]&&V.F&&V.v==0&&!V.C&&(V.C=Wn(f(V.Za,V),6e3));if(1>=ys(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else oo(V,11)}else if((m.K||V.g==m)&&oa(V),!E(A))for(Ie=V.Da.g.parse(A),A=0;A<Ie.length;A++){let xn=Ie[A];if(V.T=xn[0],xn=xn[1],V.G==2)if(xn[0]=="c"){V.K=xn[1],V.ia=xn[2];let Di=xn[3];Di!=null&&(V.la=Di,V.j.info("VER="+V.la));let _r=xn[4];_r!=null&&(V.Aa=_r,V.j.info("SVER="+V.Aa));let Lo=xn[5];Lo!=null&&typeof Lo=="number"&&0<Lo&&(re=1.5*Lo,V.L=re,V.j.info("backChannelRequestTimeoutMs_="+re)),re=V;let Or=m.g;if(Or){let ao=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var je=re.h;je.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(Vc(je,je.h),je.h=null))}if(re.D){let Zl=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(re.ya=Zl,un(re.I,re.D,Zl))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-m.F,V.j.info("Handshake RTT: "+V.R+"ms")),re=V;var yt=m;if(re.qa=Y(re,re.J?re.ia:null,re.W),yt.K){ju(re.h,yt);var yn=yt,gi=re.L;gi&&(yn.I=gi),yn.B&&(pr(yn),an(yn)),re.g=yt}else Hs(re);0<V.i.length&&Us(V)}else xn[0]!="stop"&&xn[0]!="close"||oo(V,7);else V.G==3&&(xn[0]=="stop"||xn[0]=="close"?xn[0]=="stop"?oo(V,7):qu(V):xn[0]!="noop"&&V.l&&V.l.ta(xn),V.v=0)}}Pi(4)}catch{}}var ea=class{constructor(m,A){this.g=m,this.map=A}};function _s(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ys(m){return m.h?1:m.g?m.g.size:0}function Qi(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Vc(m,A){m.g?m.g.add(A):m.h=A}function ju(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}_s.prototype.cancel=function(){if(this.i=oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let m of this.g.values())m.cancel();this.g.clear()}};function oi(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(let V of m.g.values())A=A.concat(V.D);return A}return g(m.i)}function Uu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],V=m.length,re=0;re<V;re++)A.push(m[re]);return A}A=[],V=0;for(re in m)A[V++]=m[re];return A}function Vf(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var V=0;V<m;V++)A.push(V);return A}A=[],V=0;for(let re in m)A[V++]=re;return A}}}function io(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var V=Vf(m),re=Uu(m),Ie=re.length,je=0;je<Ie;je++)A.call(void 0,re[je],V&&V[je],m)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(m,A){if(m){m=m.split("&");for(var V=0;V<m.length;V++){var re=m[V].indexOf("="),Ie=null;if(0<=re){var je=m[V].substring(0,re);Ie=m[V].substring(re+1)}else je=m[V];A(je,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function ko(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ko){this.h=m.h,ta(this,m.j),this.o=m.o,this.g=m.g,al(this,m.s),this.l=m.l;var A=m.i,V=new mr;V.i=A.i,A.g&&(V.g=new Map(A.g),V.h=A.h),ql(this,V),this.m=m.m}else m&&(A=String(m).match(Wl))?(this.h=!1,ta(this,A[1]||"",!0),this.o=Ea(A[2]||""),this.g=Ea(A[3]||"",!0),al(this,A[4]),this.l=Ea(A[5]||"",!0),ql(this,A[6]||"",!0),this.m=Ea(A[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}ko.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Xl(A,Jd,!0),":");var V=this.g;return(V||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Xl(A,Jd,!0),"@"),m.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&m.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&m.push("/"),m.push(Xl(V,V.charAt(0)=="/"?jc:Aa,!0))),(V=this.i.toString())&&m.push("?",V),(V=this.m)&&m.push("#",Xl(V,eh)),m.join("")};function ws(m){return new ko(m)}function ta(m,A,V){m.j=V?Ea(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function al(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function ql(m,A,V){A instanceof mr?(m.i=A,ia(m.i,m.h)):(V||(A=Xl(A,Yl)),m.i=new mr(A,m.h))}function un(m,A,V){m.i.set(A,V)}function Bc(m){return un(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ea(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Xl(m,A,V){return typeof m=="string"?(m=encodeURI(m).replace(A,Zd),V&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Zd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Jd=/[#\/\?@]/g,Aa=/[#\?:]/g,jc=/[#\?]/g,Yl=/[#\?@]/g,eh=/#/g;function mr(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function na(m){m.g||(m.g=new Map,m.h=0,m.i&&xs(m.i,function(A,V){m.add(decodeURIComponent(A.replace(/\+/g," ")),V)}))}t=mr.prototype,t.add=function(m,A){na(this),this.i=null,m=ll(this,m);var V=this.g.get(m);return V||this.g.set(m,V=[]),V.push(A),this.h+=1,this};function Hu(m,A){na(m),A=ll(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function gn(m,A){return na(m),A=ll(m,A),m.g.has(A)}t.forEach=function(m,A){na(this),this.g.forEach(function(V,re){V.forEach(function(Ie){m.call(A,Ie,re,this)},this)},this)},t.na=function(){na(this);let m=Array.from(this.g.values()),A=Array.from(this.g.keys()),V=[];for(let re=0;re<A.length;re++){let Ie=m[re];for(let je=0;je<Ie.length;je++)V.push(A[re])}return V},t.V=function(m){na(this);let A=[];if(typeof m=="string")gn(this,m)&&(A=A.concat(this.g.get(ll(this,m))));else{m=Array.from(this.g.values());for(let V=0;V<m.length;V++)A=A.concat(m[V])}return A},t.set=function(m,A){return na(this),this.i=null,m=ll(this,m),gn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function th(m,A,V){Hu(m,A),0<V.length&&(m.i=null,m.g.set(ll(m,A),g(V)),m.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let m=[],A=Array.from(this.g.keys());for(var V=0;V<A.length;V++){var re=A[V];let je=encodeURIComponent(String(re)),yt=this.V(re);for(re=0;re<yt.length;re++){var Ie=je;yt[re]!==""&&(Ie+="="+encodeURIComponent(String(yt[re]))),m.push(Ie)}}return this.i=m.join("&")};function ll(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function ia(m,A){A&&!m.j&&(na(m),m.i=null,m.g.forEach(function(V,re){var Ie=re.toLowerCase();re!=Ie&&(Hu(this,re),th(this,Ie,V))},m)),m.j=A}function nh(m,A){let V=new yi;if(a.Image){let re=new Image;re.onload=h(js,V,"TestLoadImage: loaded",!0,A,re),re.onerror=h(js,V,"TestLoadImage: error",!1,A,re),re.onabort=h(js,V,"TestLoadImage: abort",!1,A,re),re.ontimeout=h(js,V,"TestLoadImage: timeout",!1,A,re),a.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=m}else A(!1)}function zu(m,A){let V=new yi,re=new AbortController,Ie=setTimeout(()=>{re.abort(),js(V,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:re.signal}).then(je=>{clearTimeout(Ie),je.ok?js(V,"TestPingServer: ok",!0,A):js(V,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Ie),js(V,"TestPingServer: error",!1,A)})}function js(m,A,V,re,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),re(V)}catch{}}function Uc(){this.g=new Gn}function Bf(m,A,V){let re=V||"";try{io(m,function(Ie,je){let yt=Ie;c(Ie)&&(yt=mi(Ie)),A.push(re+je+"="+encodeURIComponent(yt))})}catch(Ie){throw A.push(re+"type="+encodeURIComponent("_badmap")),Ie}}function Kl(m){this.l=m.Ub||null,this.j=m.eb||!1}_(Kl,ls),Kl.prototype.g=function(){return new Do(this.l,this.j)},Kl.prototype.i=function(m){return function(){return m}}({});function Do(m,A){qt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Do,qt),t=Do.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,bs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Io(this):bs(this),this.readyState==3&&Ql(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Io(this))},t.Qa=function(m){this.g&&(this.response=m,Io(this))},t.ga=function(){this.g&&Io(this)};function Io(m){m.readyState=4,m.l=null,m.j=null,m.v=null,bs(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let m=[],A=this.h.entries();for(var V=A.next();!V.done;)V=V.value,m.push(V[0]+": "+V[1]),V=A.next();return m.join(`\r
`)};function bs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function $u(m){let A="";return te(m,function(V,re){A+=re,A+=":",A+=V,A+=`\r
`}),A}function ka(m,A,V){e:{for(re in V){var re=!1;break e}re=!0}re||(V=$u(V),typeof m=="string"?V!=null&&encodeURIComponent(String(V)):un(m,A,V))}function ki(m){qt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ki,qt);var Hc=/^https?$/i,ih=["POST","PUT"];t=ki.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,V,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?Ei(this.o):Ei(Re),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(je){Gu(this,je);return}if(m=V||"",V=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Ie in re)V.set(Ie,re[Ie]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(let je of re.keys())V.set(je,re.get(je));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(V.keys()).find(je=>je.toLowerCase()=="content-type"),Ie=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ih,A,void 0))||re||Ie||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[je,yt]of V)this.g.setRequestHeader(je,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(m),this.u=!1}catch(je){Gu(this,je)}};function Gu(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,Wu(m),ro(m)}function Wu(m){m.A||(m.A=!0,rn(m,"complete"),rn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,rn(this,"complete"),rn(this,"abort"),ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),ki.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},t.bb=function(){ra(this)};function ra(m){if(m.h&&typeof o<"u"&&(!m.v[1]||so(m)!=4||m.Z()!=2)){if(m.u&&so(m)==4)Tn(m.Ea,0,m);else if(rn(m,"readystatechange"),so(m)==4){m.h=!1;try{let yt=m.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var V;if(!(V=A)){var re;if(re=yt===0){var Ie=String(m.D).match(Wl)[1]||null;!Ie&&a.self&&a.self.location&&(Ie=a.self.location.protocol.slice(0,-1)),re=!Hc.test(Ie?Ie.toLowerCase():"")}V=re}if(V)rn(m,"complete"),rn(m,"success");else{m.m=6;try{var je=2<so(m)?m.g.statusText:""}catch{je=""}m.l=je+" ["+m.Z()+"]",Wu(m)}}finally{ro(m)}}}}function ro(m,A){if(m.g){sa(m);let V=m.g,re=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||rn(m,"ready");try{V.onreadystatechange=re}catch{}}}function sa(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function so(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),vs(A)}};function Da(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Mo(m){let A={};m=(m.g&&2<=so(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<m.length;re++){if(E(m[re]))continue;var V=D(m[re]);let Ie=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();let je=A[Ie]||[];A[Ie]=je,je.push(V)}I(A,function(re){return re.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(m,A,V){return V&&V.internalChannelParams&&V.internalChannelParams[m]||A}function cl(m){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,m),this.cb=Ia("retryDelaySeedMs",1e4,m),this.Wa=Ia("forwardChannelMaxRetries",2,m),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(m&&m.concurrentRequestLimit),this.Da=new Uc,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cl.prototype,t.la=8,t.G=1,t.connect=function(m,A,V,re){ei(0),this.W=m,this.H=A||{},V&&re!==void 0&&(this.H.OSID=V,this.H.OAID=re),this.F=this.X,this.I=Y(this,null,this.W),Us(this)};function qu(m){if(rh(m),m.G==3){var A=m.U++,V=ws(m.I);if(un(V,"SID",m.K),un(V,"RID",A),un(V,"TYPE","terminate"),Po(m,V),A=new Oe(m,m.j,A),A.L=2,A.v=Bc(ws(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=A.v,V=!0),V||(A.g=_e(A.j,null),A.g.ea(A.v)),A.F=Date.now(),an(A)}w(m)}function Ma(m){m.g&&(Gc(m),m.g.cancel(),m.g=null)}function rh(m){Ma(m),m.u&&(a.clearTimeout(m.u),m.u=null),oa(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Us(m){if(!Ao(m.h)&&!m.s){m.s=!0;var A=m.Ga;ie||Ce(),fe||(ie(),fe=!0),be.add(A,m),m.B=0}}function Xu(m,A){return ys(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Wn(f(m.Ga,m,A),Pa(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;let Ie=new Oe(this,this.j,m),je=this.o;if(this.S&&(je?(je=T(je),N(je,this.S)):je=this.S),this.m!==null||this.O||(Ie.H=je,je=null),this.P)e:{for(var A=0,V=0;V<this.i.length;V++){t:{var re=this.i[V];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(A+=re,4096<A){A=V;break e}if(A===4096||V===this.i.length-1){A=V+1;break e}}A=1e3}else A=1e3;A=zc(this,Ie,A),V=ws(this.I),un(V,"RID",m),un(V,"CVER",22),this.D&&un(V,"X-HTTP-Session-Id",this.D),Po(this,V),je&&(this.O?A="headers="+encodeURIComponent(String($u(je)))+"&"+A:this.m&&ka(V,this.m,je)),Vc(this.h,Ie),this.Ua&&un(V,"TYPE","init"),this.P?(un(V,"$req",A),un(V,"SID","null"),Ie.T=!0,wt(Ie,V,null)):wt(Ie,V,A),this.G=2}}else this.G==3&&(m?Yu(this,m):this.i.length==0||Ao(this.h)||Yu(this))};function Yu(m,A){var V;A?V=A.l:V=m.U++;let re=ws(m.I);un(re,"SID",m.K),un(re,"RID",V),un(re,"AID",m.T),Po(m,re),m.m&&m.o&&ka(re,m.m,m.o),V=new Oe(m,m.j,V,m.B+1),m.m===null&&(V.H=m.o),A&&(m.i=A.D.concat(m.i)),A=zc(m,V,1e3),V.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Vc(m.h,V),wt(V,re,A)}function Po(m,A){m.H&&te(m.H,function(V,re){un(A,re,V)}),m.l&&io({},function(V,re){un(A,re,V)})}function zc(m,A,V){V=Math.min(m.i.length,V);var re=m.l?f(m.l.Na,m.l,m):null;e:{var Ie=m.i;let je=-1;for(;;){let yt=["count="+V];je==-1?0<V?(je=Ie[0].g,yt.push("ofs="+je)):je=0:yt.push("ofs="+je);let yn=!0;for(let gi=0;gi<V;gi++){let xn=Ie[gi].g,Di=Ie[gi].map;if(xn-=je,0>xn)je=Math.max(0,Ie[gi].g-100),yn=!1;else try{Bf(Di,yt,"req"+xn+"_")}catch{re&&re(Di)}}if(yn){re=yt.join("&");break e}}}return m=m.i.splice(0,V),A.D=m,re}function Hs(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;ie||Ce(),fe||(ie(),fe=!0),be.add(A,m),m.v=0}}function $c(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Wn(f(m.Fa,m),Pa(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Wn(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ei(10),Ma(this),Fo(this))};function Gc(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Fo(m){m.g=new Oe(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=ws(m.qa);un(A,"RID","rpc"),un(A,"SID",m.K),un(A,"AID",m.T),un(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&un(A,"TO",m.ja),un(A,"TYPE","xmlhttp"),Po(m,A),m.m&&m.o&&ka(A,m.m,m.o),m.L&&(m.g.I=m.L);var V=m.g;m=m.ia,V.L=1,V.v=Bc(ws(A)),V.m=null,V.P=!0,Vt(V,m)}t.Za=function(){this.C!=null&&(this.C=null,Ma(this),$c(this),ei(19))};function oa(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Wc(m,A){var V=null;if(m.g==A){oa(m),Gc(m),m.g=null;var re=2}else if(Qi(m.h,A))V=A.D,ju(m.h,A),re=1;else return;if(m.G!=0){if(A.o)if(re==1){V=A.m?A.m.length:0,A=Date.now()-A.F;var Ie=m.B;re=Yi(),rn(re,new ni(re,V)),Us(m)}else Hs(m);else if(Ie=A.s,Ie==3||Ie==0&&0<A.X||!(re==1&&Xu(m,A)||re==2&&$c(m)))switch(V&&0<V.length&&(A=m.h,A.i=A.i.concat(V)),Ie){case 1:oo(m,5);break;case 4:oo(m,10);break;case 3:oo(m,6);break;default:oo(m,2)}}}function Pa(m,A){let V=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(V*=2),V*A}function oo(m,A){if(m.j.info("Error code "+A),A==2){var V=f(m.fb,m),re=m.Xa;let Ie=!re;re=new ko(re||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ta(re,"https"),Bc(re),Ie?nh(re.toString(),V):zu(re.toString(),V)}else ei(2);m.G=0,m.l&&m.l.sa(A),w(m),rh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ei(2)):(this.j.info("Failed to ping google.com"),ei(1))};function w(m){if(m.G=0,m.ka=[],m.l){let A=oi(m.h);(A.length!=0||m.i.length!=0)&&(y(m.ka,A),y(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function Y(m,A,V){var re=V instanceof ko?ws(V):new ko(V);if(re.g!="")A&&(re.g=A+"."+re.g),al(re,re.s);else{var Ie=a.location;re=Ie.protocol,A=A?A+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var je=new ko(null);re&&ta(je,re),A&&(je.g=A),Ie&&al(je,Ie),V&&(je.l=V),re=je}return V=m.D,A=m.ya,V&&A&&un(re,V,A),un(re,"VER",m.la),Po(m,re),re}function _e(m,A,V){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new ki(new Kl({eb:V})):new ki(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}t=Ae.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ne(){}Ne.prototype.g=function(m,A){return new We(m,A)};function We(m,A){qt.call(this),this.g=new cl(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!E(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!E(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Zt(this)}_(We,qt),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){qu(this.g)},We.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var V={};V.__data__=m,m=V}else this.u&&(V={},V.__data__=mi(m),m=V);A.i.push(new ea(A.Ya++,m)),A.G==3&&Us(A)},We.prototype.N=function(){this.g.l=null,delete this.j,qu(this.g),delete this.g,We.aa.N.call(this)};function gt(m){ui.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(let V in A){m=V;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}_(gt,ui);function Bt(){Qt.call(this),this.status=1}_(Bt,Qt);function Zt(m){this.g=m}_(Zt,Ae),Zt.prototype.ua=function(){rn(this.g,"a")},Zt.prototype.ta=function(m){rn(this.g,new gt(m))},Zt.prototype.sa=function(m){rn(this.g,new Bt)},Zt.prototype.ra=function(){rn(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,fI=Sd.createWebChannelTransport=function(){return new Ne},hI=Sd.getStatEventTarget=function(){return Yi()},dI=Sd.Event=Sn,q2=Sd.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,j1=Sd.ErrorCode=me,ge.COMPLETE="complete",uI=Sd.EventType=ge,Ai.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Wm=Sd.WebChannel=Ai,cI=Sd.FetchXmlHttpFactory=Kl,ki.prototype.listenOnce=ki.prototype.L,ki.prototype.getLastError=ki.prototype.Ka,ki.prototype.getLastErrorCode=ki.prototype.Ba,ki.prototype.getStatus=ki.prototype.Z,ki.prototype.getResponseJson=ki.prototype.Oa,ki.prototype.getResponseText=ki.prototype.oa,ki.prototype.send=ki.prototype.ea,ki.prototype.setWithCredentials=ki.prototype.Ha,lI=Sd.XhrIo=ki}).apply(typeof W2<"u"?W2:typeof self<"u"?self:typeof window<"u"?window:{});var O8="@firebase/firestore";var ns=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");var Cg="10.12.3";var Jh=new ox("@firebase/firestore");function Qm(){return Jh.logLevel}function OV(t){Jh.setLogLevel(t)}function mt(t,...e){if(Jh.logLevel<=Zc.DEBUG){let n=e.map(gM);Jh.debug(`Firestore (${Cg}): ${t}`,...n)}}function zr(t,...e){if(Jh.logLevel<=Zc.ERROR){let n=e.map(gM);Jh.error(`Firestore (${Cg}): ${t}`,...n)}}function Nl(t,...e){if(Jh.logLevel<=Zc.WARN){let n=e.map(gM);Jh.warn(`Firestore (${Cg}): ${t}`,...n)}}function gM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Gt(t="Unexpected state"){let e=`FIRESTORE (${Cg}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function sn(t,e){t||Gt()}function RV(t,e){t||Gt()}function Ut(t,e){return t}var Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dt=class extends sx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var is=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var rb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_I=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ns.UNAUTHENTICATED))}shutdown(){}},yI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xI=class{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),s=new is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new is,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>Se(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new is)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(sn(typeof i.accessToken=="string"),new rb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return sn(e===null||typeof e=="string"),new ns(e)}},wI=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bI=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new wI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}},CI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},TI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,mt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sn(typeof n.token=="string"),this.R=n.token,new CI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Lre(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var sb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Lre(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Nn(t,e){return t<e?-1:t>e?1:0}function og(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function VV(t){return t+"\0"}var Er=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new dt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ln=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Er(0,0))}static max(){return new t(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ob=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Gt(),i===void 0?i=e.length-n:i>e.length-n&&Gt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},li=class t extends ob{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new dt(Xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},Nre=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$r=class t extends ob{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return Nre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new dt(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new dt(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new dt(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new dt(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Rt=class t{constructor(e){this.path=e}static fromPath(e){return new t(li.fromString(e))}static fromName(e){return new t(li.fromString(e).popFirst(5))}static empty(){return new t(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&li.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return li.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new li(e.slice()))}};var ag=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function SI(t){return t.fields.find(e=>e.kind===2)}function Ep(t){return t.fields.filter(e=>e.kind!==2)}ag.UNKNOWN_ID=-1;var ig=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Z1=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Ol.min())}};function BV(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ln.fromTimestamp(i===1e9?new Er(n+1,0):new Er(n,i));return new Ol(r,Rt.empty(),e)}function jV(t){return new Ol(t.readTime,t.key,-1)}var Ol=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ln.min(),Rt.empty(),-1)}static max(){return new t(ln.max(),Rt.empty(),-1)}};function vM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Rt.comparator(t.documentKey,e.documentKey),n!==0?n:Nn(t.largestBatchId,e.largestBatchId))}var UV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ab=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uf(t){return Se(this,null,function*(){if(t.code!==Xe.FAILED_PRECONDITION||t.message!==UV)throw t;mt("LocalStore","Unexpectedly lost primary lease")})}var qe=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var lb=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new is,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Pp(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=_M(i.target.error);this.V.reject(new Pp(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new Pp(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new AI(n)}},ef=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(kv())===12.2&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),Ap(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!rx())return!1;if(t.C())return!0;let e=kv(),n=t.S(e),i=0<n&&n<10,r=HV(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return Se(this,null,function*(){return this.db||(mt("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new Pp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new dt(Xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new dt(Xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new Pp(e,o))},r.onupgradeneeded=s=>{mt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{mt("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return Se(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=lb.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),qe.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(mt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function HV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var EI=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ap(this.B.delete())}},Pp=class extends dt{constructor(e,n){super(Xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function df(t){return t.name==="IndexedDbTransactionError"}var AI=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(mt("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ap(i)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),Ap(this.store.add(e))}get(e){return Ap(this.store.get(e)).next(n=>(n===void 0&&(n=null),mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),Ap(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),Ap(this.store.count())}U(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new qe((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new qe((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,n){mt("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.W(r,n)}Y(e){let n=this.cursor({});return new qe((i,r)=>{n.onerror=s=>{let o=_M(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,n){let i=[];return new qe((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new EI(a),c=n(a.primaryKey,a.value,l);if(c instanceof qe){let u=c.catch(d=>(l.done(),qe.reject(d)));i.push(u)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>qe.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ap(t){return new qe((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=_M(i.target.error);n(r)}})}var R8=!1;function _M(t){let e=ef.S(kv());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return R8||(R8=!0,setTimeout(()=>{throw i},0)),i}}return t}var kI=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){mt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>Se(this,null,function*(){this.task=null;try{mt("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){df(n)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield uf(n)}yield this.X(6e4)}))}},DI=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return Se(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let i=new Set,r=n,s=!0;return qe.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return mt("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>n-r)}ne(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(mt("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let i=e;return n.changes.forEach((r,s)=>{let o=jV(s);vM(o,i)>0&&(i=o)}),new Ol(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Ka=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function x_(t){return t==null}function J1(t){return t===0&&1/t==-1/0}function zV(t){return typeof t=="number"&&Number.isInteger(t)&&!J1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function $o(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=V8(e)),e=Ore(t.get(n),e);return V8(e)}function Ore(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let s=t.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function V8(t){return t+""}function vu(t){let e=t.length;if(sn(e>=2),e===2)return sn(t.charAt(0)===""&&t.charAt(1)===""),li.emptyPath();let n=e-2,i=[],r="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&Gt(),t.charAt(o+1)){case"":let a=t.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(s,o),r+="\0";break;case"":r+=t.substring(s,o+1);break;default:Gt()}s=o+2}return new li(i)}var B8=["userId","batchId"];function Z2(t,e){return[t,$o(e)]}function $V(t,e,n){return[t,$o(e),n]}var Rre={},Vre=["prefixPath","collectionGroup","readTime","documentId"],Bre=["prefixPath","collectionGroup","documentId"],jre=["collectionGroup","readTime","prefixPath","documentId"],Ure=["canonicalId","targetId"],Hre=["targetId","path"],zre=["path","targetId"],$re=["collectionId","parent"],Gre=["indexId","uid"],Wre=["uid","sequenceNumber"],qre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xre=["indexId","uid","orderedDocumentKey"],Yre=["userId","collectionPath","documentId"],Kre=["userId","collectionPath","largestBatchId"],Qre=["userId","collectionGroup","largestBatchId"],GV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zre=[...GV,"documentOverlays"],WV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qV=WV,XV=[...qV,"indexConfiguration","indexState","indexEntries"],Jre=XV;var e_=class extends ab{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Ls(t,e){let n=Ut(t);return ef.F(n._e,e)}function j8(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $p(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YV(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gr=class t{constructor(e,n){this.comparator=e,this.root=n||yu.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yu.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ng(this.root,e,this.comparator,!0)}},ng=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yu=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();let e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}};yu.EMPTY=null,yu.RED=!0,yu.BLACK=!1;yu.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(e,n,i,r,s){return this}insert(e,n,i){return new yu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var sr=class t{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cb(this.data.getIterator())}getIteratorFrom(e){return new cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},cb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function qm(t){return t.hasNext()?t.getNext():void 0}var Qa=class t{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new t([])}unionWith(e){let n=new sr($r.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return og(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var ub=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function KV(){return typeof atob<"u"}var Fs=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ub("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Fs.EMPTY_BYTE_STRING=new Fs("");var ese=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(t){if(sn(!!t),typeof t=="string"){let e=0,n=ese.exec(t);if(sn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mr(t.seconds),nanos:Mr(t.nanos)}}function Mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tf(t){return typeof t=="string"?Fs.fromBase64String(t):Fs.fromUint8Array(t)}function eC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yM(t){let e=t.mapValue.fields.__previous_value__;return eC(e)?yM(e):e}function t_(t){let e=kd(t.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}var II=class{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},nf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},J2={nullValue:"NULL_VALUE"};function Fp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eC(t)?4:QV(t)?9007199254740991:10:Gt()}function bu(t,e){if(t===e)return!0;let n=Fp(t);if(n!==Fp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return t_(t).isEqual(t_(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=kd(r.timestampValue),a=kd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return tf(r.bytesValue).isEqual(tf(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Mr(r.geoPointValue.latitude)===Mr(s.geoPointValue.latitude)&&Mr(r.geoPointValue.longitude)===Mr(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Mr(r.integerValue)===Mr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Mr(r.doubleValue),a=Mr(s.doubleValue);return o===a?J1(o)===J1(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return og(t.arrayValue.values||[],e.arrayValue.values||[],bu);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(j8(o)!==j8(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bu(o[l],a[l])))return!1;return!0}(t,e);default:return Gt()}}function n_(t,e){return(t.values||[]).find(n=>bu(n,e))!==void 0}function rf(t,e){if(t===e)return 0;let n=Fp(t),i=Fp(e);if(n!==i)return Nn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nn(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Mr(s.integerValue||s.doubleValue),l=Mr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U8(t.timestampValue,e.timestampValue);case 4:return U8(t_(t),t_(e));case 5:return Nn(t.stringValue,e.stringValue);case 6:return function(s,o){let a=tf(s),l=tf(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=Nn(a[c],l[c]);if(u!==0)return u}return Nn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Nn(Mr(s.latitude),Mr(o.latitude));return a!==0?a:Nn(Mr(s.longitude),Mr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=rf(a[c],l[c]);if(u)return u}return Nn(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Qh.mapValue&&o===Qh.mapValue)return 0;if(s===Qh.mapValue)return 1;if(o===Qh.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){let f=Nn(l[d],u[d]);if(f!==0)return f;let h=rf(a[l[d]],c[u[d]]);if(h!==0)return h}return Nn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Gt()}}function U8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nn(t,e);let n=kd(t),i=kd(e),r=Nn(n.seconds,i.seconds);return r!==0?r:Nn(n.nanos,i.nanos)}function lg(t){return MI(t)}function MI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=kd(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=MI(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${MI(n.fields[o])}`;return r+"}"}(t.mapValue):Gt()}function Lp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PI(t){return!!t&&"integerValue"in t}function i_(t){return!!t&&"arrayValue"in t}function H8(t){return!!t&&"nullValue"in t}function z8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eb(t){return!!t&&"mapValue"in t}function q1(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return $p(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=q1(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=q1(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function tse(t){return"nullValue"in t?J2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Lp(nf.empty(),Rt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Gt()}function nse(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Lp(nf.empty(),Rt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Qh:Gt()}function $8(t,e){let n=rf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function G8(t,e){let n=rf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var mo=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!eb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=q1(n)}setAll(e){let n=$r.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=q1(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());eb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];eb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){$p(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(q1(this.value))}};function ZV(t){let e=[];return $p(t.fields,(n,i)=>{let r=new $r([n]);if(eb(i)){let s=ZV(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Qa(e)}var rs=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ln.min(),ln.min(),ln.min(),mo.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ln.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ln.min(),ln.min(),mo.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ln.min(),ln.min(),mo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cu=class{constructor(e,n){this.position=e,this.inclusive=n}};function W8(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Rt.comparator(Rt.fromName(o.referenceValue),n.key):i=rf(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function q8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bu(t.position[n],e.position[n]))return!1;return!0}var Np=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function ise(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var db=class{},si=class t extends db{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new NI(e,n,i):n==="array-contains"?new VI(e,i):n==="in"?new hb(e,i):n==="not-in"?new BI(e,i):n==="array-contains-any"?new jI(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new OI(e,i):new RI(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rf(n,this.value)):n!==null&&Fp(this.value)===Fp(n)&&this.matchesComparison(rf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ri=class t extends db{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return cg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function cg(t){return t.op==="and"}function FI(t){return t.op==="or"}function xM(t){return JV(t)&&cg(t)}function JV(t){for(let e of t.filters)if(e instanceof Ri)return!1;return!0}function LI(t){if(t instanceof si)return t.field.canonicalString()+t.op.toString()+lg(t.value);if(xM(t))return t.filters.map(e=>LI(e)).join(",");{let e=t.filters.map(n=>LI(n)).join(",");return`${t.op}(${e})`}}function eB(t,e){return t instanceof si?function(i,r){return r instanceof si&&i.op===r.op&&i.field.isEqual(r.field)&&bu(i.value,r.value)}(t,e):t instanceof Ri?function(i,r){return r instanceof Ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&eB(o,r.filters[a]),!0):!1}(t,e):void Gt()}function tB(t,e){let n=t.filters.concat(e);return Ri.create(n,t.op)}function nB(t){return t instanceof si?function(n){return`${n.field.canonicalString()} ${n.op} ${lg(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map(nB).join(" ,")+"}"}(t):"Filter"}var NI=class extends si{constructor(e,n,i){super(e,n,i),this.key=Rt.fromName(i.referenceValue)}matches(e){let n=Rt.comparator(e.key,this.key);return this.matchesComparison(n)}},OI=class extends si{constructor(e,n){super(e,"in",n),this.keys=iB("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},RI=class extends si{constructor(e,n){super(e,"not-in",n),this.keys=iB("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function iB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Rt.fromName(i.referenceValue))}var VI=class extends si{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return i_(n)&&n_(n.arrayValue,this.value)}},hb=class extends si{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&n_(this.value.arrayValue,n)}},BI=class extends si{constructor(e,n){super(e,"not-in",n)}matches(e){if(n_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!n_(this.value.arrayValue,n)}},jI=class extends si{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!i_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>n_(this.value.arrayValue,i))}};var UI=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function HI(t,e=null,n=[],i=[],r=null,s=null,o=null){return new UI(t,e,n,i,r,s,o)}function Op(t){let e=Ut(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>LI(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),x_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>lg(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>lg(i)).join(",")),e.ue=n}return e.ue}function w_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ise(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q8(t.startAt,e.startAt)&&q8(t.endAt,e.endAt)}function fb(t){return Rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pb(t,e){return t.filters.filter(n=>n instanceof si&&n.field.isEqual(e))}function X8(t,e,n){let i=J2,r=!0;for(let s of pb(t,e)){let o=J2,a=!0;switch(s.op){case"<":case"<=":o=tse(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=J2}$8({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];$8({value:i,inclusive:r},{value:o,inclusive:n.inclusive})<0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}function Y8(t,e,n){let i=Qh,r=!0;for(let s of pb(t,e)){let o=Qh,a=!0;switch(s.op){case">=":case">":o=nse(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Qh}G8({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];G8({value:i,inclusive:r},{value:o,inclusive:n.inclusive})>0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}var bc=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function rB(t,e,n,i,r,s,o,a){return new bc(t,e,n,i,r,s,o,a)}function Tg(t){return new bc(t)}function K8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wM(t){return t.collectionGroup!==null}function rg(t){let e=Ut(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new sr($r.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Np(s,i))}),n.has($r.keyField().canonicalString())||e.ce.push(new Np($r.keyField(),i))}return e.ce}function Go(t){let e=Ut(t);return e.le||(e.le=rse(e,rg(t))),e.le}function rse(t,e){if(t.limitType==="F")return HI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Np(r.field,s)});let n=t.endAt?new Cu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cu(t.startAt.position,t.startAt.inclusive):null;return HI(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function zI(t,e){let n=t.filters.concat([e]);return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mb(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b_(t,e){return w_(Go(t),Go(e))&&t.limitType===e.limitType}function sB(t){return`${Op(Go(t))}|lt:${t.limitType}`}function Zm(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>nB(r)).join(", ")}]`),x_(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>lg(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>lg(r)).join(",")),`Target(${i})`}(Go(t))}; limitType=${t.limitType})`}function C_(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Rt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of rg(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=W8(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,rg(i),r)||i.endAt&&!function(o,a,l){let c=W8(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,rg(i),r))}(t,e)}function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aB(t){return(e,n)=>{let i=!1;for(let r of rg(t)){let s=sse(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function sse(t,e,n){let i=t.field.isKeyField()?Rt.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?rf(l,c):Gt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Gt()}}var Tu=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$p(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return YV(this.inner)}size(){return this.innerSize}};var ose=new gr(Rt.comparator);function xa(){return ose}var lB=new gr(Rt.comparator);function G1(...t){let e=lB;for(let n of t)e=e.insert(n.key,n);return e}function cB(t){let e=lB;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function _u(){return X1()}function uB(){return X1()}function X1(){return new Tu(t=>t.toString(),(t,e)=>t.isEqual(e))}var ase=new gr(Rt.comparator),lse=new sr(Rt.comparator);function jn(...t){let e=lse;for(let n of t)e=e.add(n);return e}var cse=new sr(Nn);function bM(){return cse}function dB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J1(e)?"-0":e}}function hB(t){return{integerValue:""+t}}function fB(t,e){return zV(e)?hB(e):dB(t,e)}var ug=class{constructor(){this._=void 0}};function use(t,e,n){return t instanceof sf?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&eC(s)&&(s=yM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Dd?mB(t,e):t instanceof Id?gB(t,e):function(r,s){let o=pB(r,s),a=Q8(o)+Q8(r.Pe);return PI(o)&&PI(r.Pe)?hB(a):dB(r.serializer,a)}(t,e)}function dse(t,e,n){return t instanceof Dd?mB(t,e):t instanceof Id?gB(t,e):n}function pB(t,e){return t instanceof of?function(i){return PI(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var sf=class extends ug{},Dd=class extends ug{constructor(e){super(),this.elements=e}};function mB(t,e){let n=vB(e);for(let i of t.elements)n.some(r=>bu(r,i))||n.push(i);return{arrayValue:{values:n}}}var Id=class extends ug{constructor(e){super(),this.elements=e}};function gB(t,e){let n=vB(e);for(let i of t.elements)n=n.filter(r=>!bu(r,i));return{arrayValue:{values:n}}}var of=class extends ug{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Q8(t){return Mr(t.integerValue||t.doubleValue)}function vB(t){return i_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rp=class{constructor(e,n){this.field=e,this.transform=n}};function hse(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Dd&&r instanceof Dd||i instanceof Id&&r instanceof Id?og(i.elements,r.elements,bu):i instanceof of&&r instanceof of?bu(i.Pe,r.Pe):i instanceof sf&&r instanceof sf}(t.transform,e.transform)}var $I=class{constructor(e,n){this.version=e,this.transformResults=n}},Pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var dg=class{};function _B(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lf(t.key,Pr.none()):new af(t.key,t.data,Pr.none());{let n=t.data,i=mo.empty(),r=new sr($r.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Cc(t.key,i,new Qa(r.toArray()),Pr.none())}}function fse(t,e,n){t instanceof af?function(r,s,o){let a=r.value.clone(),l=J8(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cc?function(r,s,o){if(!tb(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=J8(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yB(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Y1(t,e,n,i){return t instanceof af?function(s,o,a,l){if(!tb(s.precondition,o))return a;let c=s.value.clone(),u=eV(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Cc?function(s,o,a,l){if(!tb(s.precondition,o))return a;let c=eV(s.fieldTransforms,l,o),u=o.data;return u.setAll(yB(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return tb(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pse(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=pB(i.transform,r||null);s!=null&&(n===null&&(n=mo.empty()),n.set(i.field,s))}return n||null}function Z8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&og(i,r,(s,o)=>hse(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var af=class extends dg{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Cc=class extends dg{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yB(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function J8(t,e,n){let i=new Map;sn(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,dse(o,a,n[r]))}return i}function eV(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,use(s,o,e))}return i}var lf=class extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},r_=class extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var s_=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&fse(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Y1(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Y1(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=uB();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let l=_B(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ln.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jn())}isEqual(e){return this.batchId===e.batchId&&og(this.mutations,e.mutations,(n,i)=>Z8(n,i))&&og(this.baseMutations,e.baseMutations,(n,i)=>Z8(n,i))}},GI=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){sn(e.mutations.length===i.length);let r=function(){return ase}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var o_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var WI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var es,ai;function xB(t){switch(t){default:return Gt();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function wB(t){if(t===void 0)return zr("GRPC error has no .code"),Xe.UNKNOWN;switch(t){case es.OK:return Xe.OK;case es.CANCELLED:return Xe.CANCELLED;case es.UNKNOWN:return Xe.UNKNOWN;case es.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case es.INTERNAL:return Xe.INTERNAL;case es.UNAVAILABLE:return Xe.UNAVAILABLE;case es.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case es.NOT_FOUND:return Xe.NOT_FOUND;case es.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case es.ABORTED:return Xe.ABORTED;case es.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case es.DATA_LOSS:return Xe.DATA_LOSS;default:return Gt()}}(ai=es||(es={}))[ai.OK=0]="OK",ai[ai.CANCELLED=1]="CANCELLED",ai[ai.UNKNOWN=2]="UNKNOWN",ai[ai.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ai[ai.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ai[ai.NOT_FOUND=5]="NOT_FOUND",ai[ai.ALREADY_EXISTS=6]="ALREADY_EXISTS",ai[ai.PERMISSION_DENIED=7]="PERMISSION_DENIED",ai[ai.UNAUTHENTICATED=16]="UNAUTHENTICATED",ai[ai.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ai[ai.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ai[ai.ABORTED=10]="ABORTED",ai[ai.OUT_OF_RANGE=11]="OUT_OF_RANGE",ai[ai.UNIMPLEMENTED=12]="UNIMPLEMENTED",ai[ai.INTERNAL=13]="INTERNAL",ai[ai.UNAVAILABLE=14]="UNAVAILABLE",ai[ai.DATA_LOSS=15]="DATA_LOSS";var tV=null;function bB(){return new TextEncoder}var mse=new Wh([4294967295,4294967295],0);function nV(t){let e=bB().encode(t),n=new aI;return n.update(e),new Uint8Array(n.digest())}function iV(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wh([n,i],0),new Wh([r,s],0)]}var qI=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Mp(`Invalid padding: ${n}`);if(i<0)throw new Mp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Mp(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Mp(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wh.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Wh.fromNumber(i)));return r.compare(mse)===1&&(r=new Wh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nV(e),[i,r]=iV(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=nV(e),[i,r]=iV(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Mp=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var a_=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,l_.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ln.min(),r,new gr(Nn),xa(),jn())}},l_=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,jn(),jn(),jn())}};var sg=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},gb=class{constructor(e,n){this.targetId=e,this.me=n}},vb=class{constructor(e,n,i=Fs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},_b=class{constructor(){this.fe=0,this.ge=sV(),this.pe=Fs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=jn(),n=jn(),i=jn();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Gt()}}),new l_(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=sV()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,sn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},XI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=xa(),this.qe=rV(),this.Qe=new gr(Nn)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(fb(s))if(i===0){let o=new Rt(s.path);this.Ue(n,o,rs.newNoDocument(o,ln.min()))}else sn(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}tV?.et(function(u,d,f,h,_){var g,y,b,E,F,U;let W={localCacheCount:u,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},te=d.unchangedNames;return te&&(W.bloomFilter={applied:_===0,hashCount:(g=te?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(E=(b=(y=te?.bits)===null||y===void 0?void 0:y.bitmap)===null||b===void 0?void 0:b.length)!==null&&E!==void 0?E:0,padding:(U=(F=te?.bits)===null||F===void 0?void 0:F.padding)!==null&&U!==void 0?U:0,mightContain:I=>{var T;return(T=h?.mightContain(I))!==null&&T!==void 0&&T}}),W}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=tf(i).toUint8Array()}catch(l){if(l instanceof ub)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qI(o,r,s)}catch(l){return Nl(l instanceof Mp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&fb(a.target)){let l=new Rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rs.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=jn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new a_(e,n,this.Qe,this.ke,i);return this.ke=xa(),this.qe=rV(),this.Qe=new gr(Nn),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _b,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new sr(Nn),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _b),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function rV(){return new gr(Rt.comparator)}function sV(){return new gr(Rt.comparator)}var gse={asc:"ASCENDING",desc:"DESCENDING"},vse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_se={and:"AND",or:"OR"},YI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function KI(t,e){return t.useProto3Json||x_(e)?e:{value:e}}function hg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yse(t,e){return hg(t,e.toTimestamp())}function Gr(t){return sn(!!t),ln.fromTimestamp(function(n){let i=kd(n);return new Er(i.seconds,i.nanos)}(t))}function CM(t,e){return QI(t,e).canonicalString()}function QI(t,e){let n=function(r){return new li(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TB(t){let e=li.fromString(t);return sn(LB(e)),e}function c_(t,e){return CM(t.databaseId,e.path)}function xu(t,e){let n=TB(e);if(n.get(1)!==t.databaseId.projectId)throw new dt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Rt(AB(n))}function SB(t,e){return CM(t.databaseId,e)}function EB(t){let e=TB(t);return e.length===4?li.emptyPath():AB(e)}function ZI(t){return new li(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AB(t){return sn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oV(t,e,n){return{name:c_(t,e),fields:n.value.mapValue.fields}}function kB(t,e,n){let i=xu(t,e.name),r=Gr(e.updateTime),s=e.createTime?Gr(e.createTime):ln.min(),o=new mo({mapValue:{fields:e.fields}}),a=rs.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xse(t,e){return"found"in e?function(i,r){sn(!!r.found),r.found.name,r.found.updateTime;let s=xu(i,r.found.name),o=Gr(r.found.updateTime),a=r.found.createTime?Gr(r.found.createTime):ln.min(),l=new mo({mapValue:{fields:r.found.fields}});return rs.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(i,r){sn(!!r.missing),sn(!!r.readTime);let s=xu(i,r.missing),o=Gr(r.readTime);return rs.newNoDocument(s,o)}(t,e):Gt()}function wse(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(sn(u===void 0||typeof u=="string"),Fs.fromBase64String(u||"")):(sn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Fs.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?Xe.UNKNOWN:wB(c.code);return new dt(u,c.message||"")}(o);n=new vb(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=xu(t,i.document.name),s=Gr(i.document.updateTime),o=i.document.createTime?Gr(i.document.createTime):ln.min(),a=new mo({mapValue:{fields:i.document.fields}}),l=rs.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new sg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=xu(t,i.document),s=i.readTime?Gr(i.readTime):ln.min(),o=rs.newNoDocument(r,s),a=i.removedTargetIds||[];n=new sg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=xu(t,i.document),s=i.removedTargetIds||[];n=new sg([],s,r,null)}else{if(!("filter"in e))return Gt();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new WI(r,s),a=i.targetId;n=new gb(a,o)}}return n}function u_(t,e){let n;if(e instanceof af)n={update:oV(t,e.key,e.value)};else if(e instanceof lf)n={delete:c_(t,e.key)};else if(e instanceof Cc)n={update:oV(t,e.key,e.data),updateMask:Ase(e.fieldMask)};else{if(!(e instanceof r_))return Gt();n={verify:c_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof sf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof of)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Gt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:yse(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Gt()}(t,e.precondition)),n}function JI(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Pr.updateTime(Gr(s.updateTime)):s.exists!==void 0?Pr.exists(s.exists):Pr.none()}(e.currentDocument):Pr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)sn(a.setToServerValue==="REQUEST_TIME"),l=new sf;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];l=new Dd(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];l=new Id(u)}else"increment"in a?l=new of(o,a.increment):Gt();let c=$r.fromServerFormat(a.fieldPath);return new Rp(c,l)}(t,r)):[];if(e.update){e.update.name;let r=xu(t,e.update.name),s=new mo({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Qa(c.map(u=>$r.fromServerFormat(u)))}(e.updateMask);return new Cc(r,s,o,n,i)}return new af(r,s,n,i)}if(e.delete){let r=xu(t,e.delete);return new lf(r,n)}if(e.verify){let r=xu(t,e.verify);return new r_(r,n)}return Gt()}function bse(t,e){return t&&t.length>0?(sn(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Gr(r.updateTime):Gr(s);return o.isEqual(ln.min())&&(o=Gr(s)),new $I(o,r.transformResults||[])}(n,e))):[]}function DB(t,e){return{documents:[SB(t,e.path)]}}function IB(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=SB(t,r);let s=function(c){if(c.length!==0)return FB(Ri.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Jm(f.field),direction:Tse(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=KI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function MB(t){let e=EB(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){sn(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let f=PB(d);return f instanceof Ri&&xM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new Np(eg(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,x_(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){let f=!!d.before,h=d.values||[];return new Cu(h,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let f=!d.before,h=d.values||[];return new Cu(h,f)}(n.endAt)),rB(e,r,o,s,a,"F",l,c)}function Cse(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=eg(n.unaryFilter.field);return si.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=eg(n.unaryFilter.field);return si.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=eg(n.unaryFilter.field);return si.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=eg(n.unaryFilter.field);return si.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}(t):t.fieldFilter!==void 0?function(n){return si.create(eg(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(i=>PB(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Gt()}}(n.compositeFilter.op))}(t):Gt()}function Tse(t){return gse[t]}function Sse(t){return vse[t]}function Ese(t){return _se[t]}function Jm(t){return{fieldPath:t.canonicalString()}}function eg(t){return $r.fromServerFormat(t.fieldPath)}function FB(t){return t instanceof si?function(n){if(n.op==="=="){if(z8(n.value))return{unaryFilter:{field:Jm(n.field),op:"IS_NAN"}};if(H8(n.value))return{unaryFilter:{field:Jm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z8(n.value))return{unaryFilter:{field:Jm(n.field),op:"IS_NOT_NAN"}};if(H8(n.value))return{unaryFilter:{field:Jm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jm(n.field),op:Sse(n.op),value:n.value}}}(t):t instanceof Ri?function(n){let i=n.getFilters().map(r=>FB(r));return i.length===1?i[0]:{compositeFilter:{op:Ese(n.op),filters:i}}}(t):Gt()}function Ase(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fg=class t{constructor(e,n,i,r,s=ln.min(),o=ln.min(),a=Fs.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yb=class{constructor(e){this.ct=e}};function kse(t,e){let n;if(e.document)n=kB(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=Rt.fromSegments(e.noDocument.path),r=Bp(e.noDocument.readTime);n=rs.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Gt();{let i=Rt.fromSegments(e.unknownDocument.path),r=Bp(e.unknownDocument.version);n=rs.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let s=new Er(r[0],r[1]);return ln.fromTimestamp(s)}(e.readTime)),n}function aV(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:c_(s,o.key),fields:o.data.value.mapValue.fields,updateTime:hg(s,o.version.toTimestamp()),createTime:hg(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Vp(e.version)};else{if(!e.isUnknownDocument())return Gt();i.unknownDocument={path:n.path.toArray(),version:Vp(e.version)}}return i}function xb(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vp(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bp(t){let e=new Er(t.seconds,t.nanoseconds);return ln.fromTimestamp(e)}function kp(t,e){let n=(e.baseMutations||[]).map(s=>JI(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>JI(t.ct,s)),r=Er.fromMillis(e.localWriteTimeMs);return new s_(e.batchId,r,n,i)}function W1(t){let e=Bp(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bp(t.lastLimboFreeSnapshotVersion):ln.min(),i;return i=function(s){return s.documents!==void 0}(t.query)?function(s){return sn(s.documents.length===1),Go(Tg(EB(s.documents[0])))}(t.query):function(s){return Go(MB(s))}(t.query),new fg(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Fs.fromBase64String(t.resumeToken))}function NB(t,e){let n=Vp(e.snapshotVersion),i=Vp(e.lastLimboFreeSnapshotVersion),r;r=fb(e.target)?DB(t.ct,e.target):IB(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Op(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TM(t){let e=MB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mb(e,e.limit,"L"):e}function pI(t,e){return new o_(e.largestBatchId,JI(t.ct,e.overlayMutation))}function lV(t,e){let n=e.path.lastSegment();return[t,$o(e.path.popLast()),n]}function cV(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vp(i.readTime),documentKey:$o(i.documentKey.path),largestBatchId:i.largestBatchId}}var e5=class{getBundleMetadata(e,n){return uV(e).get(n).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:Bp(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,n){return uV(e).put(function(r){return{bundleId:r.id,createTime:Vp(Gr(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return dV(e).get(n).next(i=>{if(i)return function(s){return{name:s.name,query:TM(s.bundledQuery),readTime:Bp(s.readTime)}}(i)})}saveNamedQuery(e,n){return dV(e).put(function(r){return{name:r.name,readTime:Vp(Gr(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function uV(t){return Ls(t,"bundles")}function dV(t){return Ls(t,"namedQueries")}var wb=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return U1(e).get(lV(this.userId,n)).next(i=>i?pI(this.serializer,i):null)}getOverlays(e,n){let i=_u();return qe.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((s,o)=>{let a=new o_(n,o);r.push(this.ht(e,a))}),qe.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(o=>r.add($o(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(U1(e).j("collectionPathOverlayIndex",a))}),qe.waitFor(s)}getOverlaysForCollection(e,n,i){let r=_u(),s=$o(n),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return U1(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=pI(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let s=_u(),o,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return U1(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{let d=pI(this.serializer,c);s.size()<r||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return U1(e).put(function(r,s,o){let[a,l,c]=lV(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:u_(r.ct,o.mutation)}}(this.serializer,this.userId,n))}};function U1(t){return Ls(t,"documentOverlays")}var Ed=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Mr(e.integerValue));else if("doubleValue"in e){let i=Mr(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),J1(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=kd(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(tf(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?QV(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Gt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Rt.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ed.bt=new Ed;function Dse(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function hV(t){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=Dse(255&i[s]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}var t5=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=hV(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=hV(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},n5=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},i5=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Dp=class{constructor(){this.Gt=new t5,this.zt=new n5(this.Gt),this.jt=new i5(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Ip=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function qh(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fV(t.arrayValue,e.arrayValue),n!==0?n:(n=fV(t.directionalValue,e.directionalValue),n!==0?n:Rt.comparator(t.documentKey,e.documentKey)))}function fV(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var bb=class{constructor(e){this.Yt=new sr((n,i)=>$r.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(sn(e.collectionGroup===this.collectionId),this.en)return!1;let n=SI(e);if(n!==void 0&&!this.nn(n))return!1;let i=Ep(e),r=new Set,s=0,o=0;for(;s<i.length&&this.nn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new sr($r.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new ig(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new ig(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new ig(i.field,i.dir==="asc"?0:1)));return new ag(ag.UNKNOWN_ID,this.collectionId,n,Z1.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function OB(t){var e,n;if(sn(t instanceof si||t instanceof Ri),t instanceof si){if(t instanceof hb){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>si.create(t.field,"==",s)))||[];return Ri.create(r,"or")}return t}let i=t.filters.map(r=>OB(r));return Ri.create(i,t.op)}function Ise(t){if(t.getFilters().length===0)return[];let e=o5(OB(t));return sn(RB(e)),r5(e)||s5(e)?[e]:e.getFilters()}function r5(t){return t instanceof si}function s5(t){return t instanceof Ri&&xM(t)}function RB(t){return r5(t)||s5(t)||function(n){if(n instanceof Ri&&FI(n)){for(let i of n.getFilters())if(!r5(i)&&!s5(i))return!1;return!0}return!1}(t)}function o5(t){if(sn(t instanceof si||t instanceof Ri),t instanceof si)return t;if(t.filters.length===1)return o5(t.filters[0]);let e=t.filters.map(i=>o5(i)),n=Ri.create(e,t.op);return n=Cb(n),RB(n)?n:(sn(n instanceof Ri),sn(cg(n)),sn(n.filters.length>1),n.filters.reduce((i,r)=>SM(i,r)))}function SM(t,e){let n;return sn(t instanceof si||t instanceof Ri),sn(e instanceof si||e instanceof Ri),n=t instanceof si?e instanceof si?function(r,s){return Ri.create([r,s],"and")}(t,e):pV(t,e):e instanceof si?pV(e,t):function(r,s){if(sn(r.filters.length>0&&s.filters.length>0),cg(r)&&cg(s))return tB(r,s.getFilters());let o=FI(r)?r:s,a=FI(r)?s:r,l=o.filters.map(c=>SM(c,a));return Ri.create(l,"or")}(t,e),Cb(n)}function pV(t,e){if(cg(e))return tB(e,t.getFilters());{let n=e.filters.map(i=>SM(t,i));return Ri.create(n,"or")}}function Cb(t){if(sn(t instanceof si||t instanceof Ri),t instanceof si)return t;let e=t.getFilters();if(e.length===1)return Cb(e[0]);if(JV(t))return t;let n=e.map(r=>Cb(r)),i=[];return n.forEach(r=>{r instanceof si?i.push(r):r instanceof Ri&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ri.create(i,t.op)}var a5=class{constructor(){this._n=new d_}addToCollectionParentIndex(e,n){return this._n.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(Ol.min())}updateCollectionGroup(e,n,i){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}},d_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new sr(li.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new sr(li.comparator)).toArray()}};var X2=new Uint8Array(0),l5=class{constructor(e,n){this.databaseId=n,this.an=new d_,this.un=new Tu(i=>Op(i),(i,r)=>w_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:i,parent:$o(r)};return mV(e).put(s)}return qe.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[VV(n),""],!1,!0);return mV(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==n)break;i.push(vu(o.parent))}return i})}addFieldIndex(e,n){let i=H1(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;let s=i.add(r);if(n.indexState){let o=Ym(e);return s.next(a=>{o.put(cV(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let i=H1(e),r=Ym(e),s=Xm(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=H1(e),i=Xm(e),r=Ym(e);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,n){return qe.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new bb(i).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let i=Xm(e),r=!0,s=new Map;return qe.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=jn(),a=[];return qe.forEach(s,(l,c)=>{mt("IndexedDbIndexManager",`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(l)} to execute ${Op(n)}`);let u=function(F,U){let W=SI(U);if(W===void 0)return null;for(let te of pb(F,W.fieldPath))switch(te.op){case"array-contains-any":return te.value.arrayValue.values||[];case"array-contains":return[te.value]}return null}(c,l),d=function(F,U){let W=new Map;for(let te of Ep(U))for(let I of pb(F,te.fieldPath))switch(I.op){case"==":case"in":W.set(te.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return W.set(te.fieldPath.canonicalString(),I.value),Array.from(W.values())}return null}(c,l),f=function(F,U){let W=[],te=!0;for(let I of Ep(U)){let T=I.kind===0?X8(F,I.fieldPath,F.startAt):Y8(F,I.fieldPath,F.startAt);W.push(T.value),te&&(te=T.inclusive)}return new Cu(W,te)}(c,l),h=function(F,U){let W=[],te=!0;for(let I of Ep(U)){let T=I.kind===0?Y8(F,I.fieldPath,F.endAt):X8(F,I.fieldPath,F.endAt);W.push(T.value),te&&(te=T.inclusive)}return new Cu(W,te)}(c,l),_=this.hn(l,c,f),g=this.hn(l,c,h),y=this.Pn(l,c,d),b=this.In(l.indexId,u,_,f.inclusive,g,h.inclusive,y);return qe.forEach(b,E=>i.G(E,n.limit).next(F=>{F.forEach(U=>{let W=Rt.fromSegments(U.documentKey);o.has(W)||(o=o.add(W),a.push(W))})}))}).next(()=>a)}return qe.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Ise(Ri.create(e.filters,"and")).map(i=>HI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,s,o,a){let l=(n!=null?n.length:1)*Math.max(i.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){let f=n?this.Tn(n[d/c]):X2,h=this.En(e,f,i[d%c],r),_=this.dn(e,f,s[d%c],o),g=a.map(y=>this.En(e,f,y,!0));u.push(...this.createRange(h,_,g))}return u}En(e,n,i,r){let s=new Ip(e,Rt.empty(),n,i);return r?s:s.Jt()}dn(e,n,i,r){let s=new Ip(e,Rt.empty(),n,i);return r?s.Jt():s}ln(e,n){let i=new bb(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let i=2,r=this.cn(n);return qe.forEach(r,s=>this.ln(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new sr($r.comparator),u=!1;for(let d of l.filters)for(let f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(let d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new Dp;for(let r of Ep(e)){let s=n.data.field(r.fieldPath);if(s==null)return null;let o=i.Ht(r.kind);Ed.bt.Pt(s,o)}return i.Wt()}Tn(e){let n=new Dp;return Ed.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new Dp;return Ed.bt.Pt(Lp(this.databaseId,n),i.Ht(function(s){let o=Ep(s);return o.length===0?0:o[o.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new Dp);let s=0;for(let o of Ep(e)){let a=i[s++];for(let l of r)if(this.Vn(n,o.fieldPath)&&i_(a))r=this.mn(r,o,a);else{let c=l.Ht(o.kind);Ed.bt.Pt(a,c)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new Dp;l.seed(a.Wt()),Ed.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(i=>i instanceof si&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=H1(e),r=Ym(e);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(s=>{let o=[];return qe.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){let f=d?new Z1(d.sequenceNumber,new Ol(Bp(d.readTime),new Rt(vu(d.documentKey)),d.largestBatchId)):Z1.empty(),h=u.fields.map(([_,g])=>new ig($r.fromServerFormat(_),g));return new ag(u.indexId,u.collectionGroup,h,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:Nn(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=H1(e),s=Ym(e);return this.gn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>qe.forEach(a,l=>s.put(cV(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,n){let i=new Map;return qe.forEach(n,(r,s)=>{let o=i.get(r.collectionGroup);return(o?qe.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),qe.forEach(a,l=>this.pn(e,r,l).next(c=>{let u=this.yn(s,l);return c.isEqual(u)?qe.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,i,r){return Xm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return Xm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=Xm(e),s=new sr(qh);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(o,a)=>{s=s.add(new Ip(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let i=new sr(qh),r=this.An(n,e);if(r==null)return i;let s=SI(n);if(s!=null){let o=e.data.field(s.fieldPath);if(i_(o))for(let a of o.arrayValue.values||[])i=i.add(new Ip(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new Ip(n.indexId,e.key,X2,r));return i}wn(e,n,i,r,s){mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(l,c,u,d,f){let h=l.getIterator(),_=c.getIterator(),g=qm(h),y=qm(_);for(;g||y;){let b=!1,E=!1;if(g&&y){let F=u(g,y);F<0?E=!0:F>0&&(b=!0)}else g!=null?E=!0:b=!0;b?(d(y),y=qm(_)):E?(f(g),g=qm(h)):(g=qm(h),y=qm(_))}}(r,s,qh,a=>{o.push(this.Sn(e,n,i,a))},a=>{o.push(this.bn(e,n,i,a))}),qe.waitFor(o)}gn(e){let n=1;return Ym(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((o,a)=>qh(o,a)).filter((o,a,l)=>!a||qh(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=qh(o,e),l=qh(o,n);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(o),r.push(o.Jt());else if(l>0)break}r.push(n);let s=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,X2,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,X2,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return qh(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gV)}getMinOffset(e,n){return qe.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||Gt())).next(gV)}};function mV(t){return Ls(t,"collectionParents")}function Xm(t){return Ls(t,"indexEntries")}function H1(t){return Ls(t,"indexConfiguration")}function Ym(t){return Ls(t,"indexState")}function gV(t){sn(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;vM(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ol(e.readTime,e.documentKey,n)}var vV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ll=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function VB(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=i.J({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{sn(a===1)}));let c=[];for(let u of n.mutations){let d=$V(e,u.key.path,n.batchId);s.push(r.delete(d)),c.push(u.key)}return qe.waitFor(s).next(()=>c)}function Tb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Gt();e=t.noDocument}return JSON.stringify(e).length}Ll.DEFAULT_COLLECTION_PERCENTILE=10,Ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ll.DEFAULT=new Ll(41943040,Ll.DEFAULT_COLLECTION_PERCENTILE,Ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ll.DISABLED=new Ll(-1,0,0);var Sb=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){sn(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xh(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let s=tg(e),o=Xh(e);return o.add({}).next(a=>{sn(typeof a=="number");let l=new s_(a,n,i,r),c=function(h,_,g){let y=g.baseMutations.map(E=>u_(h.ct,E)),b=g.mutations.map(E=>u_(h.ct,E));return{userId:_,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:b}}(this.serializer,this.userId,l),u=[],d=new sr((f,h)=>Nn(f.canonicalString(),h.canonicalString()));for(let f of r){let h=$V(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(h,Rre))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),qe.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Xh(e).get(n).next(i=>i?(sn(i.userId===this.userId),kp(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?qe.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Xh(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(sn(a.batchId>=i),s=kp(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Xh(e).J({index:"userMutationsIndex",range:n,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xh(e).U("userMutationsIndex",n).next(i=>i.map(r=>kp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Z2(this.userId,n.path),r=IDBKeyRange.lowerBound(i),s=[];return tg(e).J({range:r},(o,a,l)=>{let[c,u,d]=o,f=vu(u);if(c===this.userId&&n.path.isEqual(f))return Xh(e).get(d).next(h=>{if(!h)throw Gt();sn(h.userId===this.userId),s.push(kp(this.serializer,h))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new sr(Nn),r=[];return n.forEach(s=>{let o=Z2(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=tg(e).J({range:a},(c,u,d)=>{let[f,h,_]=c,g=vu(h);f===this.userId&&s.path.isEqual(g)?i=i.add(_):d.done()});r.push(l)}),qe.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=Z2(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new sr(Nn);return tg(e).J({range:o},(l,c,u)=>{let[d,f,h]=l,_=vu(f);d===this.userId&&i.isPrefixOf(_)?_.length===r&&(a=a.add(h)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(s=>{r.push(Xh(e).get(s).next(o=>{if(o===null)throw Gt();sn(o.userId===this.userId),i.push(kp(this.serializer,o))}))}),qe.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return VB(e._e,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),qe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return qe.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return tg(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=vu(s[1]);r.push(l)}else a.done()}).next(()=>{sn(r.length===0)})})}containsKey(e,n){return BB(e,this.userId,n)}xn(e){return jB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function BB(t,e,n){let i=Z2(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return tg(t).J({range:s,H:!0},(a,l,c)=>{let[u,d,f]=a;u===e&&d===r&&(o=!0),c.done()}).next(()=>o)}function Xh(t){return Ls(t,"mutations")}function tg(t){return Ls(t,"documentMutations")}function jB(t){return Ls(t,"mutationQueues")}var pg=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var c5=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new pg(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ln.fromTimestamp(new Er(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Km(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(sn(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,s=[];return Km(e).J((o,a)=>{let l=W1(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>qe.waitFor(s)).next(()=>r)}forEachTarget(e,n){return Km(e).J((i,r)=>{let s=W1(r);n(s)})}Bn(e){return _V(e).get("targetGlobalKey").next(n=>(sn(n!==null),n))}kn(e,n){return _V(e).put("targetGlobalKey",n)}qn(e,n){return Km(e).put(NB(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=Op(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Km(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=W1(a);w_(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,i){let r=[],s=Yh(e);return n.forEach(o=>{let a=$o(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),qe.waitFor(r)}removeMatchingKeys(e,n,i){let r=Yh(e);return qe.forEach(n,s=>{let o=$o(s.path);return qe.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,n){let i=Yh(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Yh(e),s=jn();return r.J({range:i,H:!0},(o,a,l)=>{let c=vu(o[1]),u=new Rt(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){let i=$o(n.path),r=IDBKeyRange.bound([i],[VV(i)],!1,!0),s=0;return Yh(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return Km(e).get(n).next(i=>i?W1(i):null)}};function Km(t){return Ls(t,"targets")}function _V(t){return Ls(t,"targetGlobal")}function Yh(t){return Ls(t,"targetDocuments")}function yV([t,e],[n,i]){let r=Nn(t,n);return r===0?Nn(e,i):r}var u5=class{constructor(e){this.Kn=e,this.buffer=new sr(yV),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();yV(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},d5=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>Se(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){df(n)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield uf(n)}yield this.zn(3e5)}))}},h5=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return qe.resolve(Ka.oe);let i=new u5(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(vV)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vV):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,s,o,a,l,c,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),Qm()<=Zc.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}};function Mse(t,e){return new h5(t,e)}var f5=class{constructor(e,n){this.db=e,this.garbageCollector=Mse(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return Y2(e,i)}removeReference(e,n,i){return Y2(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return Y2(e,n)}er(e,n){return function(r,s){let o=!1;return jB(r).Y(a=>BB(r,a,s).next(l=>(l&&(o=!0),qe.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let l=this.er(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,ln.min()),Yh(e).delete(function(d){return[0,$o(d.path)]}(o))))});r.push(l)}}).next(()=>qe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return Y2(e,n)}Xn(e,n){let i=Yh(e),r,s=Ka.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Ka.oe&&n(new Rt(vu(r)),s),s=c,r=l):s=Ka.oe}).next(()=>{s!==Ka.oe&&n(new Rt(vu(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Y2(t,e){return Yh(t).put(function(i,r){return{targetId:0,path:$o(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var Eb=class{constructor(){this.changes=new Tu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?qe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var p5=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Sp(e).put(i)}removeEntry(e,n,i){return Sp(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xb(o),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=rs.newInvalidDocument(n);return Sp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(z1(n))},(r,s)=>{i=this.nr(n,s)}).next(()=>i)}rr(e,n){let i={size:0,document:rs.newInvalidDocument(n)};return Sp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(z1(n))},(r,s)=>{i={document:this.nr(n,s),size:Tb(s)}}).next(()=>i)}getEntries(e,n){let i=xa();return this.ir(e,n,(r,s)=>{let o=this.nr(r,s);i=i.insert(r,o)}).next(()=>i)}sr(e,n){let i=xa(),r=new gr(Rt.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);i=i.insert(s,a),r=r.insert(s,Tb(o))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return qe.resolve();let r=new sr(bV);n.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(z1(r.first()),z1(r.last())),o=r.getIterator(),a=o.getNext();return Sp(e).J({index:"documentKeyIndex",range:s},(l,c,u)=>{let d=Rt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&bV(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?u.$(z1(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),xb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sp(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let u=xa();for(let d of c){let f=this.nr(Rt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(C_(n,f)||r.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,i,r){let s=xa(),o=wV(n,i),a=wV(n,Ol.max());return Sp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{let d=this.nr(Rt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===r&&u.done()}).next(()=>s)}newChangeBuffer(e){return new m5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return xV(e).get("remoteDocumentGlobalKey").next(n=>(sn(!!n),n))}tr(e,n){return xV(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=kse(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(ln.min())))return i}return rs.newInvalidDocument(e)}};function UB(t){return new p5(t)}var m5=class extends Eb{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Tu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new sr((s,o)=>Nn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=aV(this.ar.serializer,o);r=r.add(s.path.popLast());let c=Tb(l);i+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=aV(this.ar.serializer,o.convertToNoDocument(ln.min()));n.push(this.ar.addEntry(e,s,l))}}),r.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,i)),qe.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function xV(t){return Ls(t,"remoteDocumentGlobal")}function Sp(t){return Ls(t,"remoteDocumentsV14")}function z1(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wV(t,e){let n=e.documentKey.path.toArray();return[t,xb(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bV(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Nn(n[s],i[s]),r)return r;return r=Nn(n.length,i.length),r||(r=Nn(n[n.length-2],i[i.length-2]),r||Nn(n[n.length-1],i[i.length-1]))}var g5=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ab=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Y1(i.mutation,r,Qa.empty(),Er.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,jn()).next(()=>i))}getLocalViewOfDocuments(e,n,i=jn()){let r=_u();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=G1();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=_u();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,jn()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=xa(),o=X1(),a=function(){return X1()}();return n.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Cc)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Y1(u.mutation,c,u.mutation.getFieldMask(),Er.now())):o.set(c.key,Qa.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new g5(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=X1(),r=new gr((o,a)=>o-a),s=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let u=i.get(l)||Qa.empty();u=a.applyToLocalView(c,u),i.set(l,u);let d=(r.get(a.batchId)||jn()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,d=uB();u.forEach(f=>{if(!s.has(f)){let h=_B(n.get(f),i.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return qe.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):qe.resolve(_u()),a=-1,l=s;return o.next(c=>qe.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?qe.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,jn())).next(u=>({batchId:a,changes:cB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Rt(n)).next(i=>{let r=G1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=G1();return this.indexManager.getCollectionParents(e,s).next(a=>qe.forEach(a,l=>{let c=function(d,f){return new bc(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,rs.newInvalidDocument(u)))});let a=G1();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&Y1(u.mutation,c,Qa.empty(),Er.now()),C_(n,c)&&(a=a.insert(l,c))}),a})}};var v5=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return qe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Gr(r.createTime)}}(n)),qe.resolve()}getNamedQuery(e,n){return qe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:TM(r.bundledQuery),readTime:Gr(r.readTime)}}(n)),qe.resolve()}};var _5=class{constructor(){this.overlays=new gr(Rt.comparator),this.hr=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){let i=_u();return qe.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),qe.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),qe.resolve()}getOverlaysForCollection(e,n,i){let r=_u(),s=n.length+1,o=new Rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return qe.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new gr((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=_u(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=_u(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return qe.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new o_(n,i));let s=this.hr.get(n);s===void 0&&(s=jn(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var h_=class{constructor(){this.Pr=new sr(ts.Ir),this.Tr=new sr(ts.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new ts(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new ts(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Rt(new li([])),i=new ts(n,e),r=new ts(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Rt(new li([])),i=new ts(n,e),r=new ts(n,e+1),s=jn();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ts(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},ts=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Rt.comparator(e.key,n.key)||Nn(e.pr,n.pr)}static Er(e,n){return Nn(e.pr,n.pr)||Rt.comparator(e.key,n.key)}};var y5=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new sr(ts.Ir)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new s_(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new ts(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qe.resolve(o)}lookupMutationBatch(e,n){return qe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new ts(n,0),r=new ts(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new sr(Nn);return n.forEach(r=>{let s=new ts(r,0),o=new ts(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),qe.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;Rt.isDocumentKey(s)||(s=s.child(""));let o=new ts(new Rt(s),0),a=new sr(Nn);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),qe.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){sn(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return qe.forEach(n.mutations,r=>{let s=new ts(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new ts(n,0),r=this.wr.firstAfterOrEqual(i);return qe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var x5=class{constructor(e){this.vr=e,this.docs=function(){return new gr(Rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return qe.resolve(i?i.document.mutableCopy():rs.newInvalidDocument(n))}getEntries(e,n){let i=xa();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rs.newInvalidDocument(r))}),qe.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=xa(),o=n.path,a=new Rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vM(jV(u),i)<=0||(r.has(u.key)||C_(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Gt()}Fr(e,n){return qe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new w5(this)}getSize(e){return qe.resolve(this.size)}},w5=class extends Eb{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),qe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var b5=class{constructor(e){this.persistence=e,this.Mr=new Tu(n=>Op(n),w_),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Or=0,this.Nr=new h_,this.targetCount=0,this.Lr=pg.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),qe.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new pg(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.qn(n),qe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),qe.waitFor(s).next(()=>r)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return qe.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),qe.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),qe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),qe.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return qe.resolve(i)}containsKey(e,n){return qe.resolve(this.Nr.containsKey(n))}};var kb=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ka(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new b5(this),this.indexManager=new a5,this.remoteDocumentCache=function(r){return new x5(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new yb(n),this.$r=new v5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new y5(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){mt("MemoryPersistence","Starting transaction:",e);let r=new C5(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return qe.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},C5=class extends ab{constructor(e){super(),this.currentSequenceNumber=e}},Db=class t{constructor(e){this.persistence=e,this.zr=new h_,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Gt()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),qe.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),qe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Jr,i=>{let r=Rt.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,ln.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return qe.or([()=>qe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var T5=class{constructor(e){this.serializer=e}O(e,n,i,r){let s=new lb("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B8,{unique:!0}),l.createObjectStore("documentMutations")}(e),CV(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=qe.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),CV(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B8,{unique:!0});let d=c.store("mutations"),f=u.map(h=>d.put(h));return qe.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.Xr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),i<7&&r>=7&&(o=o.next(()=>this.ti(s))),i<8&&r>=8&&(o=o.next(()=>this.ni(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.ri(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:Yre});c.createIndex("collectionPathOverlayIndex",Kre,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Qre,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:Vre});c.createIndex("documentKeyIndex",Bre),c.createIndex("collectionGroupIndex",jre)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Gre}).createIndex("sequenceNumberIndex",Wre,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:qre}).createIndex("documentKeyIndex",Xre,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((i,r)=>{n+=Tb(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.U().next(r=>qe.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>qe.forEach(a,l=>{sn(l.userId===s.userId);let c=kp(this.serializer,l);return VB(e,s.userId,c).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new li(o),c=function(d){return[0,$o(d)]}(l);s.push(n.get(c).next(u=>u?qe.resolve():(d=>n.put({targetId:0,path:$o(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>qe.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:$re});let i=n.store("collectionParents"),r=new d_,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:$o(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new li(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{let u=vu(a);return s(u.popLast())}))}ri(e){let n=e.store("targets");return n.J((i,r)=>{let s=W1(r),o=NB(this.serializer,s);return n.put(o)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Rt(li.fromString(d.document.name).popFirst(5)):d.noDocument?Rt.fromSegments(d.noDocument.path):d.unknownDocument?Rt.fromSegments(d.unknownDocument.path):Gt()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>qe.waitFor(r))}si(e,n){let i=n.store("mutations"),r=UB(this.serializer),s=new kb(Db.Hr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:jn();kp(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),qe.forEach(a,(l,c)=>{let u=new ns(c),d=wb.lt(this.serializer,u),f=s.getIndexManager(u),h=Sb.lt(u,this.serializer,f,s.referenceDelegate);return new Ab(r,h,d,f).recalculateAndSaveOverlaysForDocumentKeys(new e_(n,Ka.oe),l).next()})})}};function CV(t){t.createObjectStore("targetDocuments",{keyPath:Hre}).createIndex("documentTargetsIndex",zre,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ure,{unique:!0}),t.createObjectStore("targetGlobal")}var mI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",S5=class t{constructor(e,n,i,r,s,o,a,l,c,u,d=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!t.D())throw new dt(Xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f5(this,r),this.Ti=n+"main",this.serializer=new yb(l),this.Ei=new ef(this.Ti,this.ui,new T5(this.serializer)),this.Qr=new c5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UB(this.serializer),this.$r=new e5,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(Xe.FAILED_PRECONDITION,mI);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ka(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>Se(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>Se(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>Se(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>K2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(df(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return $1(e).get("owner").next(n=>qe.resolve(this.Si(n)))}bi(e){return K2(e).delete(this.clientId)}Di(){return Se(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Ls(n,"clientMetadata");return i.U().next(r=>{let s=this.vi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return qe.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?qe.resolve(!0):$1(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new dt(Xe.FAILED_PRECONDITION,mI);return!1}}return!(!this.networkEnabled||!this.inForeground)||K2(e).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return Se(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new e_(e,Ka.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>K2(e).U().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Sb.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l5(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return wb.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){mt("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?Jre:l===15?XV:l===14?qV:l===13?WV:l===12?Zre:l===11?GV:void Gt()}(this.ui),o;return this.Ei.runTransaction(e,r,s,a=>(o=new e_(a,this.kr?this.kr.next():Ka.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new dt(Xe.FAILED_PRECONDITION,UV);return i(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return $1(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new dt(Xe.FAILED_PRECONDITION,mI)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $1(e).put("owner",n)}static D(){return ef.D()}yi(e){let n=$1(e);return n.get("owner").next(i=>this.Si(i)?(mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qe.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(zr(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;jS()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return mt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function $1(t){return Ls(t,"owner")}function K2(t){return Ls(t,"clientMetadata")}function EM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var E5=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=jn(),r=jn();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var A5=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ib=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jS()?8:HV(kv())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new A5;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Qm()<=Zc.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Zm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),qe.resolve()):(Qm()<=Zc.DEBUG&&mt("QueryEngine","Query:",Zm(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Qm()<=Zc.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Zm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(n))):qe.resolve())}ji(e,n){if(K8(n))return qe.resolve(null);let i=Go(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=mb(n,null,"F"),i=Go(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=jn(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,mb(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,r){return K8(n)||r.isEqual(ln.min())?qe.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?qe.resolve(null):(Qm()<=Zc.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zm(n)),this.es(e,o,n,BV(r,-1)).next(a=>a))})}Zi(e,n){let i=new sr(aB(e));return n.forEach((r,s)=>{C_(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Qm()<=Zc.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Zm(n)),this.zi.getDocumentsMatchingQuery(e,n,Ol.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var k5=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new gr(Nn),this.rs=new Tu(s=>Op(s),w_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ab(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function HB(t,e,n,i){return new k5(t,e,n,i)}function zB(t,e){return Se(this,null,function*(){let n=Ut(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=jn();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})})}function Pse(t,e){let n=Ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let d=c.batch,f=d.keys(),h=qe.resolve();return f.forEach(_=>{h=h.next(()=>u.getEntry(l,_)).next(g=>{let y=c.docVersions.get(_);sn(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=jn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function $B(t){let e=Ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Fse(t,e){let n=Ut(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let f=r.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Fs.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,i)),r=r.insert(d,h),function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,h,u)&&a.push(n.Qr.updateTargetData(s,h))});let l=xa(),c=jn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(GB(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!i.isEqual(ln.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return qe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=r,s))}function GB(t,e,n){let i=jn(),r=jn();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=xa();return n.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ln.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):mt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function Lse(t,e){let n=Ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mg(t,e){let n=Ut(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,qe.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new fg(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function gg(t,e,n){return Se(this,null,function*(){let i=Ut(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!df(o))throw o;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function Mb(t,e,n){let i=Ut(t),r=ln.min(),s=jn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let d=Ut(l),f=d.rs.get(u);return f!==void 0?qe.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(i,o,Go(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:ln.min(),n?s:jn())).next(a=>(XB(i,oB(e),a),{documents:a,hs:s})))}function WB(t,e){let n=Ut(t),i=Ut(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function qB(t,e){let n=Ut(t),i=n.ss.get(e)||ln.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,BV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(XB(n,e,r),r))}function XB(t,e,n){let i=t.ss.get(e)||ln.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}function Nse(t,e,n,i){return Se(this,null,function*(){let r=Ut(t),s=jn(),o=xa();for(let c of n){let u=e.Ps(c.metadata.name);c.document&&(s=s.add(u));let d=e.Is(c);d.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(u,d)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield mg(r,function(u){return Go(Tg(li.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>GB(c,a,o).next(u=>(a.apply(c),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.cs,u.ls)).next(()=>u.cs)))})}function Ose(i,r){return Se(this,arguments,function*(t,e,n=jn()){let s=yield mg(t,Go(TM(e.bundledQuery))),o=Ut(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=Gr(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.$r.saveNamedQuery(a,e);let c=s.withResumeToken(Fs.EMPTY_BYTE_STRING,l);return o.ns=o.ns.insert(c.targetId,c),o.Qr.updateTargetData(a,c).next(()=>o.Qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Qr.addMatchingKeys(a,n,s.targetId)).next(()=>o.$r.saveNamedQuery(a,e))})})}function TV(t,e){return`firestore_clients_${t}_${e}`}function SV(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function gI(t,e){return`firestore_targets_${t}_${e}`}var Pb=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new dt(r.error.code,r.error.message))),o?new t(e,n,r.state,s):(zr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},K1=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new dt(i.error.code,i.error.message))),s?new t(e,i.state,r):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Fb=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=bM();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=zV(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},D5=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}},f_=class{constructor(){this.activeTargetIds=bM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Q1=class{constructor(e,n,i,r,s){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new gr(Nn),this.started=!1,this.ys=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=TV(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new f_),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return Se(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(TV(this.persistenceKey,i));if(r){let s=Fb.Es(i,r);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(gI(this.persistenceKey,e));if(i){let r=K1.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gI(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return mt("SharedClientState","READ",e,n),n}setItem(e,n){mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(mt("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>Se(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(s){let o=Ka.oe;if(s!=null)try{let a=JSON.parse(s);sn(typeof a=="number"),o=a}catch(a){zr("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);i!==Ka.oe&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new Pb(this.currentUser,e,n,i),s=SV(this.persistenceKey,this.currentUser,e);this.setItem(s,r.ds())}Bs(e){let n=SV(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=gI(this.persistenceKey,e),s=new K1(e,n,i);this.setItem(r,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return Fb.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return Pb.Es(new ns(s),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return K1.Es(r,n)}xs(e){return D5.Es(e)}Js(e){return JSON.parse(e)}zs(e){return Se(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),s=this.Ns(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=bM();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Lb=class{constructor(){this.no=new f_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new f_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var I5=class{io(e){}shutdown(){}};var Nb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Q2=null;function vI(){return Q2===null?Q2=function(){return 268435456+Math.round(2147483648*Math.random())}():Q2++,"0x"+Q2.toString(16)}var Rse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var M5=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var po="WebChannelConnection",P5=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=vI(),l=this.vo(n,i.toUriEncodedString());mt("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,r).then(u=>(mt("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nl("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=Rse[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=vI();return new Promise((o,a)=>{let l=new lI;l.setWithCredentials(!0),l.listenOnce(uI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case j1.NO_ERROR:let u=l.getResponseJson();mt(po,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case j1.TIMEOUT:mt(po,`RPC '${e}' ${s} timed out`),a(new dt(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case j1.HTTP_ERROR:let d=l.getStatus();if(mt(po,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let h=f?.error;if(h&&h.status&&h.message){let _=function(y){let b=y.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(b)>=0?b:Xe.UNKNOWN}(h.status);a(new dt(_,h.message))}else a(new dt(Xe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new dt(Xe.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{mt(po,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);mt(po,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Oo(e,n,i){let r=vI(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fI(),a=hI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new cI({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let u=s.join("");mt(po,`Creating RPC '${e}' stream ${r}: ${u}`,l);let d=o.createWebChannel(u,l),f=!1,h=!1,_=new M5({lo:y=>{h?mt(po,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(f||(mt(po,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),mt(po,`RPC '${e}' stream ${r} sending:`,y),d.send(y))},ho:()=>d.close()}),g=(y,b,E)=>{y.listen(b,F=>{try{E(F)}catch(U){setTimeout(()=>{throw U},0)}})};return g(d,Wm.EventType.OPEN,()=>{h||(mt(po,`RPC '${e}' stream ${r} transport opened.`),_.mo())}),g(d,Wm.EventType.CLOSE,()=>{h||(h=!0,mt(po,`RPC '${e}' stream ${r} transport closed`),_.po())}),g(d,Wm.EventType.ERROR,y=>{h||(h=!0,Nl(po,`RPC '${e}' stream ${r} transport errored:`,y),_.po(new dt(Xe.UNAVAILABLE,"The operation could not be completed")))}),g(d,Wm.EventType.MESSAGE,y=>{var b;if(!h){let E=y.data[0];sn(!!E);let F=E,U=F.error||((b=F[0])===null||b===void 0?void 0:b.error);if(U){mt(po,`RPC '${e}' stream ${r} received error:`,U);let W=U.status,te=function(L){let N=es[L];if(N!==void 0)return wB(N)}(W),I=U.message;te===void 0&&(te=Xe.INTERNAL,I="Unknown error status: "+W+" with message "+U.message),h=!0,_.po(new dt(te,I)),d.close()}else mt(po,`RPC '${e}' stream ${r} received:`,E),_.yo(E)}}),g(a,dI.STAT_EVENT,y=>{y.stat===q2.PROXY?mt(po,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===q2.NOPROXY&&mt(po,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}};function YB(){return typeof window<"u"?window:null}function nb(){return typeof document<"u"?document:null}function T_(t){return new YI(t,!0)}var p_=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Ob=class{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new p_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return Se(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return Se(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return Se(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Xe.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new dt(Xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>Se(this,null,function*(){this.state=0,this.start()}))}c_(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},F5=class extends Ob{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=wse(this.serializer,e),i=function(s){if(!("targetChange"in s))return ln.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ln.min():o.readTime?Gr(o.readTime):ln.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=ZI(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=fb(l)?{documents:DB(s,l)}:{query:IB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CB(s,o.resumeToken);let c=KI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ln.min())>0){a.readTime=hg(s,o.snapshotVersion.toTimestamp());let c=KI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Cse(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=ZI(this.serializer),n.removeTarget=e,this.i_(n)}},L5=class extends Ob{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=bse(e.writeResults,e.commitTime),i=Gr(e.commitTime);return this.listener.A_(i,n)}return sn(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=ZI(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>u_(this.serializer,i))};this.i_(n)}};var N5=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new dt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,QI(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(Xe.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,QI(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(Xe.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},O5=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zr(n),this.y_=!1):mt("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var R5=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>Se(this,null,function*(){hf(this)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield function(l){return Se(this,null,function*(){let c=Ut(l);c.M_.add(4),yield Sg(c),c.N_.set("Unknown"),c.M_.delete(4),yield S_(c)})}(this))}))}),this.N_=new O5(i,r)}};function S_(t){return Se(this,null,function*(){if(hf(t))for(let e of t.x_)yield e(!0)})}function Sg(t){return Se(this,null,function*(){for(let e of t.x_)yield e(!1)})}function tC(t,e){let n=Ut(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),DM(n)?kM(n):Ag(n).Xo()&&AM(n,e))}function vg(t,e){let n=Ut(t),i=Ag(n);n.F_.delete(e),i.Xo()&&KB(n,e),n.F_.size===0&&(i.Xo()?i.n_():hf(n)&&n.N_.set("Unknown"))}function AM(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ln.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ag(t).P_(e)}function KB(t,e){t.L_.xe(e),Ag(t).I_(e)}function kM(t){t.L_=new XI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ag(t).start(),t.N_.w_()}function DM(t){return hf(t)&&!Ag(t).Zo()&&t.F_.size>0}function hf(t){return Ut(t).M_.size===0}function QB(t){t.L_=void 0}function Vse(t){return Se(this,null,function*(){t.N_.set("Online")})}function Bse(t){return Se(this,null,function*(){t.F_.forEach((e,n)=>{AM(t,e)})})}function jse(t,e){return Se(this,null,function*(){QB(t),DM(t)?(t.N_.D_(e),kM(t)):t.N_.set("Unknown")})}function Use(t,e,n){return Se(this,null,function*(){if(t.N_.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{yield function(r,s){return Se(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Rb(t,i)}else if(e instanceof sg?t.L_.Ke(e):e instanceof gb?t.L_.He(e):t.L_.We(e),!n.isEqual(ln.min()))try{let i=yield $B(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(Fs.EMPTY_BYTE_STRING,u.snapshotVersion)),KB(s,l);let d=new fg(u.target,l,c,u.sequenceNumber);AM(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){mt("RemoteStore","Failed to raise snapshot:",i),yield Rb(t,i)}})}function Rb(t,e,n){return Se(this,null,function*(){if(!df(e))throw e;t.M_.add(1),yield Sg(t),t.N_.set("Offline"),n||(n=()=>$B(t.localStore)),t.asyncQueue.enqueueRetryable(()=>Se(this,null,function*(){mt("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield S_(t)}))})}function ZB(t,e){return e().catch(n=>Rb(t,n,e))}function Eg(t){return Se(this,null,function*(){let e=Ut(t),n=cf(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Hse(e);)try{let r=yield Lse(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,zse(e,r)}catch(r){yield Rb(e,r)}JB(e)&&e7(e)})}function Hse(t){return hf(t)&&t.v_.length<10}function zse(t,e){t.v_.push(e);let n=cf(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function JB(t){return hf(t)&&!cf(t).Zo()&&t.v_.length>0}function e7(t){cf(t).start()}function $se(t){return Se(this,null,function*(){cf(t).V_()})}function Gse(t){return Se(this,null,function*(){let e=cf(t);for(let n of t.v_)e.d_(n.mutations)})}function Wse(t,e,n){return Se(this,null,function*(){let i=t.v_.shift(),r=GI.from(i,e,n);yield ZB(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Eg(t)})}function qse(t,e){return Se(this,null,function*(){e&&cf(t).E_&&(yield function(i,r){return Se(this,null,function*(){if(function(o){return xB(o)&&o!==Xe.ABORTED}(r.code)){let s=i.v_.shift();cf(i).t_(),yield ZB(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Eg(i)}})}(t,e)),JB(t)&&e7(t)})}function EV(t,e){return Se(this,null,function*(){let n=Ut(t);n.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");let i=hf(n);n.M_.add(3),yield Sg(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield S_(n)})}function V5(t,e){return Se(this,null,function*(){let n=Ut(t);e?(n.M_.delete(2),yield S_(n)):e||(n.M_.add(2),yield Sg(n),n.N_.set("Unknown"))})}function Ag(t){return t.B_||(t.B_=function(n,i,r){let s=Ut(n);return s.f_(),new F5(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:Vse.bind(null,t),To:Bse.bind(null,t),Ao:jse.bind(null,t),h_:Use.bind(null,t)}),t.x_.push(e=>Se(this,null,function*(){e?(t.B_.t_(),DM(t)?kM(t):t.N_.set("Unknown")):(yield t.B_.stop(),QB(t))}))),t.B_}function cf(t){return t.k_||(t.k_=function(n,i,r){let s=Ut(n);return s.f_(),new L5(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:$se.bind(null,t),Ao:qse.bind(null,t),R_:Gse.bind(null,t),A_:Wse.bind(null,t)}),t.x_.push(e=>Se(this,null,function*(){e?(t.k_.t_(),yield Eg(t)):(yield t.k_.stop(),t.v_.length>0&&(mt("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var B5=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kg(t,e){if(zr("AsyncQueue",`${e}: ${t}`),df(t))return new dt(Xe.UNAVAILABLE,`${e}: ${t}`);throw t}var Vb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Rt.comparator(n.key,i.key):(n,i)=>Rt.comparator(n.key,i.key),this.keyedMap=G1(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Bb=class{constructor(){this.q_=new gr(Rt.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Gt():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},_g=class t{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Vb.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var j5=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},U5=class{constructor(){this.queries=new Tu(e=>sB(e),b_),this.onlineState="Unknown",this.z_=new Set}};function IM(t,e){return Se(this,null,function*(){let n=Ut(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new j5,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=kg(o,`Initialization of query '${Zm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&PM(n)})}function MM(t,e){return Se(this,null,function*(){let n=Ut(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function Xse(t,e){let n=Ut(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&PM(n)}function Yse(t,e,n){let i=Ut(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function PM(t){t.z_.forEach(e=>{e.next()})}var H5,AV;(AV=H5||(H5={})).J_="default",AV.Cache="cache";var m_=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new _g(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=_g.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==H5.Cache}};var z5=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var jb=class{constructor(e){this.serializer=e}Ps(e){return xu(this.serializer,e)}Is(e){return e.metadata.exists?kB(this.serializer,e.document,!1):rs.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Gr(e)}},$5=class{constructor(e,n,i){this.oa=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t7(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let i=li.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,i=new jb(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Ps(r.metadata.name);for(let o of r.metadata.queries){let a=(n.get(o)||jn()).add(s);n.set(o,a)}}return n}complete(){return Se(this,null,function*(){let e=yield Nse(this.localStore,new jb(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let i of this.queries)yield Ose(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function t7(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Ub=class{constructor(e){this.key=e}},Hb=class{constructor(e){this.key=e}},zb=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=jn(),this.mutatedKeys=jn(),this.Ia=aB(e),this.Ta=new Vb(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new Bb,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let f=r.get(u),h=C_(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations),y=!1;f&&h?f.data.isEqual(h.data)?_!==g&&(i.track({type:3,doc:h}),y=!0):this.Ra(f,h)||(i.track({type:2,doc:h}),y=!0,(l&&this.Ia(h,l)>0||c&&this.Ia(h,c)<0)&&(a=!0)):!f&&h?(i.track({type:0,doc:h}),y=!0):f&&!h&&(i.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((u,d)=>function(h,_){let g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return g(h)-g(_)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new _g(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Bb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=jn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new Hb(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new Ub(i))}),n}pa(e){this.la=e.hs,this.Pa=jn();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return _g.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},G5=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},W5=class{constructor(e){this.key=e,this.wa=!1}},q5=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Tu(a=>sB(a),b_),this.Da=new Map,this.Ca=new Set,this.va=new gr(Rt.comparator),this.Fa=new Map,this.Ma=new h_,this.xa={},this.Oa=new Map,this.Na=pg.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function Kse(t,e,n=!0){return Se(this,null,function*(){let i=nC(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield n7(i,e,n,!0),r})}function Qse(t,e){return Se(this,null,function*(){let n=nC(t);yield n7(n,e,!0,!1)})}function n7(t,e,n,i){return Se(this,null,function*(){let r=yield mg(t.localStore,Go(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield FM(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&tC(t.remoteStore,r),a})}function FM(t,e,n,i,r){return Se(this,null,function*(){t.Ba=(d,f,h)=>function(g,y,b,E){return Se(this,null,function*(){let F=y.view.da(b);F.Xi&&(F=yield Mb(g.localStore,y.query,!1).then(({documents:I})=>y.view.da(I,F)));let U=E&&E.targetChanges.get(y.targetId),W=E&&E.targetMismatches.get(y.targetId)!=null,te=y.view.applyChanges(F,g.isPrimaryClient,U,W);return X5(g,y.targetId,te.fa),te.snapshot})}(t,d,f,h);let s=yield Mb(t.localStore,e,!0),o=new zb(e,s.hs),a=o.da(s.documents),l=l_.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);X5(t,n,c.fa);let u=new G5(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot})}function Zse(t,e,n){return Se(this,null,function*(){let i=Ut(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!b_(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&vg(i.remoteStore,r.targetId),yg(i,r.targetId)}).catch(uf))):(yg(i,r.targetId),yield gg(i.localStore,r.targetId,!0))})}function Jse(t,e){return Se(this,null,function*(){let n=Ut(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vg(n.remoteStore,i.targetId))})}function eoe(t,e,n){return Se(this,null,function*(){let i=RM(t);try{let r=yield function(o,a){let l=Ut(o),c=Er.now(),u=a.reduce((h,_)=>h.add(_.key),jn()),d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let _=xa(),g=jn();return l.os.getEntries(h,u).next(y=>{_=y,_.forEach((b,E)=>{E.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,_)).next(y=>{d=y;let b=[];for(let E of a){let F=pse(E,d.get(E.key).overlayedDocument);F!=null&&b.push(new Cc(E.key,F,ZV(F.value.mapValue),Pr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,b,a)}).next(y=>{f=y;let b=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(h,y.batchId,b)})}).then(()=>({batchId:f.batchId,changes:cB(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new gr(Nn)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,n),yield Fd(i,r.changes),yield Eg(i.remoteStore)}catch(r){let s=kg(r,"Failed to persist write");n.reject(s)}})}function i7(t,e){return Se(this,null,function*(){let n=Ut(t);try{let i=yield Fse(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(sn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?sn(o.wa):r.removedDocuments.size>0&&(sn(o.wa),o.wa=!1))}),yield Fd(n,i,e)}catch(i){yield uf(i)}})}function kV(t,e,n){let i=Ut(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=Ut(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(let f of d.U_)f.j_(a)&&(c=!0)}),c&&PM(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function toe(t,e,n){return Se(this,null,function*(){let i=Ut(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new gr(Rt.comparator);o=o.insert(s,rs.newNoDocument(s,ln.min()));let a=jn().add(s),l=new a_(ln.min(),new Map,new gr(Nn),o,a);yield i7(i,l),i.va=i.va.remove(s),i.Fa.delete(e),OM(i)}else yield gg(i.localStore,e,!1).then(()=>yg(i,e,n)).catch(uf)})}function noe(t,e){return Se(this,null,function*(){let n=Ut(t),i=e.batch.batchId;try{let r=yield Pse(n.localStore,e);NM(n,i,null),LM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Fd(n,r)}catch(r){yield uf(r)}})}function ioe(t,e,n){return Se(this,null,function*(){let i=Ut(t);try{let r=yield function(o,a){let l=Ut(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(sn(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);NM(i,e,n),LM(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Fd(i,r)}catch(r){yield uf(r)}})}function roe(t,e){return Se(this,null,function*(){let n=Ut(t);hf(n.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=Ut(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Oa.get(i)||[];r.push(e),n.Oa.set(i,r)}catch(i){let r=kg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function LM(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function NM(t,e,n){let i=Ut(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||r7(t,i)})}function r7(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(vg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),OM(t))}function X5(t,e,n){for(let i of n)i instanceof Ub?(t.Ma.addReference(i.key,e),soe(t,i)):i instanceof Hb?(mt("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||r7(t,i.key)):Gt()}function soe(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(mt("SyncEngine","New document in limbo: "+n),t.Ca.add(i),OM(t))}function OM(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Rt(li.fromString(e)),i=t.Na.next();t.Fa.set(i,new W5(n)),t.va=t.va.insert(n,i),tC(t.remoteStore,new fg(Go(Tg(n.path)),i,"TargetPurposeLimboResolution",Ka.oe))}}function Fd(t,e,n){return Se(this,null,function*(){let i=Ut(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(c=>{var u;if((c||n)&&i.isPrimaryClient){let d=c?!c.fromCache:(u=n?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);let d=E5.Ki(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(l,c){return Se(this,null,function*(){let u=Ut(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>qe.forEach(c,f=>qe.forEach(f.qi,h=>u.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>qe.forEach(f.Qi,h=>u.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!df(d))throw d;mt("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let f=d.targetId;if(!d.fromCache){let h=u.ns.get(f),_=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(_);u.ns=u.ns.insert(f,g)}}})}(i.localStore,s))})}function ooe(t,e){return Se(this,null,function*(){let n=Ut(t);if(!n.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());let i=yield zB(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new dt(Xe.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fd(n,i.us)}})}function aoe(t,e){let n=Ut(t),i=n.Fa.get(e);if(i&&i.wa)return jn().add(i.key);{let r=jn(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function loe(t,e){return Se(this,null,function*(){let n=Ut(t),i=yield Mb(n.localStore,e.query,!0),r=e.view.pa(i);return n.isPrimaryClient&&X5(n,e.targetId,r.fa),r})}function coe(t,e){return Se(this,null,function*(){let n=Ut(t);return qB(n.localStore,e).then(i=>Fd(n,i))})}function uoe(t,e,n,i){return Se(this,null,function*(){let r=Ut(t),s=yield function(a,l){let c=Ut(a),u=Ut(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.vn(d,l).next(f=>f?c.localDocuments.getDocuments(d,f):qe.resolve(null)))}(r.localStore,e);s!==null?(n==="pending"?yield Eg(r.remoteStore):n==="acknowledged"||n==="rejected"?(NM(r,e,i||null),LM(r,e),function(a,l){Ut(Ut(a).mutationQueue).Mn(l)}(r.localStore,e)):Gt(),yield Fd(r,s)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)})}function doe(t,e){return Se(this,null,function*(){let n=Ut(t);if(nC(n),RM(n),e===!0&&n.La!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield DV(n,i.toArray());n.La=!0,yield V5(n.remoteStore,!0);for(let s of r)tC(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let i=[],r=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(yg(n,o),gg(n.localStore,o,!0))),vg(n.remoteStore,o)}),yield r,yield DV(n,i),function(o){let a=Ut(o);a.Fa.forEach((l,c)=>{vg(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new gr(Rt.comparator)}(n),n.La=!1,yield V5(n.remoteStore,!1)}})}function DV(t,e,n){return Se(this,null,function*(){let i=Ut(t),r=[],s=[];for(let o of e){let a,l=i.Da.get(o);if(l&&l.length!==0){a=yield mg(i.localStore,Go(l[0]));for(let c of l){let u=i.ba.get(c),d=yield loe(i,u);d.snapshot&&s.push(d.snapshot)}}else{let c=yield WB(i.localStore,o);a=yield mg(i.localStore,c),yield FM(i,s7(c),o,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(s),r})}function s7(t){return rB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hoe(t){return function(n){return Ut(Ut(n).persistence).Bi()}(Ut(t).localStore)}function foe(t,e,n,i){return Se(this,null,function*(){let r=Ut(t);if(r.La)return void mt("SyncEngine","Ignoring unexpected query state notification.");let s=r.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield qB(r.localStore,oB(s[0])),a=a_.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Fs.EMPTY_BYTE_STRING);yield Fd(r,o,a);break}case"rejected":yield gg(r.localStore,e,!0),yg(r,e,i);break;default:Gt()}})}function poe(t,e,n){return Se(this,null,function*(){let i=nC(t);if(i.La){for(let r of e){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){mt("SyncEngine","Adding an already active target "+r);continue}let s=yield WB(i.localStore,r),o=yield mg(i.localStore,s);yield FM(i,s7(s),o.targetId,!1,o.resumeToken),tC(i.remoteStore,o)}for(let r of n)i.Da.has(r)&&(yield gg(i.localStore,r,!1).then(()=>{vg(i.remoteStore,r),yg(i,r)}).catch(uf))}})}function nC(t){let e=Ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=toe.bind(null,e),e.Sa.h_=Xse.bind(null,e.eventManager),e.Sa.ka=Yse.bind(null,e.eventManager),e}function RM(t){let e=Ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=noe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ioe.bind(null,e),e}function moe(t,e,n){let i=Ut(t);(function(s,o,a){return Se(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(h,_){let g=Ut(h),y=Gr(_.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",b=>g.$r.getBundleMetadata(b,_.id)).then(b=>!!b&&b.createTime.compareTo(y)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(t7(l));let c=new $5(l,s.localStore,o.serializer),u=yield o.qa();for(;u;){let f=yield c._a(u);f&&a._updateProgress(f),u=yield o.qa()}let d=yield c.complete();return yield Fd(s,d.ca,void 0),yield function(h,_){let g=Ut(h);return g.persistence.runTransaction("Save bundle","readwrite",y=>g.$r.saveBundleMetadata(y,_))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.ua)}catch(l){return Nl("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var g_=class{constructor(){this.synchronizeTabs=!1}initialize(e){return Se(this,null,function*(){this.serializer=T_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HB(this.persistence,new Ib,e.initialUser,this.serializer)}createPersistence(e){return new kb(Db.Hr,this.serializer)}createSharedClientState(e){return new Lb}terminate(){return Se(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var $b=class t extends g_{constructor(e,n,i){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return Se(this,null,function*(){yield VS(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield RM(this.Qa.syncEngine),yield Eg(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return HB(this.persistence,new Ib,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new d5(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new DI(n,this.persistence);return new kI(e.asyncQueue,i)}createPersistence(e){let n=EM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ll.withCacheSize(this.cacheSizeBytes):Ll.DEFAULT;return new S5(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,YB(),nb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lb}},Y5=class t extends $b{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return Se(this,null,function*(){yield VS(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Q1&&(this.sharedClientState.syncEngine={Zs:uoe.bind(null,n),Xs:foe.bind(null,n),eo:poe.bind(null,n),Bi:hoe.bind(null,n),Ys:coe.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>Se(this,null,function*(){yield doe(this.Qa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=YB();if(!Q1.D(n))throw new dt(Xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=EM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q1(n,e.asyncQueue,i,e.clientId,e.initialUser)}},v_=class{initialize(e,n){return Se(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kV(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ooe.bind(null,this.syncEngine),yield V5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new U5}()}createDatastore(e){let n=T_(e.databaseInfo.databaseId),i=function(s){return new P5(s)}(e.databaseInfo);return function(s,o,a,l){return new N5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new R5(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kV(this.syncEngine,n,0),function(){return Nb.D()?new Nb:new I5}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){let d=new q5(r,s,o,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return Se(this,null,function*(){var e;yield function(i){return Se(this,null,function*(){let r=Ut(i);mt("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Sg(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function IV(t,e=10240){let n=0;return{read(){return Se(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return Se(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var xg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var K5=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new is,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){return Se(this,null,function*(){return this.metadata.promise})}qa(){return Se(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return Se(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),i=Number(n);isNaN(i)&&this.ja(`length string (${n}) is not valid number`);let r=yield this.Ha(i);return new z5(JSON.parse(r),e.length+i)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return Se(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return Se(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return Se(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var Q5=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return Se(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new dt(Xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,s){return Se(this,null,function*(){let o=Ut(r),a={documents:s.map(d=>c_(o.serializer,d))},l=yield o.xo("BatchGetDocuments",o.serializer.databaseId,li.emptyPath(),a,s.length),c=new Map;l.forEach(d=>{let f=xse(o.serializer,d);c.set(f.key.toString(),f)});let u=[];return s.forEach(d=>{let f=c.get(d.toString());sn(!!f),u.push(f)}),u})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return Se(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=Rt.fromPath(i);this.mutations.push(new r_(r,this.precondition(r)))}),yield function(i,r){return Se(this,null,function*(){let s=Ut(i),o={writes:r.map(a=>u_(s.serializer,a))};yield s.Co("Commit",s.serializer.databaseId,li.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Gt();n=ln.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new dt(Xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ln.min())?Pr.exists(!1):Pr.updateTime(n):Pr.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ln.min()))throw new dt(Xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pr.updateTime(n)}return Pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Z5=class{constructor(e,n,i,r,s){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this.Za=i.maxAttempts,this.Yo=new p_(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>Se(this,null,function*(){let e=new Q5(this.datastore),n=this.tu(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.nu(r)}))}).catch(i=>{this.nu(i)})}))}tu(e){try{let n=this.updateFunction(e);return!x_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!xB(n)}return!1}};var J5=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>Se(this,null,function*(){mt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(mt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>Se(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=kg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function ib(t,e){return Se(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>Se(this,null,function*(){i.isEqual(r)||(yield zB(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eM(t,e){return Se(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield VM(t);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>EV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>EV(e.remoteStore,r)),t._onlineComponents=e})}function o7(t){return t.name==="FirebaseError"?t.code===Xe.FAILED_PRECONDITION||t.code===Xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function VM(t){return Se(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ib(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!o7(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),yield ib(t,new g_)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield ib(t,new g_);return t._offlineComponents})}function iC(t){return Se(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield eM(t,t._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield eM(t,new v_))),t._onlineComponents})}function a7(t){return VM(t).then(e=>e.persistence)}function BM(t){return VM(t).then(e=>e.localStore)}function l7(t){return iC(t).then(e=>e.remoteStore)}function jM(t){return iC(t).then(e=>e.syncEngine)}function goe(t){return iC(t).then(e=>e.datastore)}function wg(t){return Se(this,null,function*(){let e=yield iC(t),n=e.eventManager;return n.onListen=Kse.bind(null,e.syncEngine),n.onUnlisten=Zse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jse.bind(null,e.syncEngine),n})}function voe(t){return t.asyncQueue.enqueue(()=>Se(this,null,function*(){let e=yield a7(t),n=yield l7(t);return e.setNetworkEnabled(!0),function(r){let s=Ut(r);return s.M_.delete(0),S_(s)}(n)}))}function _oe(t){return t.asyncQueue.enqueue(()=>Se(this,null,function*(){let e=yield a7(t),n=yield l7(t);return e.setNetworkEnabled(!1),function(r){return Se(this,null,function*(){let s=Ut(r);s.M_.add(0),yield Sg(s),s.N_.set("Offline")})}(n)}))}function yoe(t,e){let n=new is;return t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(r,s,o){return Se(this,null,function*(){try{let a=yield function(c,u){let d=Ut(c);return d.persistence.runTransaction("read document","readonly",f=>d.localDocuments.getDocument(f,u))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new dt(Xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=kg(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield BM(t),e,n)})),n.promise}function c7(t,e,n={}){let i=new is;return t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(s,o,a,l,c){let u=new xg({next:f=>{o.enqueueAndForget(()=>MM(s,d));let h=f.docs.has(a);!h&&f.fromCache?c.reject(new dt(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?c.reject(new dt(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new m_(Tg(a.path),u,{includeMetadataChanges:!0,ra:!0});return IM(s,d)}(yield wg(t),t.asyncQueue,e,n,i)})),i.promise}function xoe(t,e){let n=new is;return t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(r,s,o){return Se(this,null,function*(){try{let a=yield Mb(r,s,!0),l=new zb(s,a.hs),c=l.da(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){let l=kg(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield BM(t),e,n)})),n.promise}function u7(t,e,n={}){let i=new is;return t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(s,o,a,l,c){let u=new xg({next:f=>{o.enqueueAndForget(()=>MM(s,d)),f.fromCache&&l.source==="server"?c.reject(new dt(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new m_(a,u,{includeMetadataChanges:!0,ra:!0});return IM(s,d)}(yield wg(t),t.asyncQueue,e,n,i)})),i.promise}function woe(t,e){let n=new xg(e);return t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(r,s){Ut(r).z_.add(s),s.next()}(yield wg(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return function(r,s){Ut(r).z_.delete(s)}(yield wg(t),n)}))}}function boe(t,e,n,i){let r=function(o,a){let l;return l=typeof o=="string"?bB().encode(o):o,function(u,d){return new K5(u,d)}(function(u,d){if(u instanceof Uint8Array)return IV(u,d);if(u instanceof ArrayBuffer)return IV(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,T_(e));t.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){moe(yield jM(t),r,i)}))}function Coe(t,e){return t.asyncQueue.enqueue(()=>Se(this,null,function*(){return function(i,r){let s=Ut(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,r))}(yield BM(t),e)}))}function d7(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var MV=new Map;function UM(t,e,n){if(!n)throw new dt(Xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HM(t,e,n,i){if(e===!0&&i===!0)throw new dt(Xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PV(t){if(!Rt.isDocumentKey(t))throw new dt(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FV(t){if(Rt.isDocumentKey(t))throw new dt(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Gt()}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=rC(t);throw new dt(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h7(t,e){if(e<=0)throw new dt(Xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Gb=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new dt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d7((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jp=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new dt(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _I;switch(i.type){case"firstParty":return new bI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new dt(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=MV.get(n);i&&(mt("ComponentProvider","Removing Datastore"),MV.delete(n),i.terminate())}(this),Promise.resolve()}};function f7(t,e,n,i={}){var r;let s=(t=ci(t,jp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=ns.MOCK_USER;else{a=ix(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new dt(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ns(c)}t._authCredentials=new yI(new rb(a,l))}}var Xs=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},fr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},wu=class t extends Xs{constructor(e,n,i){super(e,n,Tg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Rt(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function zM(t,e,...n){if(t=vi(t),UM("collection","path",e),t instanceof jp){let i=li.fromString(e,...n);return FV(i),new wu(t,null,i)}{if(!(t instanceof fr||t instanceof wu))throw new dt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(li.fromString(e,...n));return FV(i),new wu(t.firestore,null,i)}}function p7(t,e){if(t=ci(t,jp),UM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(Xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(t,null,function(i){return new bc(li.emptyPath(),i)}(e))}function E_(t,e,...n){if(t=vi(t),arguments.length===1&&(e=sb.newId()),UM("doc","path",e),t instanceof jp){let i=li.fromString(e,...n);return PV(i),new fr(t,null,new Rt(i))}{if(!(t instanceof fr||t instanceof wu))throw new dt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(li.fromString(e,...n));return PV(i),new fr(t.firestore,t instanceof wu?t.converter:null,new Rt(i))}}function $M(t,e){return t=vi(t),e=vi(e),(t instanceof fr||t instanceof wu)&&(e instanceof fr||e instanceof wu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function GM(t,e){return t=vi(t),e=vi(e),t instanceof Xs&&e instanceof Xs&&t.firestore===e.firestore&&b_(t._query,e._query)&&t.converter===e.converter}var tM=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new p_(this,"async_queue_retry"),this.hu=()=>{let n=nb();n&&mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=nb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=nb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new is;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return Se(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!df(e))throw e;mt("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw zr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=B5.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&Gt()}verifyOperationInProgress(){}du(){return Se(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function nM(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var iM=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var m7=-1,wr=class extends jp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new tM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||g7(this),this._firestoreClient.terminate()}};function hs(t){return t._firestoreClient||g7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function g7(t){var e,n,i;let r=t._freezeSettings(),s=function(a,l,c,u){return new II(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,d7(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new J5(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function v7(t,e){E7(t=ci(t,wr));let n=hs(t);if(n._uninitializedComponentsProvider)throw new dt(Xe.FAILED_PRECONDITION,"SDK cache is already specified.");Nl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new v_;return y7(n,r,new $b(r,i.cacheSizeBytes,e?.forceOwnership))}function _7(t){E7(t=ci(t,wr));let e=hs(t);if(e._uninitializedComponentsProvider)throw new dt(Xe.FAILED_PRECONDITION,"SDK cache is already specified.");Nl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new v_;return y7(e,i,new Y5(i,n.cacheSizeBytes))}function y7(t,e,n){let i=new is;return t.asyncQueue.enqueue(()=>Se(this,null,function*(){try{yield ib(t,n),yield eM(t,e),i.resolve()}catch(r){let s=r;if(!o7(s))throw s;Nl("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function x7(t){if(t._initialized&&!t._terminated)throw new dt(Xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new is;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>Se(this,null,function*(){try{yield function(i){return Se(this,null,function*(){if(!ef.D())return Promise.resolve();let r=i+"main";yield ef.delete(r)})}(EM(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function w7(t){return function(n){let i=new is;return n.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return roe(yield jM(n),i)})),i.promise}(hs(t=ci(t,wr)))}function b7(t){return voe(hs(t=ci(t,wr)))}function C7(t){return _oe(hs(t=ci(t,wr)))}function T7(t,e){let n=hs(t=ci(t,wr)),i=new iM;return boe(n,t._databaseId,e,i),i}function S7(t,e){return Coe(hs(t=ci(t,wr)),e).then(n=>n?new Xs(t,null,n.query):null)}function E7(t){if(t._initialized||t._terminated)throw new dt(Xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Su=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Fs.fromBase64String(e))}catch(n){throw new dt(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new dt(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Md=class{constructor(e){this._methodName=e}};var Up=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dt(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dt(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}};var Toe=/^__.*__$/,rM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Cc(e,this.data,this.fieldMask,n,this.fieldTransforms):new af(e,this.data,n,this.fieldTransforms)}},Wb=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Cc(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function A7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}var qb=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Xb(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(A7(this.fu)&&Toe.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},sM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||T_(e)}Fu(e,n,i,r=!1){return new qb({fu:e,methodName:n,vu:i,path:$r.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Gp(t){let e=t._freezeSettings(),n=T_(t._databaseId);return new sM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sC(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);XM("Data must be an object, but it was:",o,i);let a=I7(i,o),l,c;if(s.merge)l=new Qa(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let f=uM(e,d,n);if(!o.contains(f))throw new dt(Xe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);P7(u,f)||u.push(f)}l=new Qa(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new rM(new mo(a),l,c)}var __=class t extends Md{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function k7(t,e,n){return new qb({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var oM=class t extends Md{_toFieldTransform(e){return new Rp(e.path,new sf)}isEqual(e){return e instanceof t}},aM=class t extends Md{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=k7(this,e,!0),i=this.Mu.map(s=>Wp(s,n)),r=new Dd(i);return new Rp(e.path,r)}isEqual(e){return e instanceof t&&US(this.Mu,e.Mu)}},lM=class t extends Md{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=k7(this,e,!0),i=this.Mu.map(s=>Wp(s,n)),r=new Id(i);return new Rp(e.path,r)}isEqual(e){return e instanceof t&&US(this.Mu,e.Mu)}},cM=class t extends Md{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new of(e.serializer,fB(e.serializer,this.xu));return new Rp(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function WM(t,e,n,i){let r=t.Fu(1,e,n);XM("Data must be an object, but it was:",r,i);let s=[],o=mo.empty();$p(i,(l,c)=>{let u=YM(e,l,n);c=vi(c);let d=r.Su(u);if(c instanceof __)s.push(u);else{let f=Wp(c,d);f!=null&&(s.push(u),o.set(u,f))}});let a=new Qa(s);return new Wb(o,a,r.fieldTransforms)}function qM(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[uM(e,i,n)],l=[r];if(s.length%2!=0)throw new dt(Xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(uM(e,s[f])),l.push(s[f+1]);let c=[],u=mo.empty();for(let f=a.length-1;f>=0;--f)if(!P7(c,a[f])){let h=a[f],_=l[f];_=vi(_);let g=o.Su(h);if(_ instanceof __)c.push(h);else{let y=Wp(_,g);y!=null&&(c.push(h),u.set(h,y))}}let d=new Qa(c);return new Wb(u,d,o.fieldTransforms)}function D7(t,e,n,i=!1){return Wp(n,t.Fu(i?4:3,e))}function Wp(t,e){if(M7(t=vi(t)))return XM("Unsupported field value:",e,t),I7(t,e);if(t instanceof Md)return function(i,r){if(!A7(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=Wp(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=vi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fB(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Er.fromDate(i);return{timestampValue:hg(r.serializer,s)}}if(i instanceof Er){let s=new Er(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hg(r.serializer,s)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Su)return{bytesValue:CB(r.serializer,i._byteString)};if(i instanceof fr){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:CM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${rC(i)}`)}(t,e)}function I7(t,e){let n={};return YV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$p(t,(i,r)=>{let s=Wp(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function M7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof Up||t instanceof Su||t instanceof fr||t instanceof Md)}function XM(t,e,n){if(!M7(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=rC(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function uM(t,e,n){if((e=vi(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return YM(t,e);throw Xb("Field path arguments must be of type string or ",t,!1,void 0,n)}var Soe=new RegExp("[~\\*/\\[\\]]");function YM(t,e,n){if(e.search(Soe)>=0)throw Xb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw Xb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xb(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new dt(Xe.INVALID_ARGUMENT,a+t+l)}function P7(t,e){return t.some(n=>n.isEqual(e))}var Hp=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(oC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dM=class extends Hp{data(){return super.data()}};function oC(t,e){return typeof e=="string"?YM(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function F7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var y_=class{},zp=class extends y_{};function Ld(t,e,...n){let i=[];e instanceof y_&&i.push(e),i=i.concat(n),function(s){let o=s.filter(l=>l instanceof hM).length,a=s.filter(l=>l instanceof Yb).length;if(o>1||o>0&&a>0)throw new dt(Xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Yb=class t extends zp{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return z7(e._query,n),new Xs(e.firestore,e.converter,zI(e._query,n))}_parse(e){let n=Gp(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new dt(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){NV(d,u);let h=[];for(let _ of d)h.push(LV(l,s,_));f={arrayValue:{values:h}}}else f=LV(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||NV(d,u),f=D7(a,o,d,u==="in"||u==="not-in");return si.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function L7(t,e,n){let i=e,r=oC("where",t);return Yb._create(r,i,n)}var hM=class t extends y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)z7(o,l),o=zI(o,l)}(e._query,n),new Xs(e.firestore,e.converter,zI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fM=class t extends zp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new dt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new dt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Np(s,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new bc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function N7(t,e="asc"){let n=e,i=oC("orderBy",t);return fM._create(i,n)}var Kb=class t extends zp{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new Xs(e.firestore,e.converter,mb(e._query,this._limit,this._limitType))}};function O7(t){return h7("limit",t),Kb._create("limit",t,"F")}function R7(t){return h7("limitToLast",t),Kb._create("limitToLast",t,"L")}var Qb=class t extends zp{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=H7(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,function(r,s){return new bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}};function V7(...t){return Qb._create("startAt",t,!0)}function B7(...t){return Qb._create("startAfter",t,!1)}var Zb=class t extends zp{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=H7(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,function(r,s){return new bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,n))}};function j7(...t){return Zb._create("endBefore",t,!1)}function U7(...t){return Zb._create("endAt",t,!0)}function H7(t,e,n,i){if(n[0]=vi(n[0]),n[0]instanceof Hp)return function(s,o,a,l,c){if(!l)throw new dt(Xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let d of rg(s))if(d.field.isKeyField())u.push(Lp(o,l.key));else{let f=l.data.field(d.field);if(eC(f))throw new dt(Xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){let h=d.field.canonicalString();throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(f)}return new Cu(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=Gp(t.firestore);return function(o,a,l,c,u,d){let f=o.explicitOrderBy;if(u.length>f.length)throw new dt(Xe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let h=[];for(let _=0;_<u.length;_++){let g=u[_];if(f[_].field.isKeyField()){if(typeof g!="string")throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!wM(o)&&g.indexOf("/")!==-1)throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);let y=o.path.child(li.fromString(g));if(!Rt.isDocumentKey(y))throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);let b=new Rt(y);h.push(Lp(a,b))}else{let y=D7(l,c,g);h.push(y)}}return new Cu(h,d)}(t._query,t.firestore._databaseId,r,e,n,i)}}function LV(t,e,n){if(typeof(n=vi(n))=="string"){if(n==="")throw new dt(Xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&n.indexOf("/")!==-1)throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(li.fromString(n));if(!Rt.isDocumentKey(i))throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lp(t,new Rt(i))}if(n instanceof fr)return Lp(t,n._key);throw new dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rC(n)}.`)}function NV(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z7(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new dt(Xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(Xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var bg=class{convertValue(e,n="none"){switch(Fp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Gt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return $p(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Up(Mr(e.latitude),Mr(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=yM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(t_(e));default:return null}}convertTimestamp(e){let n=kd(e);return new Er(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=li.fromString(e);sn(LB(i));let r=new nf(i.get(1),i.get(3)),s=new Rt(i.popFirst(5));return r.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function aC(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var pM=class extends bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}};var Ad=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rl=class extends Hp{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(oC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Zh=class extends Rl{data(e={}){return super.data(e)}},Sc=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ad(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Zh(this._firestore,this._userDataWriter,i.key,i,new Ad(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Zh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ad(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Zh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ad(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Eoe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Eoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function KM(t,e){return t instanceof Rl&&e instanceof Rl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Sc&&e instanceof Sc&&t._firestore===e._firestore&&GM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function $7(t){t=ci(t,fr);let e=ci(t.firestore,wr);return c7(hs(e),t._key).then(n=>eP(e,t,n))}var Pd=class extends bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}};function G7(t){t=ci(t,fr);let e=ci(t.firestore,wr),n=hs(e),i=new Pd(e);return yoe(n,t._key).then(r=>new Rl(e,i,t._key,r,new Ad(r!==null&&r.hasLocalMutations,!0),t.converter))}function W7(t){t=ci(t,fr);let e=ci(t.firestore,wr);return c7(hs(e),t._key,{source:"server"}).then(n=>eP(e,t,n))}function q7(t){t=ci(t,Xs);let e=ci(t.firestore,wr),n=hs(e),i=new Pd(e);return F7(t._query),u7(n,t._query).then(r=>new Sc(e,i,t,r))}function X7(t){t=ci(t,Xs);let e=ci(t.firestore,wr),n=hs(e),i=new Pd(e);return xoe(n,t._query).then(r=>new Sc(e,i,t,r))}function Y7(t){t=ci(t,Xs);let e=ci(t.firestore,wr),n=hs(e),i=new Pd(e);return u7(n,t._query,{source:"server"}).then(r=>new Sc(e,i,t,r))}function QM(t,e,n){t=ci(t,fr);let i=ci(t.firestore,wr),r=aC(t.converter,e,n);return Dg(i,[sC(Gp(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Pr.none())])}function ZM(t,e,n,...i){t=ci(t,fr);let r=ci(t.firestore,wr),s=Gp(r),o;return o=typeof(e=vi(e))=="string"||e instanceof Tc?qM(s,"updateDoc",t._key,e,n,i):WM(s,"updateDoc",t._key,e),Dg(r,[o.toMutation(t._key,Pr.exists(!0))])}function K7(t){return Dg(ci(t.firestore,wr),[new lf(t._key,Pr.none())])}function Q7(t,e){let n=ci(t.firestore,wr),i=E_(t),r=aC(t.converter,e);return Dg(n,[sC(Gp(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Pr.exists(!1))]).then(()=>i)}function JM(t,...e){var n,i,r;t=vi(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nM(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nM(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof fr)c=ci(t.firestore,wr),u=Tg(t._key.path),l={next:d=>{e[o]&&e[o](eP(c,t,d))},error:e[o+1],complete:e[o+2]};else{let d=ci(t,Xs);c=ci(d.firestore,wr),u=d._query;let f=new Pd(c);l={next:h=>{e[o]&&e[o](new Sc(c,f,d,h))},error:e[o+1],complete:e[o+2]},F7(t._query)}return function(f,h,_,g){let y=new xg(g),b=new m_(h,y,_);return f.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return IM(yield wg(f),b)})),()=>{y.$a(),f.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return MM(yield wg(f),b)}))}}(hs(c),u,a,l)}function Z7(t,e){return woe(hs(t=ci(t,wr)),nM(e)?e:{next:e})}function Dg(t,e){return function(i,r){let s=new is;return i.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){return eoe(yield jM(i),r,s)})),s.promise}(hs(t),e)}function eP(t,e,n){let i=n.docs.get(e._key),r=new Pd(t);return new Rl(t,r,e._key,i,new Ad(n.hasPendingWrites,n.fromCache),e.converter)}var Aoe={maxAttempts:5};var Jb=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gp(e)}set(e,n,i){this._verifyNotCommitted();let r=Kh(e,this._firestore),s=aC(r.converter,n,i),o=sC(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Pr.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=Kh(e,this._firestore),o;return o=typeof(n=vi(n))=="string"||n instanceof Tc?qM(this._dataReader,"WriteBatch.update",s._key,n,i,r):WM(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Kh(e,this._firestore);return this._mutations=this._mutations.concat(new lf(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(Xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Kh(t,e){if((t=vi(t)).firestore!==e)throw new dt(Xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mM=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=Gp(n)}get(n){let i=Kh(n,this._firestore),r=new pM(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return Gt();let o=s[0];if(o.isFoundDocument())return new Hp(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Hp(this._firestore,r,i._key,null,i.converter);throw Gt()})}set(n,i,r){let s=Kh(n,this._firestore),o=aC(s.converter,i,r),a=sC(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(n,i,r,...s){let o=Kh(n,this._firestore),a;return a=typeof(i=vi(i))=="string"||i instanceof Tc?qM(this._dataReader,"Transaction.update",o._key,i,r,s):WM(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(n){let i=Kh(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Kh(e,this._firestore),i=new Pd(this._firestore);return super.get(e).then(r=>new Rl(this._firestore,i,n._key,r._document,new Ad(!1,!1),n.converter))}};function J7(t,e,n){t=ci(t,wr);let i=Object.assign(Object.assign({},Aoe),n);return function(s){if(s.maxAttempts<1)throw new dt(Xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new is;return s.asyncQueue.enqueueAndForget(()=>Se(this,null,function*(){let c=yield goe(s);new Z5(s.asyncQueue,c,a,o,l).Xa()})),l.promise}(hs(t),r=>e(new mM(t,r)),i)}function e9(){return new __("deleteField")}function t9(){return new oM("serverTimestamp")}function n9(...t){return new aM("arrayUnion",t)}function i9(...t){return new lM("arrayRemove",t)}function r9(t){return new cM("increment",t)}(function(e,n=!0){(function(r){Cg=r})(ax),$f(new oc("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new wr(new xI(i.getProvider("auth-internal")),new TI(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new dt(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vl(O8,"4.6.4",e),vl(O8,"4.6.4","esm2017")})();var koe="@firebase/firestore-compat",Doe="0.3.33";function oP(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new dt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function s9(){if(typeof Uint8Array>"u")throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function o9(){if(!KV())throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}var lC=class t{constructor(e){this._delegate=e}static fromBase64String(e){return o9(),new t(Su.fromBase64String(e))}static fromUint8Array(e){return s9(),new t(Su.fromUint8Array(e))}toBase64(){return o9(),this._delegate.toBase64()}toUint8Array(){return s9(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function tP(t){return Ioe(t,["next","error","complete"])}function Ioe(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var nP=class{enableIndexedDbPersistence(e,n){return v7(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return _7(e._delegate)}clearIndexedDbPersistence(e){return x7(e._delegate)}},cC=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof nf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Nl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){f7(this._delegate,e,n,i)}enableNetwork(){return b7(this._delegate)}disableNetwork(){return C7(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,HM("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return w7(this._delegate)}onSnapshotsInSync(e){return Z7(this._delegate,e)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pg(this,zM(this._delegate,e))}catch(n){throw Wo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Eu(this,E_(this._delegate,e))}catch(n){throw Wo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Kp(this,p7(this._delegate,e))}catch(n){throw Wo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return J7(this._delegate,n=>e(new uC(this,n)))}batch(){return hs(this._delegate),new dC(new Jb(this._delegate,e=>Dg(this._delegate,e)))}loadBundle(e){return T7(this._delegate,e)}namedQuery(e){return S7(this._delegate,e).then(n=>n?new Kp(this,n):null)}},Ig=class extends bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new lC(new Su(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Eu.forKey(n,this.firestore,null)}};function Moe(t){OV(t)}var uC=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ig(e)}get(e){let n=qp(e);return this._delegate.get(n).then(i=>new Xp(this._firestore,new Rl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=qp(e);return i?(oP("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=qp(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=qp(e);return this._delegate.delete(n),this}},dC=class{constructor(e){this._delegate=e}set(e,n,i){let r=qp(e);return i?(oP("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=qp(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=qp(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Mg=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Zh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yp(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new t(e,new Ig(e),n),r.set(n,s)),s}};Mg.INSTANCES=new WeakMap;var Eu=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ig(e)}static forPath(e,n,i){if(e.length%2!==0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new fr(n._delegate,i,new Rt(e)))}static forKey(e,n,i){return new t(n,new fr(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Pg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pg(this.firestore,zM(this._delegate,e))}catch(n){throw Wo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=vi(e),e instanceof fr?$M(this._delegate,e):!1}set(e,n){n=oP("DocumentReference.set",n);try{return n?QM(this._delegate,e,n):QM(this._delegate,e)}catch(i){throw Wo(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?ZM(this._delegate,e):ZM(this._delegate,e,n,...i)}catch(r){throw Wo(r,"updateDoc()","DocumentReference.update()")}}delete(){return K7(this._delegate)}onSnapshot(...e){let n=a9(e),i=l9(e,r=>new Xp(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JM(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=G7(this._delegate):e?.source==="server"?n=W7(this._delegate):n=$7(this._delegate),n.then(i=>new Xp(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Wo(t,e,n){return t.message=t.message.replace(e,n),t}function a9(t){for(let e of t)if(typeof e=="object"&&!tP(e))return e;return{}}function l9(t,e){var n,i;let r;return tP(t[0])?r=t[0]:tP(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:s=>{r.next&&r.next(e(s))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Xp=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Eu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return KM(this._delegate,e._delegate)}},Yp=class extends Xp{data(e){let n=this._delegate.data(e);return this._delegate._converter||RV(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Kp=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ig(e)}where(e,n,i){try{return new t(this.firestore,Ld(this._delegate,L7(e,n,i)))}catch(r){throw Wo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Ld(this._delegate,N7(e,n)))}catch(i){throw Wo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Ld(this._delegate,O7(e)))}catch(n){throw Wo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Ld(this._delegate,R7(e)))}catch(n){throw Wo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Ld(this._delegate,V7(...e)))}catch(n){throw Wo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Ld(this._delegate,B7(...e)))}catch(n){throw Wo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Ld(this._delegate,j7(...e)))}catch(n){throw Wo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Ld(this._delegate,U7(...e)))}catch(n){throw Wo(n,"endAt()","Query.endAt()")}}isEqual(e){return GM(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=X7(this._delegate):e?.source==="server"?n=Y7(this._delegate):n=q7(this._delegate),n.then(i=>new A_(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=a9(e),i=l9(e,r=>new A_(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JM(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},iP=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Yp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},A_=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Kp(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new iP(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Yp(this._firestore,i))})}isEqual(e){return KM(this._delegate,e._delegate)}},Pg=class t extends Kp{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Eu(this.firestore,e):null}doc(e){try{return e===void 0?new Eu(this.firestore,E_(this._delegate)):new Eu(this.firestore,E_(this._delegate,e))}catch(n){throw Wo(n,"doc()","CollectionReference.doc()")}}add(e){return Q7(this._delegate,e).then(n=>new Eu(this.firestore,n))}isEqual(e){return $M(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Mg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function qp(t){return ci(t,fr)}var rP=class t{constructor(...e){this._delegate=new Tc(...e)}static documentId(){return new t($r.keyField().canonicalString())}isEqual(e){return e=vi(e),e instanceof Tc?this._delegate._internalPath.isEqual(e._internalPath):!1}};var sP=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=t9();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=e9();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=n9(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=i9(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=r9(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Poe={Firestore:cC,GeoPoint:Up,Timestamp:Er,Blob:lC,Transaction:uC,WriteBatch:dC,DocumentReference:Eu,DocumentSnapshot:Xp,Query:Kp,QueryDocumentSnapshot:Yp,QuerySnapshot:A_,CollectionReference:Pg,FieldPath:rP,FieldValue:sP,setLogLevel:Moe,CACHE_SIZE_UNLIMITED:m7};function Foe(t,e){t.INTERNAL.registerComponent(new oc("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Poe)))}function Loe(t){Foe(t,(e,n)=>new cC(e,n,new nP)),t.registerVersion(koe,Doe)}Loe(Ss);function Noe(t,e=_l){return new An(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function c9(t,e){return Noe(t,e)}function Ooe(t,e){return c9(t,e).pipe(Yf(void 0),Rv(),nn(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function cP(t,e){return c9(t,e).pipe(nn(n=>({payload:n,type:"query"})))}var hC=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:s}=p9(i,n);return new pC(r,s,this.afs)}snapshotChanges(){return Ooe(this.ref,this.afs.schedulers.outsideAngular).pipe(Ps)}valueChanges(e={}){return this.snapshotChanges().pipe(nn(({payload:n})=>e.idField?hn(ut({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return qn(this.ref.get(e)).pipe(Ps)}};function fC(t,e){return cP(t,e).pipe(Yf(void 0),Rv(),nn(n=>{let[i,r]=n,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(d=>d.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(d=>d.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function u9(t,e,n){return fC(t,n).pipe(Xf((i,r)=>Roe(i,r.map(s=>s.payload),e),[]),fE(),nn(i=>i.map(r=>({type:r.type,payload:r}))))}function Roe(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=Voe(t,i))}),t}function aP(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function Voe(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return aP(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return aP(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aP(t,e.oldIndex,1);break}return t}function d9(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var pC=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=fC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(nn(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Yf(void 0),Rv(),Es(([i,r])=>r.length>0||!i),nn(([,i])=>i),Ps)}auditTrail(e){return this.stateChanges(e).pipe(Xf((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=d9(e);return u9(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ps)}valueChanges(e={}){return cP(this.query,this.afs.schedulers.outsideAngular).pipe(nn(n=>n.payload.docs.map(i=>e.idField?hn(ut({},i.data()),{[e.idField]:i.id}):i.data())),Ps)}get(e){return qn(this.query.get(e)).pipe(Ps)}add(e){return this.ref.add(e)}doc(e){return new hC(this.ref.doc(e),this.afs)}},lP=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?fC(this.query,this.afs.schedulers.outsideAngular).pipe(Ps):fC(this.query,this.afs.schedulers.outsideAngular).pipe(nn(n=>n.filter(i=>e.indexOf(i.type)>-1)),Es(n=>n.length>0),Ps)}auditTrail(e){return this.stateChanges(e).pipe(Xf((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=d9(e);return u9(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ps)}valueChanges(e={}){return cP(this.query,this.afs.schedulers.outsideAngular).pipe(nn(i=>i.payload.docs.map(r=>e.idField?ut({[e.idField]:r.id},r.data()):r.data())),Ps)}get(e){return qn(this.query.get(e)).pipe(Ps)}},h9=new Nt("angularfire2.enableFirestorePersistence"),f9=new Nt("angularfire2.firestore.persistenceSettings"),Boe=new Nt("angularfire2.firestore.settings"),joe=new Nt("angularfire2.firestore.use-emulator");function p9(t,e=n=>n){return{query:e(t),ref:t}}var k_=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,s,o,a,l,c,u,d,f,h,_,g,y,b,E){this.schedulers=l;let F=Cp(n,a,i),U=u;d&&sI(F,a,f,_,g,y,h,b),[this.firestore,this.persistenceEnabled$]=Gm(`${F.name}.firestore`,"AngularFirestore",F.name,()=>{let W=a.runOutsideAngular(()=>F.firestore());if(s&&W.settings(s),U&&W.useEmulator(...U),r&&!Oh(o)){let te=()=>{try{return qn(W.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(I){return typeof console<"u"&&console.warn(I),Xt(!1)}};return[W,a.runOutsideAngular(te)]}else return[W,Xt(!1)]},[s,U,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:s,query:o}=p9(r,i),a=this.schedulers.ngZone.run(()=>s);return new pC(a,o,this)}collectionGroup(n,i){let r=i||(o=>o),s=this.firestore.collectionGroup(n);return new lP(r(s),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new hC(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(ct($h),ct(Gh,8),ct(h9,8),ct(Boe,8),ct(ks),ct(zn),ct(bp),ct(f9,8),ct(joe,8),ct(Tp,8),ct(JD,8),ct(eI,8),ct(tI,8),ct(nI,8),ct(iI,8),ct(rI,8),ct(gu,8))};static \u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),m9=(()=>{class t{constructor(){Ss.registerVersion("angularfire",Td.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:h9,useValue:!0},{provide:f9,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Vn({type:t});static \u0275inj=Rn({providers:[k_]})}return t})();var S9="firebasestorage.googleapis.com",E9="storageBucket",Uoe=2*60*1e3,Hoe=10*60*1e3,zoe=1e3;var Ar=class t extends sx{constructor(e,n,i=0){super(uP(e),`Firebase Storage: ${n} (${uP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},br=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(br||{});function uP(t){return"storage/"+t}function _P(){let t="An unknown error occurred, please check the error payload for server response.";return new Ar(br.UNKNOWN,t)}function $oe(t){return new Ar(br.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Goe(t){return new Ar(br.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Woe(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ar(br.UNAUTHENTICATED,t)}function qoe(){return new Ar(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xoe(t){return new Ar(br.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A9(){return new Ar(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k9(){return new Ar(br.CANCELED,"User canceled the upload/download.")}function Yoe(t){return new Ar(br.INVALID_URL,"Invalid URL '"+t+"'.")}function Koe(t){return new Ar(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Qoe(){return new Ar(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+E9+"' property when initializing the app?")}function D9(){return new Ar(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zoe(){return new Ar(br.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Joe(){return new Ar(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eae(t){return new Ar(br.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(t){return new Ar(br.INVALID_ARGUMENT,t)}function I9(){return new Ar(br.APP_DELETED,"The Firebase app was deleted.")}function yP(t){return new Ar(br.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function I_(t,e){return new Ar(br.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function D_(t){throw new Ar(br.INTERNAL_ERROR,"Internal error: "+t)}var qo=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw Koe(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(U){U.path_=decodeURIComponent(U.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${r}/o${f}`,"i"),_={bucket:1,path:3},g=n===S9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${g}/${r}/${y}`,"i"),F=[{regex:a,indices:l,postModify:s},{regex:h,indices:_,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let U=0;U<F.length;U++){let W=F[U],te=W.regex.exec(e);if(te){let I=te[W.indices.bucket],T=te[W.indices.path];T||(T=""),i=new t(I,T),W.postModify(i);break}}if(i==null)throw Yoe(e);return i}},hP=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function tae(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,t(h,l())},y)}function f(){s&&clearTimeout(s)}function h(y,...b){if(c){f();return}if(y){f(),u.call(null,y,...b);return}if(l()||o){f(),u.call(null,y,...b);return}i<64&&(i*=2);let F;a===1?(a=2,F=0):F=(i+Math.random())*1e3,d(F)}let _=!1;function g(y){_||(_=!0,f(),!c&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function nae(t){t(!1)}function iae(t){return t!==void 0}function rae(t){return typeof t=="function"}function sae(t){return typeof t=="object"&&!Array.isArray(t)}function vC(t){return typeof t=="string"||t instanceof String}function v9(t){return xP()&&t instanceof Blob}function xP(){return typeof Blob<"u"}function fP(t,e,n,i){if(i<e)throw Qp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Qp(`Invalid value for '${t}'. Expected ${n} or less.`)}function ff(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function M9(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Ng=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ng||{});function P9(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var pP=class{constructor(e,n,i,r,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,_)=>{this.resolve_=h,this.reject_=_,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new Lg(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Ng.NO_ERROR,l=s.getStatus();if(!a||P9(l,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===Ng.ABORT;i(!1,new Lg(!1,null,u));return}let c=this.successCodes_.indexOf(l)!==-1;i(!0,new Lg(c,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());iae(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=_P();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?I9():k9();o(l)}else{let l=A9();o(l)}};this.canceled_?n(!1,new Lg(!1,null,!0)):this.backoffId_=tae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Lg=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function oae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uae(t,e,n,i,r,s,o=!0){let a=M9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return lae(c,e),oae(c,n),aae(c,s),cae(c,i),new pP(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function dae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hae(...t){let e=dae();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(xP())return new Blob(t);throw new Ar(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function pae(t){if(typeof atob>"u")throw eae("base-64");return atob(t)}var Za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M_=class{constructor(e,n){this.data=e,this.contentType=n||null}};function wP(t,e){switch(t){case Za.RAW:return new M_(F9(e));case Za.BASE64:case Za.BASE64URL:return new M_(L9(t,e));case Za.DATA_URL:return new M_(gae(e),vae(e))}throw _P()}function F9(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function mae(t){let e;try{e=decodeURIComponent(t)}catch{throw I_(Za.DATA_URL,"Malformed data URL.")}return F9(e)}function L9(t,e){switch(t){case Za.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw I_(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Za.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw I_(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pae(e)}catch(r){throw r.message.includes("polyfill")?r:I_(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var gC=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw I_(Za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=_ae(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function gae(t){let e=new gC(t);return e.base64?L9(Za.BASE64,e.rest):mae(e.rest)}function vae(t){return new gC(t).contentType}function _ae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Og=class t{constructor(e,n){let i=0,r="";v9(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(v9(this.data_)){let i=this.data_,r=fae(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(xP()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(hae.apply(null,n))}else{let n=e.map(o=>vC(o)?wP(Za.RAW,o).data:o.data_),i=0;n.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new t(r,!0)}}uploadData(){return this.data_}};function bP(t){let e;try{e=JSON.parse(t)}catch{return null}return sae(e)?e:null}function yae(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xae(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function N9(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function wae(t,e){return e}var Ys=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||wae}},mC=null;function bae(t){return!vC(t)||t.length<2?t:N9(t)}function _C(){if(mC)return mC;let t=[];t.push(new Ys("bucket")),t.push(new Ys("generation")),t.push(new Ys("metageneration")),t.push(new Ys("name","fullPath",!0));function e(s,o){return bae(o)}let n=new Ys("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}let r=new Ys("size");return r.xform=i,t.push(r),t.push(new Ys("timeCreated")),t.push(new Ys("updated")),t.push(new Ys("md5Hash",null,!0)),t.push(new Ys("cacheControl",null,!0)),t.push(new Ys("contentDisposition",null,!0)),t.push(new Ys("contentEncoding",null,!0)),t.push(new Ys("contentLanguage",null,!0)),t.push(new Ys("contentType",null,!0)),t.push(new Ys("metadata","customMetadata",!0)),mC=t,mC}function Cae(t,e){function n(){let i=t.bucket,r=t.fullPath,s=new qo(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Tae(t,e,n){let i={};i.type="file";let r=n.length;for(let s=0;s<r;s++){let o=n[s];i[o.local]=o.xform(i,e[o.server])}return Cae(i,t),i}function O9(t,e,n){let i=bP(e);return i===null?null:Tae(t,i,n)}function Sae(t,e,n,i){let r=bP(e);if(r===null||!vC(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),h=ff(f,n,i),_=M9({alt:"media",token:c});return h+_})[0]}function CP(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var _9="prefixes",y9="items";function Eae(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_9])for(let r of n[_9]){let s=r.replace(/\/$/,""),o=t._makeStorageReference(new qo(e,s));i.prefixes.push(o)}if(n[y9])for(let r of n[y9]){let s=t._makeStorageReference(new qo(e,r.name));i.items.push(s)}return i}function Aae(t,e,n){let i=bP(n);return i===null?null:Eae(t,e,i)}var Ec=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ku(t){if(!t)throw _P()}function yC(t,e){function n(i,r){let s=O9(t,r,e);return ku(s!==null),s}return n}function kae(t,e){function n(i,r){let s=Aae(t,e,r);return ku(s!==null),s}return n}function Dae(t,e){function n(i,r){let s=O9(t,r,e);return ku(s!==null),Sae(s,r,t.host,t._protocol)}return n}function Bg(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=qoe():r=Woe():n.getStatus()===402?r=Goe(t.bucket):n.getStatus()===403?r=Xoe(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function xC(t){let e=Bg(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=$oe(t.path)),s.serverResponse=r.serverResponse,s}return n}function R9(t,e,n){let i=e.fullServerUrl(),r=ff(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ec(r,s,yC(t,n),o);return a.errorHandler=xC(e),a}function Iae(t,e,n,i,r){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);let o=e.bucketOnlyServerUrl(),a=ff(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new Ec(a,l,kae(t,e.bucket),c);return u.urlParams=s,u.errorHandler=Bg(e),u}function Mae(t,e,n){let i=e.fullServerUrl(),r=ff(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ec(r,s,Dae(t,n),o);return a.errorHandler=xC(e),a}function Pae(t,e,n,i){let r=e.fullServerUrl(),s=ff(r,t.host,t._protocol),o="PATCH",a=CP(n,i),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,u=new Ec(s,o,yC(t,i),c);return u.headers=l,u.body=a,u.errorHandler=xC(e),u}function Fae(t,e){let n=e.fullServerUrl(),i=ff(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(l,c){}let a=new Ec(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=xC(e),a}function Lae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function V9(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Lae(null,e)),i}function Nae(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let F="";for(let U=0;U<2;U++)F=F+Math.random().toString().slice(2);return F}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=V9(e,i,r),u=CP(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Og.getBlob(d,i,f);if(h===null)throw D9();let _={name:c.fullPath},g=ff(s,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,E=new Ec(g,y,yC(t,n),b);return E.urlParams=_,E.headers=o,E.body=h.uploadData(),E.errorHandler=Bg(e),E}var Rg=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function TP(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ku(!1)}return ku(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Oae(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o=V9(e,i,r),a={name:o.fullPath},l=ff(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=CP(o,n),f=t.maxUploadRetryTime;function h(g){TP(g);let y;try{y=g.getResponseHeader("X-Goog-Upload-URL")}catch{ku(!1)}return ku(vC(y)),y}let _=new Ec(l,c,h,f);return _.urlParams=a,_.headers=u,_.body=d,_.errorHandler=Bg(e),_}function Rae(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function s(c){let u=TP(c,["active","final"]),d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ku(!1)}d||ku(!1);let f=Number(d);return ku(!isNaN(f)),new Rg(f,i.size(),u==="final")}let o="POST",a=t.maxUploadRetryTime,l=new Ec(n,o,s,a);return l.headers=r,l.errorHandler=Bg(e),l}var x9=256*1024;function Vae(t,e,n,i,r,s,o,a){let l=new Rg(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw Zoe();let c=l.total-l.current,u=c;r>0&&(u=Math.min(u,r));let d=l.current,f=d+u,h="";u===0?h="finalize":c===u?h="upload, finalize":h="upload";let _={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},g=i.slice(d,f);if(g===null)throw D9();function y(U,W){let te=TP(U,["active","final"]),I=l.current+u,T=i.size(),L;return te==="final"?L=yC(e,s)(U,W):L=null,new Rg(I,T,te==="final",L)}let b="POST",E=e.maxUploadRetryTime,F=new Ec(n,b,y,E);return F.headers=_,F.body=g.uploadData(),F.progressCallback=a||null,F.errorHandler=Bg(t),F}var B9={STATE_CHANGED:"state_changed"},go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dP(t){switch(t){case"running":case"pausing":case"canceling":return go.RUNNING;case"paused":return go.PAUSED;case"success":return go.SUCCESS;case"canceled":return go.CANCELED;case"error":return go.ERROR;default:return go.ERROR}}var mP=class{constructor(e,n,i){if(rae(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Fg(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var w9=null,gP=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ng.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ng.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ng.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw D_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw D_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw D_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw D_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw D_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},vP=class extends gP{initXhr(){this.xhr_.responseType="text"}};function Au(){return w9?w9():new vP}var P_=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=_C(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(br.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(P9(r.status,[]))if(s)r=A9();else{this.sleepTime=Math.max(this.sleepTime*2,zoe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(br.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=Oae(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Au,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=Rae(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Au,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=x9*this._chunkMultiplier,n=new Rg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=Vae(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,Au,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){x9*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=R9(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Au,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=Nae(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Au,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=k9(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=dP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let s=new mP(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(dP(this._state)){case go.SUCCESS:Fg(this._resolve.bind(null,this.snapshot))();break;case go.CANCELED:case go.ERROR:let n=this._reject;Fg(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dP(this._state)){case go.RUNNING:case go.PAUSED:e.next&&Fg(e.next.bind(e,this.snapshot))();break;case go.SUCCESS:e.complete&&Fg(e.complete.bind(e))();break;case go.CANCELED:case go.ERROR:e.error&&Fg(e.error.bind(e,this._error))();break;default:e.error&&Fg(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Vg=class t{constructor(e,n){this._service=e,n instanceof qo?this._location=n:this._location=qo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new qo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N9(this._location.path)}get storage(){return this._service}get parent(){let e=yae(this._location.path);if(e===null)return null;let n=new qo(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yP(e)}};function Bae(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new P_(t,new Og(e),n)}function jae(t){let e={prefixes:[],items:[]};return j9(t,e).then(()=>e)}function j9(t,e,n){return Se(this,null,function*(){let r=yield U9(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield j9(t,e,r.nextPageToken))})}function U9(t,e){e!=null&&typeof e.maxResults=="number"&&fP("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=Iae(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Au)}function Uae(t){t._throwIfRoot("getMetadata");let e=R9(t.storage,t._location,_C());return t.storage.makeRequestWithTokens(e,Au)}function Hae(t,e){t._throwIfRoot("updateMetadata");let n=Pae(t.storage,t._location,e,_C());return t.storage.makeRequestWithTokens(n,Au)}function zae(t){t._throwIfRoot("getDownloadURL");let e=Mae(t.storage,t._location,_C());return t.storage.makeRequestWithTokens(e,Au).then(n=>{if(n===null)throw Joe();return n})}function $ae(t){t._throwIfRoot("deleteObject");let e=Fae(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Au)}function H9(t,e){let n=xae(t._location.path,e),i=new qo(t._location.bucket,n);return new Vg(t.storage,i)}function Gae(t){return/^[A-Za-z]+:\/\//.test(t)}function Wae(t,e){return new Vg(t,e)}function z9(t,e){if(t instanceof F_){let n=t;if(n._bucket==null)throw Qoe();let i=new Vg(n,n._bucket);return e!=null?z9(i,e):i}else return e!==void 0?H9(t,e):t}function qae(t,e){if(e&&Gae(e)){if(t instanceof F_)return Wae(t,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return z9(t,e)}function b9(t,e){let n=e?.[E9];return n==null?null:qo.makeFromBucketSpec(n,t)}function Xae(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:ix(r,t.app.options.projectId))}var F_=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=S9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Uoe,this._maxUploadRetryTime=Hoe,this._requests=new Set,r!=null?this._bucket=qo.makeFromBucketSpec(r,this._host):this._bucket=b9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qo.makeFromBucketSpec(this._url,e):this._bucket=b9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return Se(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return Se(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vg(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new hP(I9());{let o=uae(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return Se(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},C9="@firebase/storage",T9="0.12.6";var Yae="storage";function $9(t,e,n){return t=vi(t),Bae(t,e,n)}function G9(t){return t=vi(t),Uae(t)}function W9(t,e){return t=vi(t),Hae(t,e)}function q9(t,e){return t=vi(t),U9(t,e)}function X9(t){return t=vi(t),jae(t)}function Y9(t){return t=vi(t),zae(t)}function K9(t){return t=vi(t),$ae(t)}function SP(t,e){return t=vi(t),qae(t,e)}function Q9(t,e){return H9(t,e)}function Z9(t,e,n,i={}){Xae(t,e,n,i)}function Kae(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new F_(n,i,r,e,ax)}function Qae(){$f(new oc(Yae,Kae,"PUBLIC").setMultipleInstances(!0)),vl(C9,T9,""),vl(C9,T9,"esm2017")}Qae();var jg=class{constructor(e,n,i){this._delegate=e,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var wC=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jg(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(i=>{if(e)return e(new jg(i,this,this._ref))},n)}on(e,n,i,r){let s;return n&&(typeof n=="function"?s=o=>n(new jg(o,this,this._ref)):s={next:n.next?o=>n.next(new jg(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}},bC=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Zp(e,this._service))}get items(){return this._delegate.items.map(e=>new Zp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Zp=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=Q9(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new wC($9(this._delegate,e,n),this)}putString(e,n=Za.RAW,i){this._throwIfRoot("putString");let r=wP(n,e),s=Object.assign({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new wC(new P_(this._delegate,new Og(r.data,!0),s),this)}listAll(){return X9(this._delegate).then(e=>new bC(e,this.storage))}list(e){return q9(this._delegate,e||void 0).then(n=>new bC(n,this.storage))}getMetadata(){return G9(this._delegate)}updateMetadata(e){return W9(this._delegate,e)}getDownloadURL(){return Y9(this._delegate)}delete(){return this._throwIfRoot("delete"),K9(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw yP(e)}};var CC=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(J9(e))throw Qp("ref() expected a child path but got a URL, use refFromURL instead.");return new Zp(SP(this._delegate,e),this)}refFromURL(e){if(!J9(e))throw Qp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qo.makeFromUrl(e,this._delegate.host)}catch{throw Qp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zp(SP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,i={}){Z9(this._delegate,e,n,i)}};function J9(t){return/^[A-Za-z]+:\/\//.test(t)}var Zae="@firebase/storage-compat",Jae="0.3.9";var ele="storage-compat";function tle(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new CC(n,i)}function nle(t){let e={TaskState:go,TaskEvent:B9,StringFormat:Za,Storage:CC,Reference:Zp};t.INTERNAL.registerComponent(new oc(ele,tle,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Zae,Jae)}nle(Ss);function ile(t){return new An(e=>{let n=o=>e.next(o),i=o=>e.error(o),r=()=>e.complete();n(t.snapshot);let s=t.on("state_changed",n);return t.then(o=>{n(o),r()},o=>{n(t.snapshot),i(o)}),function(){s()}}).pipe(dE(0))}function ej(t){let e=ile(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(nn(n=>n.bytesTransferred/n.totalBytes*100))}}function TC(t){return{getDownloadURL:()=>Xt(void 0).pipe($D,fi(()=>t.getDownloadURL()),Ps),getMetadata:()=>Xt(void 0).pipe($D,fi(()=>t.getMetadata()),Ps),delete:()=>qn(t.delete()),child:e=>TC(t.child(e)),updateMetadata:e=>qn(t.updateMetadata(e)),put:(e,n)=>{let i=t.put(e,n);return ej(i)},putString:(e,n,i)=>{let r=t.putString(e,n,i);return ej(r)},list:e=>qn(t.list(e)),listAll:()=>qn(t.listAll())}}var rle=new Nt("angularfire2.storageBucket"),sle=new Nt("angularfire2.storage.maxUploadRetryTime"),ole=new Nt("angularfire2.storage.maxOperationRetryTime"),ale=new Nt("angularfire2.storage.use-emulator"),tj=(()=>{class t{storage;constructor(n,i,r,s,o,a,l,c,u,d){let f=Cp(n,o,i);this.storage=Gm(`${f.name}.storage.${r}`,"AngularFireStorage",f.name,()=>{let h=o.runOutsideAngular(()=>f.storage(r||void 0)),_=u;return _&&h.useEmulator(..._),l&&h.setMaxUploadRetryTime(l),c&&h.setMaxOperationRetryTime(c),h},[l,c])}ref(n){return TC(this.storage.ref(n))}refFromURL(n){return TC(this.storage.refFromURL(n))}upload(n,i,r){let s=this.storage.ref(n);return TC(s).put(i,r)}static \u0275fac=function(i){return new(i||t)(ct($h),ct(Gh,8),ct(rle,8),ct(ks),ct(zn),ct(bp),ct(sle,8),ct(ole,8),ct(ale,8),ct(gu,8))};static \u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Zn=(()=>{let e=class e{constructor(i,r,s,o){this.afAuth=i,this.afs=r,this.afStorage=s,this.router=o,this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1,this.roleSubject=new Vr({esAdmin:!1,esEspecialista:!1,esPaciente:!1}),this.role$=this.roleSubject.asObservable(),this.user$=this.afAuth.authState.pipe(fi(a=>a?this.getUserRole(a.uid).then(l=>(this.roleSubject.next({esAdmin:l.role==="admin",esEspecialista:l.role==="especialista",esPaciente:l.role==="paciente"}),Xt(a))):(this.roleSubject.next({esAdmin:!1,esEspecialista:!1,esPaciente:!1}),Xt(null)))),this.isLoggedIn$=this.user$.pipe(nn(a=>!!a))}guardarPaciente(i,r){return Se(this,null,function*(){try{let s=yield this.afAuth.createUserWithEmailAndPassword(i.mail,r),o=s.user;if(s&&s.user){let a=yield this.uploadFileAndGetUrl(i.foto1,s.user.uid,"foto1"),l=yield this.uploadFileAndGetUrl(i.foto2,s.user.uid,"foto2");return yield this.afs.collection("pacientes").doc(s.user.uid).set({nombre:i.nombre||"",apellido:i.apellido||"",edad:i.edad||"",DNI:i.dni||"",obraSocial:i.obraSocial||"",mail:i.mail||"",foto1:a||"",foto2:l||""}),o!=null&&(yield o.sendEmailVerification()),s.user.uid}else throw new Error("No se pudo crear el usuario")}catch(s){throw console.error("Error al guardar el paciente en Firestore:",s),s}})}guardarEspecialista(i,r,s){return Se(this,null,function*(){try{let a=(yield this.afAuth.createUserWithEmailAndPassword(i.mail,r)).user;if(a){let l=yield this.uploadFileAndGetUrl(i.foto1,a.uid,"foto1");return yield this.afs.collection("especialistas").doc(a.uid).set({nombre:i.nombre||"",apellido:i.apellido||"",edad:i.edad||"",DNI:i.dni||"",especialidad:i.especialidad||"",mail:i.mail||"",foto1:l||"",habilitado:!1,horarios:s||[]}),yield a.sendEmailVerification(),a.uid}else throw new Error("No se pudo crear el usuario")}catch(o){throw console.error("Error al guardar el especialista en Firestore:",o),o}})}guardarAdmin(i,r){return Se(this,null,function*(){try{let s=yield this.afAuth.createUserWithEmailAndPassword(i.mail,r),o=s.user;if(s&&s.user){let a=yield this.uploadFileAndGetUrl(i.foto1,s.user.uid,"foto1");return yield this.afs.collection("administradores").doc(s.user.uid).set({nombre:i.nombre||"",apellido:i.apellido||"",edad:i.edad||"",DNI:i.dni||"",mail:i.mail||"",foto1:a||""}),o!=null&&(yield o.sendEmailVerification()),s.user.uid}else throw new Error("No se pudo crear el usuario")}catch(s){throw console.error("Error al guardar el admin en Firestore:",s),s}})}login(i,r){return Se(this,null,function*(){try{let o=(yield this.afAuth.signInWithEmailAndPassword(i,r)).user;if(o){if(!o.emailVerified)throw yield this.afAuth.signOut(),new Error("Email no verificado");this.esAdmin=!1,this.esEspecialista=!1,this.esPaciente=!1;let a="",l="",c=yield this.afs.collection("administradores").doc(o.uid).ref.get();if(c.exists){this.esAdmin=!0;let d=c.data();a=d.nombre||"",l=d.apellido||""}else{let d=yield this.afs.collection("especialistas").doc(o.uid).ref.get();if(d.exists){this.esEspecialista=!0;let f=d.data();a=f.nombre||"",l=f.apellido||""}else{let f=yield this.afs.collection("pacientes").doc(o.uid).ref.get();if(f.exists){this.esPaciente=!0;let h=f.data();a=h.nombre||"",l=h.apellido||""}}}this.roleSubject.next({esAdmin:this.esAdmin,esEspecialista:this.esEspecialista,esPaciente:this.esPaciente});let u={nombre:a,apellido:l,dia:new Date().toLocaleDateString("es-ES"),horario:new Date().toLocaleTimeString("it-IT")};yield this.afs.collection("ingresos").add(u)}this.router.navigate(["/"])}catch(s){throw console.error("Error al iniciar sesi\xF3n:",s),s}})}logout(){return Se(this,null,function*(){yield this.afAuth.signOut(),this.router.navigate(["/login"])})}uploadFileAndGetUrl(i,r,s){return Se(this,null,function*(){try{if(!i||!(i instanceof Blob))throw new Error("El archivo no es v\xE1lido");let o=this.afStorage.storage.ref(`users/${r}/${s}`);return yield o.put(i),yield o.getDownloadURL()}catch(o){throw console.error("Error al subir archivo a Firebase Storage:",o),o}})}getCurrentUser(){return Se(this,null,function*(){return g8().currentUser})}getEspecialistaData(i){return Se(this,null,function*(){try{let r=yield this.afs.collection("especialistas").doc(i).ref.get();return r.exists?r.data():null}catch(r){throw console.error("Error al obtener datos del especialista:",r),r}})}getAllPacientes(){return Se(this,null,function*(){try{let i=yield this.afs.collection("pacientes").get().toPromise();if(!i)throw new Error('No se encontraron documentos en la colecci\xF3n "pacientes"');return i.docs.map(r=>{let s=r.data();return ut({id:r.id},s)})}catch(i){throw console.error("Error al obtener los datos de los pacientes:",i),i}})}getAllAdmin(){return Se(this,null,function*(){try{let i=yield this.afs.collection("administradores").get().toPromise();if(!i)throw new Error("No se obtuvo ning\xFAn snapshot de admin");return i.docs.map(r=>{let s=r.data();return ut({id:r.id},s)})}catch(i){throw console.error("Error al obtener los datos de los admins:",i),i}})}getAllEspecialistas(){return Se(this,null,function*(){try{let i=yield this.afs.collection("especialistas").get().toPromise();if(!i)throw new Error("No se obtuvo ning\xFAn snapshot de especialistas");return i.docs.map(r=>{let s=r.data();return ut({id:r.id},s)})}catch(i){throw console.error("Error al obtener los datos de los especialistas:",i),i}})}toggleHabilitadoEspecialista(i,r){return Se(this,null,function*(){try{yield this.afs.collection("especialistas").doc(i).update({habilitado:r})}catch(s){throw console.error("Error al cambiar la habilitaci\xF3n del especialista:",s),s}})}getUserRole(i){return Se(this,null,function*(){let r=yield this.afs.collection("administradores").doc(i).ref.get();if(r.exists)return{role:"admin",data:r.data()};let s=yield this.afs.collection("especialistas").doc(i).ref.get();if(s.exists)return{role:"especialista",data:s.data()};let o=yield this.afs.collection("pacientes").doc(i).ref.get();if(o.exists)return{role:"paciente",data:o.data()};throw new Error("Usuario no encontrado en ninguna colecci\xF3n")})}getCurrentUserData(){return this.afAuth.authState.pipe(fi(i=>{if(i){let r=i.uid;return this.afs.doc(`administradores/${r}`).valueChanges().pipe(fi(s=>s?Xt({role:"admin",data:hn(ut({},s),{uid:r})}):this.afs.doc(`especialistas/${r}`).valueChanges().pipe(fi(o=>o?Xt({role:"especialista",data:hn(ut({},o),{uid:r})}):this.afs.doc(`pacientes/${r}`).valueChanges().pipe(fi(a=>a?Xt({role:"paciente",data:hn(ut({},a),{uid:r})}):Xt(null)))))))}else return Xt(null)}))}isTurnoTaken(i,r,s){return Se(this,null,function*(){let o=new Date(r);return o.setHours(s.getHours(),s.getMinutes(),0,0),new Date(o).setMinutes(o.getMinutes()+30),!(yield this.afs.collection("turnos",c=>c.where("especialista","==",i).where("turno","==",o)).get().toPromise())?.empty})}saveTurno(i){let r={especialista:i.specialistId,especialidad:i.specialty,turno:i.time,creado:new Date,pacienteId:i.pacienteId,estado:"pendiente"};return this.afs.collection("turnos").add(r)}getPacienteData(i){return Se(this,null,function*(){try{let r=yield this.afs.collection("pacientes").doc(i).ref.get();return r.exists?r.data():null}catch(r){throw console.error("Error al obtener datos del paciente:",r),r}})}cancelarTurno(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({estado:"cancelado",comentarioCancelacion:r})}catch(s){throw console.error("Error al cancelar el turno:",s),s}})}getAllTurnos(){return Se(this,null,function*(){try{let i=yield this.afs.collection("turnos").get().toPromise();if(!i)throw new Error("No se encontraron turnos");return i.docs.map(r=>{let s=r.data();return ut({id:r.id},s)})}catch(i){throw console.error("Error al obtener los turnos:",i),i}})}getTurnosByPaciente(i){return Se(this,null,function*(){try{let r=yield this.afs.collection("turnos",s=>s.where("pacienteId","==",i)).get().toPromise();if(!r)throw new Error("No se encontraron turnos para este paciente");return r.docs.map(s=>{let o=s.data();return ut({id:s.id},o)})}catch(r){throw console.error("Error al obtener los turnos del paciente:",r),r}})}getTurnosByEspecialista(i){return Se(this,null,function*(){try{let r=yield this.afs.collection("turnos",s=>s.where("especialista","==",i)).get().toPromise();if(!r)throw new Error("No se encontraron turnos para el especialista");return r.docs.map(s=>{let o=s.data();return ut({id:s.id},o)})}catch(r){throw console.error("Error al obtener los turnos del especialista:",r),r}})}rechazarTurno(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({estado:"rechazado",comentarioRechazo:r})}catch(s){throw console.error("Error al rechazar el turno:",s),s}})}aceptarTurno(i){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({estado:"aceptado"})}catch(r){throw console.error("Error al aceptar el turno:",r),r}})}finalizarTurno(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({estado:"realizado",comentarioFinalizacion:r})}catch(s){throw console.error("Error al finalizar el turno:",s),s}})}completarEncuesta(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({encuestaCompleta:!0,encuestaComentario:r})}catch(s){throw console.error("Error al completar la encuesta:",s),s}})}calificarAtencion(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({calificacionAtencionCompleta:!0,calificacionAtencion:r})}catch(s){throw console.error("Error al calificar la atenci\xF3n:",s),s}})}cargarHistoriaClinica(i,r){return Se(this,null,function*(){try{yield this.afs.collection("turnos").doc(i).update({historiaClinica:r})}catch(s){throw console.error("Error al cargar la historia cl\xEDnica:",s),s}})}getHistoriasClinicasByPaciente(i){return Se(this,null,function*(){if(!i)throw new Error("El uid del paciente es indefinido");try{return(yield this.afs.collection("turnos",s=>s.where("pacienteId","==",i).where("historiaClinica","!=",null)).get().toPromise())?.docs.map(s=>{let o=s.data();return hn(ut({},o.historiaClinica),{especialidad:o.especialidad})})||[]}catch(r){throw r.code&&r.code==="failed-precondition"?console.error("El \xEDndice requerido no existe. Por favor, crea el \xEDndice en Firestore.",r):console.error("Error al obtener las historias cl\xEDnicas:",r),r}})}getAllEspecialistasMap(){return Se(this,null,function*(){try{let i=yield this.afs.collection("especialistas").get().toPromise(),r=new Map;return i?.docs.forEach(s=>{let o=s.data();r.set(s.id,o.nombre)}),r}catch(i){throw console.error("Error al obtener los especialistas:",i),i}})}getPacientesAtendidosPorEspecialista(i){return Se(this,null,function*(){try{let r=yield this.afs.collection("turnos",a=>a.where("especialista","==",i).where("estado","==","realizado")).get().toPromise(),s=new Map;return r?.docs.forEach(a=>{let l=a.data(),c=l.pacienteId;s.has(c)||s.set(c,{id:c,nombre:"",foto1:"",consultas:[]}),s.get(c).consultas.push({fecha:l.turno.toDate().toISOString(),especialidad:l.especialidad,comentario:l.comentarioFinalizacion})}),s.forEach(a=>{a.consultas.sort((l,c)=>new Date(c.fecha).getTime()-new Date(l.fecha).getTime())}),yield Promise.all(Array.from(s.keys()).map(a=>Se(this,null,function*(){let l=yield this.afs.collection("pacientes").doc(a).get().toPromise(),c=s.get(a);if(l?.exists){let u=l.data();c.nombre=u?.nombre||"",c.foto1=u?.foto1||""}return c})))}catch(r){throw console.error("Error al obtener pacientes atendidos:",r),r}})}getIngresos(){return this.afs.collection("ingresos").snapshotChanges().pipe(nn(i=>{let r=i.map(s=>{let o=s.payload.doc.data(),a=o.dia.split("/"),l=new Date(`${a[2]}-${a[1]}-${a[0]}`),c=o.horario.split(":"),u=new Date;return u.setHours(parseInt(c[0],10)),u.setMinutes(parseInt(c[1],10)),u.setSeconds(parseInt(c[2],10)),{nombre:o.nombre,apellido:o.apellido,dia:l,horario:u,diaFormateado:this.formatDate(l),horarioFormateado:this.formatTime(u)}});return r.sort((s,o)=>s.dia.getTime()===o.dia.getTime()?o.horario.getTime()-s.horario.getTime():o.dia.getTime()-s.dia.getTime()),r.map(s=>({nombre:s.nombre,apellido:s.apellido,dia:s.diaFormateado,horario:s.horarioFormateado}))}))}formatDate(i){let r=String(i.getDate()).padStart(2,"0"),s=String(i.getMonth()+1).padStart(2,"0"),o=i.getFullYear();return`${r}/${s}/${o}`}formatTime(i){let r=String(i.getHours()).padStart(2,"0"),s=String(i.getMinutes()).padStart(2,"0"),o=String(i.getSeconds()).padStart(2,"0");return`${r}:${s}:${o}`}getTurnosPorDia(){return this.afs.collection("turnos").snapshotChanges().pipe(nn(i=>i.map(r=>{let s=r.payload.doc.data(),o=s.turno.seconds*1e3,a=new Date(o),l=`${String(a.getDate()).padStart(2,"0")}/${String(a.getMonth()+1).padStart(2,"0")}/${a.getFullYear()}`;return hn(ut({},s),{dia:l})})))}getTurnosPorEspecialidad(){return this.afs.collection("turnos").snapshotChanges().pipe(nn(i=>i.map(r=>{let s=r.payload.doc.data();return ut({},s)})))}getTurnosSolicitadosPorMedico(){return this.afs.collection("turnos").snapshotChanges().pipe(Tr(i=>{let r=i.map(s=>{let o=s.payload.doc.data(),a=o.turno.seconds*1e3,l=new Date(a),c=`${String(l.getDate()).padStart(2,"0")}/${String(l.getMonth()+1).padStart(2,"0")}/${l.getFullYear()}`;return hn(ut({},o),{dia:c,idEspecialista:o.especialista})});return qn(this.afs.collection("especialistas").get()).pipe(nn(s=>{let o=s.docs.map(a=>({uid:a.id,nombre:a.data().nombre,apellido:a.data().apellido}));return r.map(a=>{let l=o.find(c=>c.uid===a.idEspecialista);return hn(ut({},a),{medico:l?`${l.nombre} ${l.apellido}`:"Desconocido"})})}))}))}getTurnosRealizadosPorMedico(){return this.afs.collection("turnos",i=>i.where("estado","==","realizado")).snapshotChanges().pipe(Tr(i=>{let r=i.map(s=>{let o=s.payload.doc.data(),a=o.turno.seconds*1e3,l=new Date(a),c=`${String(l.getDate()).padStart(2,"0")}/${String(l.getMonth()+1).padStart(2,"0")}/${l.getFullYear()}`;return hn(ut({},o),{dia:c,idEspecialista:o.especialista})});return qn(this.afs.collection("especialistas").get()).pipe(nn(s=>{let o=s.docs.map(a=>({uid:a.id,nombre:a.data().nombre,apellido:a.data().apellido}));return r.map(a=>{let l=o.find(c=>c.uid===a.idEspecialista);return hn(ut({},a),{medico:l?`${l.nombre} ${l.apellido}`:"Desconocido"})})}))}))}};e.\u0275fac=function(r){return new(r||e)(ct(Tp),ct(k_),ct(tj),ct(fo))},e.\u0275prov=$t({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cle(t,e){t&1&&(B(0,"div"),G(1,"Correo electr\xF3nico es requerido."),P())}function ule(t,e){t&1&&(B(0,"div"),G(1,"Correo electr\xF3nico no v\xE1lido."),P())}function dle(t,e){if(t&1&&(B(0,"div"),tt(1,cle,2,0,"div",8)(2,ule,2,0,"div",8),P()),t&2){let n,i,r=Pe();Z(),ye("ngIf",(n=r.loginForm.get("email"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=r.loginForm.get("email"))==null?null:i.hasError("email"))}}function hle(t,e){t&1&&(B(0,"div"),G(1,"Contrase\xF1a es requerida."),P())}function fle(t,e){if(t&1&&(B(0,"div"),tt(1,hle,2,0,"div",8),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.loginForm.get("password"))==null?null:n.hasError("required"))}}function ple(t,e){if(t&1&&(B(0,"div",14),G(1),P()),t&2){let n=Pe();Z(),uo(n.errorMessage)}}var nj='body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:90vh;margin:0;background-image:url("./media/fondo-5DKL25FJ.jpg");background-size:cover;background-position:center}.login-container[_ngcontent-%COMP%]{background-color:#d1a054;width:300px;padding:20px;border-radius:8px;box-shadow:0 0 10px #2e4c6d;text-align:center;animation:_ngcontent-%COMP%_bounceIn 1s}@keyframes _ngcontent-%COMP%_bounceIn{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.1)}70%{transform:scale(.9)}to{transform:scale(1);opacity:1}}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e4c6d;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#2e4c6d}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;font-size:14px;border:1px solid #2e4c6d;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#d2691e;border:none;padding:10px 20px;font-size:16px;border-radius:4px;cursor:pointer;transition:background-color .3s,transform .3s}button[_ngcontent-%COMP%]:hover{background-color:#d2691e;color:#2e4c6d;transform:scale(1.1)}button[_ngcontent-%COMP%]:active{background-color:#162738;transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}',ij=(()=>{let e=class e{constructor(i,r,s){this.authService=i,this.fb=r,this.router=s,this.errorMessage="",this.loginForm=this.fb.group({email:["",[on.required,on.email]],password:["",[on.required]]})}onSubmit(){return Se(this,null,function*(){if(this.loginForm.valid){let{email:i,password:r}=this.loginForm.value;try{yield this.authService.login(i,r);let s=yield this.authService.getCurrentUser();if(s){let{role:o,data:a}=yield this.authService.getUserRole(s.uid);if(o==="especialista")if(a.habilitado===!0)Nd.default.fire({position:"top-right",icon:"success",title:"Bienvenido especialista",showConfirmButton:!1,timer:1500}),this.router.navigate(["/bienvenida"]);else throw Nd.default.fire({position:"top-left",icon:"error",title:"Todav\xEDa no ha sido verificado",showConfirmButton:!1,timer:1500}),yield this.authService.logout(),new Error("Especialista no verificado");else o==="admin"?(Nd.default.fire({position:"top-right",icon:"success",title:"Bienvenido administrador",showConfirmButton:!1,timer:1500}),this.router.navigate(["/bienvenida"])):o==="paciente"&&(Nd.default.fire({position:"top-right",icon:"success",title:"Bienvenido paciente",showConfirmButton:!1,timer:1500}),this.router.navigate(["/bienvenida"]))}else Nd.default.fire({position:"top-left",icon:"error",title:"Usuario no encontrado",showConfirmButton:!1,timer:1500})}catch(s){console.error("Error al iniciar sesi\xF3n:",s),s.message==="Email no verificado"?Nd.default.fire({position:"top-left",icon:"error",title:"Correo no verificado",text:"Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.",showConfirmButton:!0}):s.message==="Especialista no verificado"?Nd.default.fire({position:"top-left",icon:"error",title:"Especialista no verificado",text:"Por favor, espere a que su cuenta sea habilitada.",showConfirmButton:!0}):Nd.default.fire({position:"top-left",icon:"error",title:"Credenciales incorrectas",showConfirmButton:!1,timer:1500})}}})}ingresoRapido(i,r){this.loginForm.patchValue({email:i,password:r})}manejarCredencialesSeleccionadas(i){this.loginForm.patchValue({email:i.email,password:i.password})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn),Je(du),Je(fo))},e.\u0275cmp=fn({type:e,selectors:[["app-login"]],standalone:!0,features:[wn],decls:25,vars:10,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","formControlName","email","required",""],[4,"ngIf"],["for","pass"],["type","password","id","password","name","password","formControlName","password","required",""],["type","submit",3,"disabled"],["class","error-message",4,"ngIf"],[3,"credencialesSeleccionadas"],[1,"error-message"]],template:function(r,s){if(r&1&&(B(0,"html",0)(1,"head"),Ft(2,"meta",1)(3,"meta",2),P(),B(4,"body")(5,"div",3)(6,"h2"),G(7),Ga(8,"uppercase"),P(),B(9,"form",4),Ye("ngSubmit",function(){return s.onSubmit()}),B(10,"div",5)(11,"label",6),G(12,"Correo Electr\xF3nico"),P(),Ft(13,"input",7),tt(14,dle,3,2,"div",8),P(),B(15,"div",5)(16,"label",9),G(17,"Contrase\xF1a"),P(),Ft(18,"input",10),tt(19,fle,2,1,"div",8),P(),B(20,"button",11),G(21,"Iniciar Sesi\xF3n"),P(),tt(22,ple,2,1,"div",12),P()(),B(23,"div")(24,"app-botones-inicio",13),Ye("credencialesSeleccionadas",function(a){return s.manejarCredencialesSeleccionadas(a)}),P()()()()),r&2){let o,a;Z(5),ye("@loginAnimation",void 0),Z(2),uo(Wa(8,8,"Iniciar Sesi\xF3n")),Z(2),ye("formGroup",s.loginForm),Z(5),ye("ngIf",((o=s.loginForm.get("email"))==null?null:o.invalid)&&(((o=s.loginForm.get("email"))==null?null:o.dirty)||((o=s.loginForm.get("email"))==null?null:o.touched))),Z(5),ye("ngIf",((a=s.loginForm.get("password"))==null?null:a.invalid)&&(((a=s.loginForm.get("password"))==null?null:a.dirty)||((a=s.loginForm.get("password"))==null?null:a.touched))),Z(),ye("disabled",s.loginForm.invalid),Z(2),ye("ngIf",s.errorMessage),Z(),ye("@botonesInicioAnimation",void 0)}},dependencies:[hr,Ir,Ml,Jr,Ms,Il,xc,Fl,Pl,yc,H2,f8],styles:[nj,nj],data:{animation:[fu("loginAnimation",[mu(":enter",[ds({transform:"translateY(-1000px)",opacity:0}),pu("1s ease-out",ds({transform:"translateY(0)",opacity:1}))])]),fu("botonesInicioAnimation",[mu(":enter",[ds({transform:"translateX(-100%)",opacity:0}),pu("0.8s ease-out",ds({transform:"translateX(0)",opacity:1}))])])]}});let t=e;return t})();var rj=(()=>{let e=class e{constructor(i,r){this.el=i,this.renderer=r}onMouseMove(i){let r=this.renderer.createElement("div");this.renderer.setStyle(r,"position","absolute"),this.renderer.setStyle(r,"width","7px"),this.renderer.setStyle(r,"height","7px"),this.renderer.setStyle(r,"backgroundColor","rgba(46, 76, 109, 0.5)"),this.renderer.setStyle(r,"border","2px solid rgba(19, 45, 73, 0.5)"),this.renderer.setStyle(r,"boxShadow","0 0 5px rgba(0, 0, 0, 0.3)"),this.renderer.setStyle(r,"pointerEvents","none"),this.renderer.setStyle(r,"top",`${i.clientY-7.5}px`),this.renderer.setStyle(r,"left",`${i.clientX-7.5}px`),this.renderer.appendChild(this.el.nativeElement,r),setTimeout(()=>{this.renderer.removeChild(this.el.nativeElement,r)},300)}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds))},e.\u0275dir=Bn({type:e,selectors:[["","appHoverTrail",""]],hostBindings:function(r,s){r&1&&Ye("mousemove",function(a){return s.onMouseMove(a)})},standalone:!0});let t=e;return t})();var sj=(()=>{let e=class e{constructor(i,r){this.el=i,this.renderer=r,this.markSize=20}onClick(i){let r=this.renderer.createElement("div");this.renderer.addClass(r,"click"),this.renderer.setStyle(r,"position","absolute"),this.renderer.setStyle(r,"width",`${this.markSize}px`),this.renderer.setStyle(r,"height",`${this.markSize}px`),this.renderer.setStyle(r,"backgroundColor","rgba(19, 45, 73, 0.5)"),this.renderer.setStyle(r,"pointerEvents","none"),this.renderer.setStyle(r,"transform","translate(-50%, -50%)");let s=this.el.nativeElement.getBoundingClientRect(),o=i.clientY-s.top+85,a=i.clientX-s.left;this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`),this.renderer.appendChild(this.el.nativeElement,r),setTimeout(()=>{this.renderer.removeChild(this.el.nativeElement,r)},500),this.markSize+=10}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds))},e.\u0275dir=Bn({type:e,selectors:[["","appClickMark",""]],hostBindings:function(r,s){r&1&&Ye("click",function(a){return s.onClick(a)})},standalone:!0});let t=e;return t})();var oj='body[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Dune;display:flex;justify-content:center;align-items:center;background-image:url("./media/fondo-5DKL25FJ.jpg");background-size:cover;background-position:center}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:90vh;background:none}.button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{width:30%;padding:150px;margin:20px;font-size:25px;text-align:center;font-family:Dune,sans-serif;color:#2e4c6d;border:none;border-radius:10px;cursor:pointer;background-size:cover;background-position:center}.button1[_ngcontent-%COMP%]{background-image:url("./media/paciente-CAD7PT2O.jpg")}.button2[_ngcontent-%COMP%]{background-image:url("./media/especialista-3RG2A3G3.jpg")}.trail[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#2e4c6d80;border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);z-index:1000}.click-mark[_ngcontent-%COMP%]{position:absolute;background-color:#132d4980;border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);z-index:1000}',aj=(()=>{let e=class e{constructor(i){this.router=i}navegarPacientes(){this.router.navigateByUrl("/registro_pacientes")}navegarEspecialistas(){this.router.navigateByUrl("/registro_especialistas")}};e.\u0275fac=function(r){return new(r||e)(Je(fo))},e.\u0275cmp=fn({type:e,selectors:[["app-registro"]],standalone:!0,features:[wn],decls:10,vars:1,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["appHoverTrail","","appClickMark","",1,"container"],["appClickMark","",1,"button1",3,"click"],["appClickMark","",1,"button2",3,"click"]],template:function(r,s){r&1&&(B(0,"html",0)(1,"head"),Ft(2,"meta",1)(3,"meta",2),P(),B(4,"body")(5,"div",3)(6,"button",4),Ye("click",function(){return s.navegarPacientes()}),G(7,"Pacientes"),P(),B(8,"button",5),Ye("click",function(){return s.navegarEspecialistas()}),G(9,"Especialistas"),P()()()()),r&2&&(Z(5),ye("@fadeInFromBottom",void 0))},dependencies:[rj,sj],styles:[oj,oj],data:{animation:[fu("fadeInFromBottom",[mu(":enter",[ds({opacity:0,transform:"translateY(100%)"}),pu("500ms ease-out",ds({opacity:1,transform:"translateY(0)"}))])])]}});let t=e;return t})();var or=class{static onlyLetters(e){let n=/^[a-zA-Z]*$/;return e.value&&!n.test(e.value)?{onlyLetters:!0}:null}static onlyNumbers(e){let n=/^[0-9]*$/;return e.value&&!n.test(e.value)?{onlyNumbers:!0}:null}static minLength(e){return n=>n.value&&n.value.length<e?{minLength:!0}:null}static maxLength(e){return n=>n.value&&n.value.length>e?{maxLength:!0}:null}};var AP=ma(Vh());function mle(t,e){if(t&1&&(B(0,"option"),G(1),P()),t&2){let n=e.$implicit;Z(),uo(n)}}var SC=(()=>{let e=class e{constructor(){this.especialidad="Dermat\xF3logo",this.nuevaEspecialidad="",this.especialidades=["Dermat\xF3logo","Kinesi\xF3logo","Cardi\xF3logo","Neur\xF3logo"],this.agregandoEspecialidad=!1,this.especilidadSeleccionada=new ri}mostrarInput(){this.agregandoEspecialidad=!0}agregarEspecialidad(){this.nuevaEspecialidad.trim()!=""&&this.especialidades.indexOf(this.nuevaEspecialidad)==-1&&(this.especialidades.push(this.nuevaEspecialidad),this.especialidad=this.nuevaEspecialidad,this.nuevaEspecialidad="",this.agregandoEspecialidad=!1)}cancelarAgregado(){this.agregandoEspecialidad=!1,this.nuevaEspecialidad=""}enviarEspecialidad(){this.especilidadSeleccionada.emit(this.especialidad)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fn({type:e,selectors:[["app-especialidades"]],outputs:{especilidadSeleccionada:"especilidadSeleccionada"},standalone:!0,features:[wn],decls:9,vars:3,consts:[[1,"login__field"],[2,"width","100%","margin-bottom","10px"],[1,"login-input",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","justify-content","space-between","align-items","center"],["type","text","placeholder","Otra","name","otraEspecialidad",1,"login-input",2,"flex","1","margin-right","20px",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(r,s){r&1&&(B(0,"div",0)(1,"div",1)(2,"select",2),ir("ngModelChange",function(a){return ur(s.especialidad,a)||(s.especialidad=a),a}),Ye("ngModelChange",function(){return s.enviarEspecialidad()}),tt(3,mle,2,1,"option",3),P()(),B(4,"div",4)(5,"input",5),ir("ngModelChange",function(a){return ur(s.nuevaEspecialidad,a)||(s.nuevaEspecialidad=a),a}),P(),B(6,"button",6),Ye("click",function(){return s.agregarEspecialidad()}),B(7,"i"),G(8,"\u2795"),P()()()()),r&2&&(Z(2),nr("ngModel",s.especialidad),Z(),ye("ngForOf",s.especialidades),Z(2),nr("ngModel",s.nuevaEspecialidad))},dependencies:[Ir,B2,j2,Jr,zm,Ms,_c,Ur],styles:[".login__field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.login-input[_ngcontent-%COMP%]{border:none;padding:10px;border:1px solid #2e4c6d;outline:none;border-radius:5px;background:none;margin-bottom:10px;width:100%}button[_ngcontent-%COMP%]{border:1px solid #2e4c6d;background-color:#2e4c6d;width:50px;height:35px;border:none;border-radius:4px;cursor:pointer;margin-bottom:10px}"]});let t=e;return t})();var gle=new Nt("recaptcha-language"),vle=new Nt("recaptcha-base-url"),_le=new Nt("recaptcha-nonce-tag"),yle=new Nt("recaptcha-settings"),xle=new Nt("recaptcha-v3-site-key"),wle=new Nt("recaptcha-loader-options");function ble(t,e,n,{url:i,lang:r,nonce:s}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let o=document.createElement("script");o.innerHTML="";let{url:a,nonce:l}=e(new URL(i||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),r&&a.searchParams.set("hl",r),o.src=a.href;let c=l||s;c&&o.setAttribute("nonce",c),o.async=!0,o.defer=!0,document.head.appendChild(o)}function Cle({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let i=t?{key:t}:"explicit";lj.loadScript(i,e,n)}var lj={loadScript:ble,newLoadScript:Cle};function Tle(t){return t.asObservable().pipe(Es(e=>e!==null))}var cj=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.platformId=i,this.language=r,this.baseUrl=s,this.nonce=o,this.v3SiteKey=a,this.options=l;let c=this.init();this.ready=c?Tle(c):Xt()}init(){if(e.ready)return e.ready;if(!s2(this.platformId))return;let i=new Vr(null);return e.ready=i,lj.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let s=new URL(this.baseUrl??r);return this.language&&s.searchParams.set("hl",this.language),{url:s,nonce:this.nonce}},onLoaded:r=>{let s=r;this.options?.onLoaded&&(s=this.options.onLoaded(r)),i.next(s)}}),i}};e.ready=null,e.\u0275fac=function(r){return new(r||e)(ct(ks),ct(gle,8),ct(vle,8),ct(_le,8),ct(xle,8),ct(wle,8))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),Sle=0,Jp=(()=>{let e=class e{constructor(i,r,s,o){this.elementRef=i,this.loader=r,this.zone=s,this.id=`ngrecaptcha-${Sle++}`,this.errorMode="default",this.resolved=new ri,this.error=new ri,this.errored=new ri,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(i=>{i!=null&&i.render instanceof Function&&(this.grecaptcha=i,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(i){this.error.emit(i),this.errored.emit(i)}captchaResponseCallback(i){this.resolved.emit(i)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let i={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(i["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,i),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(cj),Je(zn),Je(yle,8))},e.\u0275cmp=fn({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,s){r&2&&hp("id",s.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),uj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({});let t=e;return t})(),pf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({providers:[cj],imports:[uj]});let t=e;return t})();var Ug=(()=>{let e=class e{constructor(i){this.host=i,this.requiresControllerReset=!1}writeValue(i){i?this.host.__unsafe_widgetValue!==i&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(i){this.onChange=i,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(i){this.onTouched=i}onResolve(i){this.onChange&&this.onChange(i),this.onTouched&&this.onTouched()}};e.\u0275fac=function(r){return new(r||e)(Je(Jp))},e.\u0275dir=Bn({type:e,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(r,s){r&1&&Ye("resolved",function(a){return s.onResolve(a)})},features:[ho([{multi:!0,provide:wd,useExisting:Ws(()=>e)}])]});let t=e;return t})(),mf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({imports:[Ir,uj]});let t=e;return t})();function Ele(t,e){t&1&&(B(0,"div"),G(1,"Nombre es requerido."),P())}function Ale(t,e){t&1&&(B(0,"div"),G(1,"El nombre no debe contener n\xFAmeros."),P())}function kle(t,e){t&1&&(B(0,"div"),G(1,"El nombre debe tener m\xEDnimo 3 caracteres"),P())}function Dle(t,e){if(t&1&&(B(0,"div"),tt(1,Ele,2,0,"div",5)(2,Ale,2,0,"div",5)(3,kle,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("nombre"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("nombre"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("nombre"))==null?null:r.hasError("minLength"))}}function Ile(t,e){t&1&&(B(0,"div"),G(1,"Apellido es requerido."),P())}function Mle(t,e){t&1&&(B(0,"div"),G(1,"El apellido no debe contener n\xFAmeros."),P())}function Ple(t,e){t&1&&(B(0,"div"),G(1,"El apellido debe tener m\xEDnimo 3 caracteres"),P())}function Fle(t,e){if(t&1&&(B(0,"div"),tt(1,Ile,2,0,"div",5)(2,Mle,2,0,"div",5)(3,Ple,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("apellido"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("apellido"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("apellido"))==null?null:r.hasError("minLength"))}}function Lle(t,e){t&1&&(B(0,"div"),G(1,"Edad es requerida."),P())}function Nle(t,e){t&1&&(B(0,"div"),G(1,"La edad no debe contener letras."),P())}function Ole(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function Rle(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function Vle(t,e){if(t&1&&(B(0,"div"),tt(1,Lle,2,0,"div",5)(2,Nle,2,0,"div",5)(3,Ole,2,0,"div",5)(4,Rle,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("edad"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("edad"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("edad"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("edad"))==null?null:s.hasError("maxLength"))}}function Ble(t,e){t&1&&(B(0,"div"),G(1,"DNI es requerido."),P())}function jle(t,e){t&1&&(B(0,"div"),G(1,"El DNI no debe contener letras."),P())}function Ule(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function Hle(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function zle(t,e){if(t&1&&(B(0,"div"),tt(1,Ble,2,0,"div",5)(2,jle,2,0,"div",5)(3,Ule,2,0,"div",5)(4,Hle,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("dni"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("dni"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("dni"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("dni"))==null?null:s.hasError("maxLength"))}}function $le(t,e){t&1&&(B(0,"div"),G(1,"Correo es requerido."),P())}function Gle(t,e){t&1&&(B(0,"div"),G(1,"Correo no v\xE1lido."),P())}function Wle(t,e){if(t&1&&(B(0,"div"),tt(1,$le,2,0,"div",5)(2,Gle,2,0,"div",5),P()),t&2){let n,i,r=Pe();Z(),ye("ngIf",(n=r.registerForm.get("mail"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=r.registerForm.get("mail"))==null?null:i.hasError("email"))}}function qle(t,e){t&1&&(B(0,"div"),G(1,"Contrase\xF1a es requerida."),P())}function Xle(t,e){if(t&1&&(B(0,"div"),tt(1,qle,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("password"))==null?null:n.hasError("required"))}}function Yle(t,e){t&1&&(B(0,"div"),G(1,"Imagen de perfil 1 es requerida."),P())}function Kle(t,e){if(t&1&&(B(0,"div"),tt(1,Yle,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("foto1"))==null?null:n.hasError("required"))}}function Qle(t,e){t&1&&(B(0,"div",23),G(1,"Captcha es requerido."),P())}var EC=(()=>{let e=class e{constructor(i,r,s){this.formBuilder=i,this.router=r,this.auth=s,this.profileImage=null,this.captchaError=!1,this.registerForm=this.formBuilder.group({nombre:["",[on.required,or.onlyLetters,or.minLength(3)]],apellido:["",[on.required,or.onlyLetters,or.minLength(3)]],dni:["",[on.required,or.onlyNumbers,on.minLength(8),on.maxLength(8)]],edad:["",[on.required,or.onlyNumbers,on.min(1),on.max(99)]],especialidad:["",on.required],mail:["",[on.required,on.email]],password:["",on.required],foto1:["",on.required],recaptcha:["",on.required]})}onSubmit(){return Se(this,null,function*(){if(this.registerForm&&this.registerForm.valid){let i=this.registerForm.value,r=this.registerForm.value.password,s=[];try{let o=yield this.auth.guardarEspecialista(i,r,s);console.log("Especialista registrado con ID: ",o),AP.default.fire({position:"top-right",icon:"success",title:"Te has registrado correctamente",showConfirmButton:!1,timer:1500})}catch(o){console.error("Error al registrar el especialista:",o),AP.default.fire({position:"top-left",icon:"error",title:"Error al registrarte",showConfirmButton:!1,timer:1500})}}else this.markFormGroupTouched(this.registerForm)})}markFormGroupTouched(i){Object.values(i.controls).forEach(r=>{r.markAsTouched()})}onFileChange(i){let r=i.target.files[0];r&&this.registerForm.patchValue({foto1:r})}recibirEspecialidad(i){this.registerForm.controls.especialidad.setValue(i)}onCaptchaResolved(i){this.registerForm.patchValue({recaptcha:i}),this.captchaError=!1}};e.\u0275fac=function(r){return new(r||e)(Je(du),Je(fo),Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-registro-especialistas"]],standalone:!0,features:[wn],decls:50,vars:10,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","formControlName","nombre","required",""],[4,"ngIf"],["for","apellido"],["type","text","id","apellido","name","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","name","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","name","dni","formControlName","dni","required",""],[3,"especilidadSeleccionada"],["for","mail"],["type","email","id","mail","name","mail","formControlName","mail","required",""],["for","password"],["type","password","id","password","name","password","formControlName","password","required",""],["for","profileImage"],["type","file","id","profileImage","name","profileImage","required","",3,"change"],["for","captcha"],["siteKey","6Ld8VgsqAAAAAFLrzA2wZicIxziqI9e8iLJpGZLG","formControlName","recaptcha","required","",3,"resolved"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"error-message"]],template:function(r,s){if(r&1&&(B(0,"body")(1,"div",0)(2,"h2"),G(3,"Registro de especialistas"),P(),B(4,"form",1),Ye("ngSubmit",function(){return s.onSubmit()}),B(5,"div",2)(6,"label",3),G(7,"Nombre"),P(),Ft(8,"input",4),tt(9,Dle,4,3,"div",5),P(),B(10,"div",2)(11,"label",6),G(12,"Apellido"),P(),Ft(13,"input",7),tt(14,Fle,4,3,"div",5),P(),B(15,"div",2)(16,"label",8),G(17,"Edad"),P(),Ft(18,"input",9),tt(19,Vle,5,4,"div",5),P(),B(20,"div",2)(21,"label",10),G(22,"DNI"),P(),Ft(23,"input",11),tt(24,zle,5,4,"div",5),P(),B(25,"label"),G(26,"Especialidad"),P(),B(27,"app-especialidades",12),Ye("especilidadSeleccionada",function(a){return s.recibirEspecialidad(a)}),P(),B(28,"div",2)(29,"label",13),G(30,"Correo"),P(),Ft(31,"input",14),tt(32,Wle,3,2,"div",5),P(),B(33,"div",2)(34,"label",15),G(35,"Contrase\xF1a"),P(),Ft(36,"input",16),tt(37,Xle,2,1,"div",5),P(),B(38,"div",2)(39,"label",17),G(40,"Imagen de Perfil"),P(),B(41,"input",18),Ye("change",function(a){return s.onFileChange(a)}),P(),tt(42,Kle,2,1,"div",5),P(),B(43,"div",2)(44,"label",19),G(45,"Captcha"),P(),B(46,"re-captcha",20),Ye("resolved",function(a){return s.onCaptchaResolved(a)}),P(),tt(47,Qle,2,0,"div",21),P(),B(48,"button",22),G(49,"Registrarse"),P()()()()),r&2){let o,a,l,c,u,d,f;Z(4),ye("formGroup",s.registerForm),Z(5),ye("ngIf",((o=s.registerForm.get("nombre"))==null?null:o.invalid)&&(((o=s.registerForm.get("nombre"))==null?null:o.dirty)||((o=s.registerForm.get("nombre"))==null?null:o.touched))),Z(5),ye("ngIf",((a=s.registerForm.get("apellido"))==null?null:a.invalid)&&(((a=s.registerForm.get("apellido"))==null?null:a.dirty)||((a=s.registerForm.get("apellido"))==null?null:a.touched))),Z(5),ye("ngIf",((l=s.registerForm.get("edad"))==null?null:l.invalid)&&(((l=s.registerForm.get("edad"))==null?null:l.dirty)||((l=s.registerForm.get("edad"))==null?null:l.touched))),Z(5),ye("ngIf",((c=s.registerForm.get("dni"))==null?null:c.invalid)&&(((c=s.registerForm.get("dni"))==null?null:c.dirty)||((c=s.registerForm.get("dni"))==null?null:c.touched))),Z(8),ye("ngIf",((u=s.registerForm.get("mail"))==null?null:u.invalid)&&(((u=s.registerForm.get("mail"))==null?null:u.dirty)||((u=s.registerForm.get("mail"))==null?null:u.touched))),Z(5),ye("ngIf",((d=s.registerForm.get("password"))==null?null:d.invalid)&&(((d=s.registerForm.get("password"))==null?null:d.dirty)||((d=s.registerForm.get("password"))==null?null:d.touched))),Z(5),ye("ngIf",((f=s.registerForm.get("foto1"))==null?null:f.invalid)&&(((f=s.registerForm.get("foto1"))==null?null:f.dirty)||((f=s.registerForm.get("foto1"))==null?null:f.touched))),Z(5),ye("ngIf",s.captchaError),Z(),ye("disabled",s.registerForm.invalid)}},dependencies:[Ir,Ml,Jr,bd,Ms,Il,xc,hr,Fl,Pl,yc,SC,pf,Jp,mf,Ug],styles:['body[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Dune_Rise;display:flex;background-image:url("./media/fondoRegistro2-YAPGI55K.jpg");background-size:cover;background-position:center;height:105vh}.register-container[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;border:1px solid #2e4c6D;border-radius:10px;background-color:#d1a054}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#2e4c6d}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#2e4c6d}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:3px;box-sizing:border-box;color:#2e4c6d}input[type=file][_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-top:5px;color:#2e4c6d}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#d2691e;color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[disabled][_ngcontent-%COMP%]{background-color:#2e4c6d;cursor:not-allowed;color:#d2691e}']});let t=e;return t})();var kP=ma(Vh());function Zle(t,e){t&1&&(B(0,"div"),G(1,"Nombre es requerido."),P())}function Jle(t,e){t&1&&(B(0,"div"),G(1,"El nombre no debe contener n\xFAmeros."),P())}function ece(t,e){t&1&&(B(0,"div"),G(1,"El nombre debe tener m\xEDnimo 3 caracteres"),P())}function tce(t,e){if(t&1&&(B(0,"div"),tt(1,Zle,2,0,"div",5)(2,Jle,2,0,"div",5)(3,ece,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("nombre"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("nombre"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("nombre"))==null?null:r.hasError("minLength"))}}function nce(t,e){t&1&&(B(0,"div"),G(1,"Apellido es requerido."),P())}function ice(t,e){t&1&&(B(0,"div"),G(1,"El apellido no debe contener n\xFAmeros."),P())}function rce(t,e){t&1&&(B(0,"div"),G(1,"El apellido debe tener m\xEDnimo 3 caracteres"),P())}function sce(t,e){if(t&1&&(B(0,"div"),tt(1,nce,2,0,"div",5)(2,ice,2,0,"div",5)(3,rce,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("apellido"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("apellido"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("apellido"))==null?null:r.hasError("minLength"))}}function oce(t,e){t&1&&(B(0,"div"),G(1,"Edad es requerida."),P())}function ace(t,e){t&1&&(B(0,"div"),G(1,"La edad no debe contener letras."),P())}function lce(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function cce(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function uce(t,e){if(t&1&&(B(0,"div"),tt(1,oce,2,0,"div",5)(2,ace,2,0,"div",5)(3,lce,2,0,"div",5)(4,cce,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("edad"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("edad"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("edad"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("edad"))==null?null:s.hasError("maxLength"))}}function dce(t,e){t&1&&(B(0,"div"),G(1,"DNI es requerido."),P())}function hce(t,e){t&1&&(B(0,"div"),G(1,"El DNI no debe contener letras."),P())}function fce(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function pce(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function mce(t,e){if(t&1&&(B(0,"div"),tt(1,dce,2,0,"div",5)(2,hce,2,0,"div",5)(3,fce,2,0,"div",5)(4,pce,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("dni"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("dni"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("dni"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("dni"))==null?null:s.hasError("maxLength"))}}function gce(t,e){t&1&&(B(0,"div"),G(1,"Obra Social es requerida."),P())}function vce(t,e){if(t&1&&(B(0,"div"),tt(1,gce,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("obraSocial"))==null?null:n.hasError("required"))}}function _ce(t,e){t&1&&(B(0,"div"),G(1,"Correo es requerido."),P())}function yce(t,e){t&1&&(B(0,"div"),G(1,"Correo no v\xE1lido."),P())}function xce(t,e){if(t&1&&(B(0,"div"),tt(1,_ce,2,0,"div",5)(2,yce,2,0,"div",5),P()),t&2){let n,i,r=Pe();Z(),ye("ngIf",(n=r.registerForm.get("mail"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=r.registerForm.get("mail"))==null?null:i.hasError("email"))}}function wce(t,e){t&1&&(B(0,"div"),G(1,"Contrase\xF1a es requerida."),P())}function bce(t,e){if(t&1&&(B(0,"div"),tt(1,wce,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("password"))==null?null:n.hasError("required"))}}function Cce(t,e){t&1&&(B(0,"div"),G(1,"Imagen de perfil 1 es requerida."),P())}function Tce(t,e){if(t&1&&(B(0,"div"),tt(1,Cce,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("foto1"))==null?null:n.hasError("required"))}}function Sce(t,e){t&1&&(B(0,"div"),G(1,"Imagen de perfil 2 es requerida."),P())}function Ece(t,e){if(t&1&&(B(0,"div"),tt(1,Sce,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("foto2"))==null?null:n.hasError("required"))}}function Ace(t,e){t&1&&(B(0,"div",26),G(1,"Captcha es requerido."),P())}var AC=(()=>{let e=class e{constructor(i,r,s){this.formBuilder=i,this.router=r,this.auth=s,this.profileImages=[],this.vieneDeRegistro=!1,this.captchaError=!1,this.registerForm=this.formBuilder.group({nombre:["",[on.required,or.onlyLetters,or.minLength(3)]],apellido:["",[on.required,or.onlyLetters,or.minLength(3)]],dni:["",[on.required,or.onlyNumbers,or.maxLength(8),or.minLength(8)]],edad:["",[on.required,or.onlyNumbers,or.maxLength(2),or.minLength(1)]],obraSocial:["",on.required],mail:["",[on.required,on.email]],password:["",on.required],foto1:["",on.required],foto2:["",on.required],recaptcha:["",on.required]})}onSubmit(){return Se(this,null,function*(){if(this.registerForm&&this.registerForm.valid){let i=this.registerForm.value,r=this.registerForm.value.password;try{let s=yield this.auth.guardarPaciente(i,r);console.log("Paciente registrado con ID: ",s),kP.default.fire({position:"top-right",icon:"success",title:"Te has registrado correctamente",showConfirmButton:!1,timer:1500})}catch{kP.default.fire({position:"top-left",icon:"error",title:"Error al registrarte",showConfirmButton:!1,timer:1500})}}else this.markFormGroupTouched(this.registerForm)})}markFormGroupTouched(i){Object.values(i.controls).forEach(r=>{r.markAsTouched()})}onFileChange(i,r){let s=i.target.files[0];s&&this.registerForm.patchValue({[`foto${r}`]:s})}onCaptchaResolved(i){this.registerForm.patchValue({recaptcha:i}),this.captchaError=!1}};e.\u0275fac=function(r){return new(r||e)(Je(du),Je(fo),Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-registro-pacientes"]],standalone:!0,features:[wn],decls:57,vars:12,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","formControlName","nombre","required",""],[4,"ngIf"],["for","apellido"],["type","text","id","apellido","name","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","name","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","name","dni","formControlName","dni","required",""],["for","obraSocial"],["type","text","id","obraSocial","name","obraSocial","formControlName","obraSocial","required",""],["for","mail"],["type","email","id","mail","name","mail","formControlName","mail","required",""],["for","password"],["type","password","id","password","name","password","formControlName","password","required",""],["for","profileImage1"],["type","file","id","profileImage1","name","profileImage1","required","",3,"change"],["for","profileImage2"],["type","file","id","profileImage2","name","profileImage2","required","",3,"change"],["for","captcha"],["siteKey","6Ld8VgsqAAAAAFLrzA2wZicIxziqI9e8iLJpGZLG","formControlName","recaptcha","required","",3,"resolved"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"error-message"]],template:function(r,s){if(r&1&&(B(0,"body")(1,"div",0)(2,"h2"),G(3,"Registro de pacientes"),P(),B(4,"form",1),Ye("ngSubmit",function(){return s.onSubmit()}),B(5,"div",2)(6,"label",3),G(7,"Nombre"),P(),Ft(8,"input",4),tt(9,tce,4,3,"div",5),P(),B(10,"div",2)(11,"label",6),G(12,"Apellido"),P(),Ft(13,"input",7),tt(14,sce,4,3,"div",5),P(),B(15,"div",2)(16,"label",8),G(17,"Edad"),P(),Ft(18,"input",9),tt(19,uce,5,4,"div",5),P(),B(20,"div",2)(21,"label",10),G(22,"DNI"),P(),Ft(23,"input",11),tt(24,mce,5,4,"div",5),P(),B(25,"div",2)(26,"label",12),G(27,"Obra Social"),P(),Ft(28,"input",13),tt(29,vce,2,1,"div",5),P(),B(30,"div",2)(31,"label",14),G(32,"Correo"),P(),Ft(33,"input",15),tt(34,xce,3,2,"div",5),P(),B(35,"div",2)(36,"label",16),G(37,"Contrase\xF1a"),P(),Ft(38,"input",17),tt(39,bce,2,1,"div",5),P(),B(40,"div",2)(41,"label",18),G(42,"Imagen de Perfil 1"),P(),B(43,"input",19),Ye("change",function(a){return s.onFileChange(a,1)}),P(),tt(44,Tce,2,1,"div",5),P(),B(45,"div",2)(46,"label",20),G(47,"Imagen de Perfil 2"),P(),B(48,"input",21),Ye("change",function(a){return s.onFileChange(a,2)}),P(),tt(49,Ece,2,1,"div",5),P(),B(50,"div",2)(51,"label",22),G(52,"Captcha"),P(),B(53,"re-captcha",23),Ye("resolved",function(a){return s.onCaptchaResolved(a)}),P(),tt(54,Ace,2,0,"div",24),P(),B(55,"button",25),G(56,"Registrarse"),P()()()()),r&2){let o,a,l,c,u,d,f,h,_;Z(4),ye("formGroup",s.registerForm),Z(5),ye("ngIf",((o=s.registerForm.get("nombre"))==null?null:o.invalid)&&(((o=s.registerForm.get("nombre"))==null?null:o.dirty)||((o=s.registerForm.get("nombre"))==null?null:o.touched))),Z(5),ye("ngIf",((a=s.registerForm.get("apellido"))==null?null:a.invalid)&&(((a=s.registerForm.get("apellido"))==null?null:a.dirty)||((a=s.registerForm.get("apellido"))==null?null:a.touched))),Z(5),ye("ngIf",((l=s.registerForm.get("edad"))==null?null:l.invalid)&&(((l=s.registerForm.get("edad"))==null?null:l.dirty)||((l=s.registerForm.get("edad"))==null?null:l.touched))),Z(5),ye("ngIf",((c=s.registerForm.get("dni"))==null?null:c.invalid)&&(((c=s.registerForm.get("dni"))==null?null:c.dirty)||((c=s.registerForm.get("dni"))==null?null:c.touched))),Z(5),ye("ngIf",((u=s.registerForm.get("obraSocial"))==null?null:u.invalid)&&(((u=s.registerForm.get("obraSocial"))==null?null:u.dirty)||((u=s.registerForm.get("obraSocial"))==null?null:u.touched))),Z(5),ye("ngIf",((d=s.registerForm.get("mail"))==null?null:d.invalid)&&(((d=s.registerForm.get("mail"))==null?null:d.dirty)||((d=s.registerForm.get("mail"))==null?null:d.touched))),Z(5),ye("ngIf",((f=s.registerForm.get("password"))==null?null:f.invalid)&&(((f=s.registerForm.get("password"))==null?null:f.dirty)||((f=s.registerForm.get("password"))==null?null:f.touched))),Z(5),ye("ngIf",((h=s.registerForm.get("foto1"))==null?null:h.invalid)&&(((h=s.registerForm.get("foto1"))==null?null:h.dirty)||((h=s.registerForm.get("foto1"))==null?null:h.touched))),Z(5),ye("ngIf",((_=s.registerForm.get("foto2"))==null?null:_.invalid)&&(((_=s.registerForm.get("foto2"))==null?null:_.dirty)||((_=s.registerForm.get("foto2"))==null?null:_.touched))),Z(5),ye("ngIf",s.captchaError),Z(),ye("disabled",s.registerForm.invalid)}},dependencies:[Ir,Ml,Jr,bd,Ms,Il,xc,hr,Fl,Pl,yc,pf,Jp,mf,Ug],styles:['body[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Dune_Rise;display:flex;background-image:url("./media/fondoRegistro-RX6QQ6QR.jpg");background-size:cover;background-position:center;height:105vh}.register-container[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;border:1px solid #2e4c6D;border-radius:10px;background-color:#d1a054}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#2e4c6d}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#2e4c6d}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:3px;box-sizing:border-box;color:#2e4c6d}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#d2691e;color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[disabled][_ngcontent-%COMP%]{background-color:#2e4c6d;cursor:not-allowed;color:#d2691e}']});let t=e;return t})();function kce(t,e){if(t&1&&(B(0,"li")(1,"div")(2,"strong",3),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P()()()),t&2){let n=e.$implicit;Z(3),Is("",n.nombre," ",n.apellido,""),Z(2),it("Edad: ",n.edad,""),Z(2),it("DNI: ",n.DNI,""),Z(2),it("Mail: ",n.mail,"")}}function Dce(t,e){if(t&1){let n=Jt();B(0,"li")(1,"div",4)(2,"strong",3),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P()(),B(10,"div",5)(11,"p"),G(12),P(),B(13,"button",6),Ye("click",function(){let r=vt(n).$implicit,s=Pe();return _t(s.toggleHabilitado(r.id,r.habilitado))}),G(14),P()()()}if(t&2){let n=e.$implicit;Z(3),Is("",n.nombre," ",n.apellido,""),Z(2),it("Edad: ",n.edad,""),Z(2),it("DNI: ",n.DNI,""),Z(2),it("Mail: ",n.mail,""),Z(3),it("Habilitado: ",n.habilitado?"S\xED":"No",""),Z(),ye("disabled",n.habilitado),Z(),it(" ",n.habilitado?"Habilitado":"Habilitar"," ")}}function Ice(t,e){if(t&1&&(B(0,"li")(1,"div")(2,"strong",3),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P()()()),t&2){let n=e.$implicit;Z(3),Is("",n.nombre," ",n.apellido,""),Z(2),it("Edad: ",n.edad,""),Z(2),it("DNI: ",n.DNI,""),Z(2),it("Mail: ",n.mail,"")}}var kC=(()=>{let e=class e{constructor(i){this.auth=i,this.especialistas=[],this.pacientes=[],this.administradores=[]}ngOnInit(){this.loadEspecialistas(),this.loadPacientes(),this.loadAdministradores()}loadEspecialistas(){return Se(this,null,function*(){try{this.especialistas=yield this.auth.getAllEspecialistas()}catch(i){console.error("Error al obtener los especialistas:",i)}})}loadPacientes(){return Se(this,null,function*(){try{this.pacientes=yield this.auth.getAllPacientes()}catch(i){console.error("Error al obtener los pacientes:",i)}})}loadAdministradores(){return Se(this,null,function*(){try{this.administradores=yield this.auth.getAllAdmin()}catch(i){console.error("Error al obtener los administradores:",i)}})}toggleHabilitado(i,r){return Se(this,null,function*(){let s=!r;try{yield this.auth.toggleHabilitadoEspecialista(i,s);let o=this.especialistas.findIndex(a=>a.id===i);o!==-1&&(this.especialistas[o].habilitado=s)}catch(o){console.error("Error al cambiar la habilitaci\xF3n del especialista:",o)}})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-habilitar-especialistas"]],standalone:!0,features:[wn],decls:16,vars:3,consts:[[1,"container"],[1,"especialistas-list"],[4,"ngFor","ngForOf"],[1,"nombre-apellido"],[1,"especialista-details"],[1,"especialista-button"],[3,"click","disabled"]],template:function(r,s){r&1&&(B(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),G(4,"Listado de administradores"),P(),B(5,"ul"),tt(6,kce,10,5,"li",2),P()(),B(7,"h2"),G(8,"Listado de especialistas"),P(),B(9,"ul"),tt(10,Dce,15,8,"li",2),P(),B(11,"div")(12,"h2"),G(13,"Listado de pacientes"),P(),B(14,"ul"),tt(15,Ice,10,5,"li",2),P()()()()),r&2&&(Z(6),ye("ngForOf",s.administradores),Z(4),ye("ngForOf",s.especialistas),Z(5),ye("ngForOf",s.pacientes))},dependencies:[Ur],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial,sans-serif}.especialistas-list[_ngcontent-%COMP%]{width:80%;max-width:650px;margin:20px;padding:10px;background-color:#d1a054;border-radius:5px;box-shadow:0 4px 8px #0000001a;color:#2e4c6d}.especialistas-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-size:18px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.especialistas-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding:15px;background-color:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;font-size:2px}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;border:none;border-radius:2px;cursor:pointer;background-color:#d2691e;color:#2e4c6d;transition:background-color .3s ease;font-family:Roboto,Arial,sans-serif;margin-top:10px}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#2e4c6d;cursor:not-allowed;color:#d2691e}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2e4c6d;color:#d2691e}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:14px;font-family:Arial,sans-serif;color:#2e4c6d}.especialistas-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:15px;font-weight:700;font-family:Tahoma,Geneva,Verdana,sans-serif}.nombre-apellido[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:#d2691e}"]});let t=e;return t})();var DP=ma(Vh());function Mce(t,e){t&1&&(B(0,"div"),G(1,"Nombre es requerido."),P())}function Pce(t,e){t&1&&(B(0,"div"),G(1,"El nombre no debe contener n\xFAmeros."),P())}function Fce(t,e){t&1&&(B(0,"div"),G(1,"El nombre debe tener m\xEDnimo 3 caracteres"),P())}function Lce(t,e){if(t&1&&(B(0,"div"),tt(1,Mce,2,0,"div",5)(2,Pce,2,0,"div",5)(3,Fce,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("nombre"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("nombre"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("nombre"))==null?null:r.hasError("minLength"))}}function Nce(t,e){t&1&&(B(0,"div"),G(1,"Apellido es requerido."),P())}function Oce(t,e){t&1&&(B(0,"div"),G(1,"El apellido no debe contener n\xFAmeros."),P())}function Rce(t,e){t&1&&(B(0,"div"),G(1,"El apellido debe tener m\xEDnimo 3 caracteres"),P())}function Vce(t,e){if(t&1&&(B(0,"div"),tt(1,Nce,2,0,"div",5)(2,Oce,2,0,"div",5)(3,Rce,2,0,"div",5),P()),t&2){let n,i,r,s=Pe();Z(),ye("ngIf",(n=s.registerForm.get("apellido"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=s.registerForm.get("apellido"))==null?null:i.hasError("onlyLetters")),Z(),ye("ngIf",(r=s.registerForm.get("apellido"))==null?null:r.hasError("minLength"))}}function Bce(t,e){t&1&&(B(0,"div"),G(1,"Edad es requerida."),P())}function jce(t,e){t&1&&(B(0,"div"),G(1,"La edad no debe contener letras."),P())}function Uce(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function Hce(t,e){t&1&&(B(0,"div"),G(1,"Debe tener una edad entre 1-99"),P())}function zce(t,e){if(t&1&&(B(0,"div"),tt(1,Bce,2,0,"div",5)(2,jce,2,0,"div",5)(3,Uce,2,0,"div",5)(4,Hce,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("edad"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("edad"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("edad"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("edad"))==null?null:s.hasError("maxLength"))}}function $ce(t,e){t&1&&(B(0,"div"),G(1,"DNI es requerido."),P())}function Gce(t,e){t&1&&(B(0,"div"),G(1,"El DNI no debe contener letras."),P())}function Wce(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function qce(t,e){t&1&&(B(0,"div"),G(1,"Deben ser 8 d\xEDgitos"),P())}function Xce(t,e){if(t&1&&(B(0,"div"),tt(1,$ce,2,0,"div",5)(2,Gce,2,0,"div",5)(3,Wce,2,0,"div",5)(4,qce,2,0,"div",5),P()),t&2){let n,i,r,s,o=Pe();Z(),ye("ngIf",(n=o.registerForm.get("dni"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=o.registerForm.get("dni"))==null?null:i.hasError("onlyNumbers")),Z(),ye("ngIf",(r=o.registerForm.get("dni"))==null?null:r.hasError("minLength")),Z(),ye("ngIf",(s=o.registerForm.get("dni"))==null?null:s.hasError("maxLength"))}}function Yce(t,e){t&1&&(B(0,"div"),G(1,"Correo es requerido."),P())}function Kce(t,e){t&1&&(B(0,"div"),G(1,"Correo no v\xE1lido."),P())}function Qce(t,e){if(t&1&&(B(0,"div"),tt(1,Yce,2,0,"div",5)(2,Kce,2,0,"div",5),P()),t&2){let n,i,r=Pe();Z(),ye("ngIf",(n=r.registerForm.get("mail"))==null?null:n.hasError("required")),Z(),ye("ngIf",(i=r.registerForm.get("mail"))==null?null:i.hasError("email"))}}function Zce(t,e){t&1&&(B(0,"div"),G(1,"Contrase\xF1a es requerida."),P())}function Jce(t,e){if(t&1&&(B(0,"div"),tt(1,Zce,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("password"))==null?null:n.hasError("required"))}}function eue(t,e){t&1&&(B(0,"div"),G(1,"Imagen de perfil 1 es requerida."),P())}function tue(t,e){if(t&1&&(B(0,"div"),tt(1,eue,2,0,"div",5),P()),t&2){let n,i=Pe();Z(),ye("ngIf",(n=i.registerForm.get("foto1"))==null?null:n.hasError("required"))}}function nue(t,e){t&1&&(B(0,"div",22),G(1,"Captcha es requerido."),P())}var DC=(()=>{let e=class e{constructor(i,r,s){this.formBuilder=i,this.router=r,this.auth=s,this.profileImages=[],this.vieneDeRegistro=!1,this.captchaError=!1,this.registerForm=this.formBuilder.group({nombre:["",[on.required,or.onlyLetters,or.minLength(3)]],apellido:["",[on.required,or.onlyLetters,or.minLength(3)]],dni:["",[on.required,or.onlyNumbers,on.minLength(8),on.maxLength(8)]],edad:["",[on.required,or.onlyNumbers,on.min(1),on.max(99)]],mail:["",[on.required,on.email]],password:["",on.required],foto1:["",on.required],recaptcha:["",on.required]})}onSubmit(){return Se(this,null,function*(){if(this.registerForm&&this.registerForm.valid){let i=this.registerForm.value,r=this.registerForm.value.password;try{let s=yield this.auth.guardarAdmin(i,r);console.log("Admin registrado con ID: ",s),DP.default.fire({position:"top-right",icon:"success",title:"Te has registrado correctamente",showConfirmButton:!1,timer:1500})}catch(s){console.error("Error al registrar admin:",s),DP.default.fire({position:"top-left",icon:"error",title:"Error al registrarte",showConfirmButton:!1,timer:1500})}}else this.markFormGroupTouched(this.registerForm)})}markFormGroupTouched(i){Object.values(i.controls).forEach(r=>{r.markAsTouched()})}onFileChange(i,r){let s=i.target.files[0];s&&this.registerForm.patchValue({[`foto${r}`]:s})}onCaptchaResolved(i){this.registerForm.patchValue({recaptcha:i}),this.captchaError=!1}};e.\u0275fac=function(r){return new(r||e)(Je(du),Je(fo),Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-registro-admins"]],standalone:!0,features:[wn],decls:47,vars:10,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","formControlName","nombre","required",""],[4,"ngIf"],["for","apellido"],["type","text","id","apellido","name","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","name","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","name","dni","formControlName","dni","required",""],["for","mail"],["type","email","id","mail","name","mail","formControlName","mail","required",""],["for","password"],["type","password","id","password","name","password","formControlName","password","required",""],["for","profileImage1"],["type","file","id","profileImage1","name","profileImage1","required","",3,"change"],["for","captcha"],["siteKey","6Ld8VgsqAAAAAFLrzA2wZicIxziqI9e8iLJpGZLG","formControlName","recaptcha","required","",3,"resolved"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"error-message"]],template:function(r,s){if(r&1&&(B(0,"body")(1,"div",0)(2,"h2"),G(3,"Registro de admin"),P(),B(4,"form",1),Ye("ngSubmit",function(){return s.onSubmit()}),B(5,"div",2)(6,"label",3),G(7,"Nombre"),P(),Ft(8,"input",4),tt(9,Lce,4,3,"div",5),P(),B(10,"div",2)(11,"label",6),G(12,"Apellido"),P(),Ft(13,"input",7),tt(14,Vce,4,3,"div",5),P(),B(15,"div",2)(16,"label",8),G(17,"Edad"),P(),Ft(18,"input",9),tt(19,zce,5,4,"div",5),P(),B(20,"div",2)(21,"label",10),G(22,"DNI"),P(),Ft(23,"input",11),tt(24,Xce,5,4,"div",5),P(),B(25,"div",2)(26,"label",12),G(27,"Correo"),P(),Ft(28,"input",13),tt(29,Qce,3,2,"div",5),P(),B(30,"div",2)(31,"label",14),G(32,"Contrase\xF1a"),P(),Ft(33,"input",15),tt(34,Jce,2,1,"div",5),P(),B(35,"div",2)(36,"label",16),G(37,"Imagen de Perfil 1"),P(),B(38,"input",17),Ye("change",function(a){return s.onFileChange(a,1)}),P(),tt(39,tue,2,1,"div",5),P(),B(40,"div",2)(41,"label",18),G(42,"Captcha"),P(),B(43,"re-captcha",19),Ye("resolved",function(a){return s.onCaptchaResolved(a)}),P(),tt(44,nue,2,0,"div",20),P(),B(45,"button",21),G(46,"Registrarse"),P()()()()),r&2){let o,a,l,c,u,d,f;Z(4),ye("formGroup",s.registerForm),Z(5),ye("ngIf",((o=s.registerForm.get("nombre"))==null?null:o.invalid)&&(((o=s.registerForm.get("nombre"))==null?null:o.dirty)||((o=s.registerForm.get("nombre"))==null?null:o.touched))),Z(5),ye("ngIf",((a=s.registerForm.get("apellido"))==null?null:a.invalid)&&(((a=s.registerForm.get("apellido"))==null?null:a.dirty)||((a=s.registerForm.get("apellido"))==null?null:a.touched))),Z(5),ye("ngIf",((l=s.registerForm.get("edad"))==null?null:l.invalid)&&(((l=s.registerForm.get("edad"))==null?null:l.dirty)||((l=s.registerForm.get("edad"))==null?null:l.touched))),Z(5),ye("ngIf",((c=s.registerForm.get("dni"))==null?null:c.invalid)&&(((c=s.registerForm.get("dni"))==null?null:c.dirty)||((c=s.registerForm.get("dni"))==null?null:c.touched))),Z(5),ye("ngIf",((u=s.registerForm.get("mail"))==null?null:u.invalid)&&(((u=s.registerForm.get("mail"))==null?null:u.dirty)||((u=s.registerForm.get("mail"))==null?null:u.touched))),Z(5),ye("ngIf",((d=s.registerForm.get("password"))==null?null:d.invalid)&&(((d=s.registerForm.get("password"))==null?null:d.dirty)||((d=s.registerForm.get("password"))==null?null:d.touched))),Z(5),ye("ngIf",((f=s.registerForm.get("foto1"))==null?null:f.invalid)&&(((f=s.registerForm.get("foto1"))==null?null:f.dirty)||((f=s.registerForm.get("foto1"))==null?null:f.touched))),Z(5),ye("ngIf",s.captchaError),Z(),ye("disabled",s.registerForm.invalid)}},dependencies:[Ir,Ml,Jr,bd,Ms,Il,xc,hr,Fl,Pl,yc,pf,Jp,mf,Ug],styles:['body[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Dune_Rise;display:flex;background-image:url("./media/fondo-admin-NCOT7MAL.jpg");background-size:cover;background-position:center;height:105vh}.register-container[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;border:1px solid #2e4c6D;border-radius:10px;background-color:#d1a054}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#2e4c6d}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#2e4c6d}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:3px;box-sizing:border-box;color:#2e4c6d}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#d2691e;color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[disabled][_ngcontent-%COMP%]{background-color:#2e4c6d;cursor:not-allowed;color:#d2691e}']});let t=e;return t})();var H_={};H_.version="0.18.5";var t0=1200,Zg=1252,iue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],rue={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Qj=function(t){iue.indexOf(t)!=-1&&(Zg=rue[0]=t)};function sue(){Qj(1252)}var z_=function(t){t0=t,Qj(t)};function oue(){z_(1200),sue()}function aue(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var IC=function(e){return String.fromCharCode(e)},dj=function(e){return String.fromCharCode(e)},ar;var Mu=null,L_=!0,vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $_(t){for(var e="",n=0,i=0,r=0,s=0,o=0,a=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,i=t.charCodeAt(c++),o=(n&3)<<4|i>>4,r=t.charCodeAt(c++),a=(i&15)<<2|r>>6,l=r&63,isNaN(i)?a=l=64:isNaN(r)&&(l=64),e+=vf.charAt(s)+vf.charAt(o)+vf.charAt(a)+vf.charAt(l);return e}function jd(t){var e="",n=0,i=0,r=0,s=0,o=0,a=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=vf.indexOf(t.charAt(c++)),o=vf.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),a=vf.indexOf(t.charAt(c++)),i=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(i)),l=vf.indexOf(t.charAt(c++)),r=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(r));return e}var Ci=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Hd=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function i0(t){return Ci?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function hj(t){return Ci?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Dc=function(e){return Ci?Hd(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function ZC(t){if(typeof ArrayBuffer>"u")return Dc(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0;i!=t.length;++i)n[i]=t.charCodeAt(i)&255;return e}function Y_(t){if(Array.isArray(t))return t.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function lue(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Zs=Ci?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Hd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var i=new Uint8Array(n),r=0;for(e=0,n=0;e<t.length;n+=r,++e)if(r=t[e].length,t[e]instanceof Uint8Array)i.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";i.set(new Uint8Array(t[e]),n)}return i}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function cue(t){for(var e=[],n=0,i=t.length+250,r=i0(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)r[n++]=o;else if(o<2048)r[n++]=192|o>>6&31,r[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=t.charCodeAt(++s)&1023;r[n++]=240|o>>8&7,r[n++]=128|o>>2&63,r[n++]=128|a>>6&15|(o&3)<<4,r[n++]=128|a&63}else r[n++]=224|o>>12&15,r[n++]=128|o>>6&63,r[n++]=128|o&63;n>i&&(e.push(r.slice(0,n)),n=0,r=i0(65535),i=65530)}return e.push(r.slice(0,n)),Zs(e)}var qg=/\u0000/g,MC=/[\u0001-\u0006]/g;function Xg(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ic(t,e){var n=""+t;return n.length>=e?n:Fr("0",e-n.length)+n}function HP(t,e){var n=""+t;return n.length>=e?n:Fr(" ",e-n.length)+n}function BC(t,e){var n=""+t;return n.length>=e?n:n+Fr(" ",e-n.length)}function uue(t,e){var n=""+Math.round(t);return n.length>=e?n:Fr("0",e-n.length)+n}function due(t,e){var n=""+t;return n.length>=e?n:Fr("0",e-n.length)+n}var fj=Math.pow(2,32);function Hg(t,e){if(t>fj||t<-fj)return uue(t,e);var n=Math.round(t);return due(n,e)}function jC(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var pj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],IP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hue(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',t}var Lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},mj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function UC(t,e,n){for(var i=t<0?-1:1,r=t*i,s=0,o=1,a=0,l=1,c=0,u=0,d=Math.floor(r);c<e&&(d=Math.floor(r),a=d*o+s,u=d*c+l,!(r-d<5e-8));)r=1/(r-d),s=o,o=a,l=c,c=u;if(u>e&&(c>e?(u=l,a=s):(u=c,a=o)),!n)return[0,i*a,u];var f=Math.floor(i*a/u);return[f,i*a-f*u,u]}function PC(t,e,n){if(t>2958465||t<0)return null;var i=t|0,r=Math.floor(86400*(t-i)),s=0,o=[],a={D:i,T:r,u:86400*(t-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(i+=1462),a.u>.9999&&(a.u=0,++r==86400&&(a.T=r=0,++i,++a.D)),i===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(i===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),i<60&&(s=(s+6)%7),n&&(s=xue(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=s,a}var Zj=new Date(1899,11,31,0,0,0),pue=Zj.getTime(),mue=new Date(1900,2,1,0,0,0);function Jj(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=mue&&(n+=24*60*60*1e3),(n-(pue+(t.getTimezoneOffset()-Zj.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function zP(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gue(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vue(t){var e=t<0?12:11,n=zP(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function _ue(t){var e=zP(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yue(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=vue(t):e===10?n=t.toFixed(10).substr(0,12):n=_ue(t),zP(gue(n.toUpperCase()))}function VP(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yue(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return yf(14,Jj(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function xue(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function wue(t,e,n,i){var r="",s=0,o=0,a=n.y,l,c=0;switch(t){case 98:a=n.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return IP[n.m-1][1];case 5:return IP[n.m-1][0];default:return IP[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return pj[n.q][0];default:return pj[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ic(n.S,e.length):(i>=2?o=i===3?1e3:100:o=i===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(r=Ic(s,2+i),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?Ic(l,c):"";return u}function _f(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,i=t.substr(0,n);n!=t.length;n+=e)i+=(i.length>0?",":"")+t.substr(n,e);return i}var eU=/%/g;function bue(t,e,n){var i=e.replace(eU,""),r=e.length-i.length;return Rd(t,i,n*Math.pow(10,2*r))+Fr("%",r)}function Cue(t,e,n){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Rd(t,e.substr(0,i),n/Math.pow(10,3*(e.length-i)))}function tU(t,e){var n,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+tU(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else n=e.toExponential(i);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var nU=/# (\?+)( ?)\/( ?)(\d+)/;function Tue(t,e,n){var i=parseInt(t[4],10),r=Math.round(e*i),s=Math.floor(r/i),o=r-s*i,a=i;return n+(s===0?"":""+s)+" "+(o===0?Fr(" ",t[1].length+1+t[4].length):HP(o,t[1].length)+t[2]+"/"+t[3]+Ic(a,t[4].length))}function Sue(t,e,n){return n+(e===0?"":""+e)+Fr(" ",t[1].length+2+t[4].length)}var iU=/^#*0*\.([0#]+)/,rU=/\).*[0#]/,sU=/\(###\) ###\\?-####/;function Xo(t){for(var e="",n,i=0;i!=t.length;++i)switch(n=t.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function gj(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function vj(t,e){var n=t-Math.floor(t),i=Math.pow(10,e);return e<(""+Math.round(n*i)).length?0:Math.round(n*i)}function Eue(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Aue(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Vl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rU)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Vl("n",i,n):"("+Vl("n",i,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Cue(t,e,n);if(e.indexOf("%")!==-1)return bue(t,e,n);if(e.indexOf("E")!==-1)return tU(e,n);if(e.charCodeAt(0)===36)return"$"+Vl(t,e.substr(e.charAt(1)==" "?2:1),n);var r,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Hg(l,e.length);if(e.match(/^[#?]+$/))return r=Hg(n,0),r==="0"&&(r=""),r.length>e.length?r:Xo(e.substr(0,e.length-r.length))+r;if(s=e.match(nU))return Tue(s,l,c);if(e.match(/^#+0+$/))return c+Hg(l,e.length-e.indexOf("0"));if(s=e.match(iU))return r=gj(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Xo(s[1])).replace(/\.$/,"."+Xo(s[1])).replace(/\.(\d*)$/,function(_,g){return"."+g+Fr("0",Xo(s[1]).length-g.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+gj(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+_f(Hg(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Vl(t,e,-n):_f(""+(Math.floor(n)+Eue(n,s[1].length)))+"."+Ic(vj(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Vl(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Xg(Vl(t,e.replace(/[\\-]/g,""),n)),o=0,Xg(Xg(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<r.length?r.charAt(o++):_==="0"?"0":""}));if(e.match(sU))return r=Vl(t,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=UC(l,Math.pow(10,o)-1,!1),r=""+c,u=Rd("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=BC(a[2],o),u.length<s[4].length&&(u=Xo(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=UC(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?HP(a[1],o)+s[2]+"/"+s[3]+BC(a[2],o):Fr(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=Hg(n,0),e.length<=r.length?r:Xo(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var d=e.indexOf(".")-o,f=e.length-r.length-d;return Xo(e.substr(0,d)+r+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=vj(n,s[1].length),n<0?"-"+Vl(t,e,-n):_f(Aue(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ic(0,3-_.length):"")+_})+"."+Ic(o,s[1].length);switch(e){case"###,##0.00":return Vl(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=_f(Hg(l,0));return h!=="0"?c+h:"";case"###,###.00":return Vl(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Vl(t,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function kue(t,e,n){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Rd(t,e.substr(0,i),n/Math.pow(10,3*(e.length-i)))}function Due(t,e,n){var i=e.replace(eU,""),r=e.length-i.length;return Rd(t,i,n*Math.pow(10,2*r))+Fr("%",r)}function oU(t,e){var n,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+oU(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else n=e.toExponential(i);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Du(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rU)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Du("n",i,n):"("+Du("n",i,-n)+")"}if(e.charCodeAt(e.length-1)===44)return kue(t,e,n);if(e.indexOf("%")!==-1)return Due(t,e,n);if(e.indexOf("E")!==-1)return oU(e,n);if(e.charCodeAt(0)===36)return"$"+Du(t,e.substr(e.charAt(1)==" "?2:1),n);var r,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Ic(l,e.length);if(e.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>e.length?r:Xo(e.substr(0,e.length-r.length))+r;if(s=e.match(nU))return Sue(s,l,c);if(e.match(/^#+0+$/))return c+Ic(l,e.length-e.indexOf("0"));if(s=e.match(iU))return r=(""+n).replace(/^([^\.]+)$/,"$1."+Xo(s[1])).replace(/\.$/,"."+Xo(s[1])),r=r.replace(/\.(\d*)$/,function(_,g){return"."+g+Fr("0",Xo(s[1]).length-g.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+_f(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Du(t,e,-n):_f(""+n)+"."+Fr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Du(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Xg(Du(t,e.replace(/[\\-]/g,""),n)),o=0,Xg(Xg(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<r.length?r.charAt(o++):_==="0"?"0":""}));if(e.match(sU))return r=Du(t,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=UC(l,Math.pow(10,o)-1,!1),r=""+c,u=Rd("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=BC(a[2],o),u.length<s[4].length&&(u=Xo(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=UC(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?HP(a[1],o)+s[2]+"/"+s[3]+BC(a[2],o):Fr(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=""+n,e.length<=r.length?r:Xo(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var d=e.indexOf(".")-o,f=e.length-r.length-d;return Xo(e.substr(0,d)+r+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Du(t,e,-n):_f(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ic(0,3-_.length):"")+_})+"."+Ic(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=_f(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return Du(t,e.slice(0,e.lastIndexOf(".")),n)+Xo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Rd(t,e,n){return(n|0)===n?Du(t,e,n):Vl(t,e,n)}function Iue(t){for(var e=[],n=!1,i=0,r=0;i<t.length;++i)switch(t.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=t.substr(r,i-r),r=i+1}if(e[e.length]=t.substr(r),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lU(t){for(var e=0,n="",i="";e<t.length;)switch(n=t.charAt(e)){case"G":jC(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(i=n;t.charAt(e++)!=="]"&&e<t.length;)i+=t.charAt(e);if(i.match(aU))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Mue(t,e,n,i){for(var r=[],s="",o=0,a="",l="t",c,u,d,f="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!jC(t,o))throw new Error("unrecognized character "+a+" in "+t);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(d=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(d);r[r.length]={t:"t",v:s},++o;break;case"\\":var h=t.charAt(++o),_=h==="("||h===")"?h:"t";r[r.length]={t:_,v:h},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=PC(e,n,t.charAt(o+1)==="2"),c==null))return"";r[r.length]={t:"X",v:t.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=PC(e,n),c==null))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),r[r.length]={t:a,v:s},l=a;break;case"A":case"a":case"\u4E0A":var g={t:a,v:a};if(c==null&&(c=PC(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",f="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",o+=5,f="h"):t.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(c!=null&&(g.v=c.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),g.t="T",o+=5,f="h"):(g.t="t",++o),c==null&&g.t==="T")return"";r[r.length]=g,l=a;break;case"[":for(s=a;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(aU)){if(c==null&&(c=PC(e,n),c==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lU(t)||(r[r.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<t.length&&(a=t.charAt(o))==="0";)s+=a;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;r[r.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;r[r.length]={t:a,v:s},l=a;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:i===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:a,v:a},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+t);r[r.length]={t:"t",v:a},++o;break}var y=0,b=0,E;for(o=r.length-1,l="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=f,l="h",y<1&&(y=1);break;case"s":(E=r[o].v.match(/\.0+$/))&&(b=Math.max(b,E[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=r[o].t;break;case"m":l==="s"&&(r[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&r[o].v.match(/[Hh]/)&&(y=1),y<2&&r[o].v.match(/[Mm]/)&&(y=2),y<3&&r[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var F="",U;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=wue(r[o].t.charCodeAt(0),r[o].v,c,b),r[o].t="t";break;case"n":case"?":for(U=o+1;r[U]!=null&&((a=r[U].t)==="?"||a==="D"||(a===" "||a==="t")&&r[U+1]!=null&&(r[U+1].t==="?"||r[U+1].t==="t"&&r[U+1].v==="/")||r[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(r[U].v==="/"||r[U].v===" "&&r[U+1]!=null&&r[U+1].t=="?"));)r[o].v+=r[U].v,r[U]={v:"",t:";"},++U;F+=r[o].v,o=U-1;break;case"G":r[o].t="t",r[o].v=VP(e,n);break}var W="",te,I;if(F.length>0){F.charCodeAt(0)==40?(te=e<0&&F.charCodeAt(0)===45?-e:e,I=Rd("n",F,te)):(te=e<0&&i>1?-e:e,I=Rd("n",F,te),te<0&&r[0]&&r[0].t=="t"&&(I=I.substr(1),r[0].v="-"+r[0].v)),U=I.length-1;var T=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){T=o;break}var L=r.length;if(T===r.length&&I.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(U>=r[o].v.length-1?(U-=r[o].v.length,r[o].v=I.substr(U+1,r[o].v.length)):U<0?r[o].v="":(r[o].v=I.substr(0,U+1),U=-1),r[o].t="t",L=o);U>=0&&L<r.length&&(r[L].v=I.substr(0,U+1)+r[L].v)}else if(T!==r.length&&I.indexOf("E")===-1){for(U=I.indexOf(".")-1,o=T;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(u=r[o].v.indexOf(".")>-1&&o===T?r[o].v.indexOf(".")-1:r[o].v.length-1,W=r[o].v.substr(u+1);u>=0;--u)U>=0&&(r[o].v.charAt(u)==="0"||r[o].v.charAt(u)==="#")&&(W=I.charAt(U--)+W);r[o].v=W,r[o].t="t",L=o}for(U>=0&&L<r.length&&(r[L].v=I.substr(0,U+1)+r[L].v),U=I.indexOf(".")+1,o=T;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==T)){for(u=r[o].v.indexOf(".")>-1&&o===T?r[o].v.indexOf(".")+1:0,W=r[o].v.substr(0,u);u<r[o].v.length;++u)U<I.length&&(W+=I.charAt(U++));r[o].v=W,r[o].t="t",L=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(te=i>1&&e<0&&o>0&&r[o-1].v==="-"?-e:e,r[o].v=Rd(r[o].t,r[o].v,te),r[o].t="t");var N="";for(o=0;o!==r.length;++o)r[o]!=null&&(N+=r[o].v);return N}var _j=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yj(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Pue(t,e){var n=Iue(t),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[i,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(_j),a=n[1].match(_j);return yj(e,o)?[i,n[0]]:yj(e,a)?[i,n[1]]:[i,n[o!=null&&a!=null?2:1]]}return[i,s]}function yf(t,e,n){n==null&&(n={});var i="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?i=n.dateNF:i=t;break;case"number":t==14&&n.dateNF?i=n.dateNF:i=(n.table!=null?n.table:Lr)[t],i==null&&(i=n.table&&n.table[mj[t]]||Lr[mj[t]]),i==null&&(i=fue[t]||"General");break}if(jC(i,0))return VP(e,n);e instanceof Date&&(e=Jj(e,n.date1904));var r=Pue(i,e);if(jC(r[1]))return VP(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Mue(r[1],e,n,r[0])}function cU(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Lr[n]==null){e<0&&(e=n);continue}if(Lr[n]==t){e=n;break}}e<0&&(e=391)}return Lr[e]=t,e}function JC(t){for(var e=0;e!=392;++e)t[e]!==void 0&&cU(t[e],e)}function eT(){Lr=hue()}var uU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Fue(t){var e=typeof t=="number"?Lr[t]:t;return e=e.replace(uU,"(\\d+)"),new RegExp("^"+e+"$")}function Lue(t,e,n){var i=-1,r=-1,s=-1,o=-1,a=-1,l=-1;(e.match(uU)||[]).forEach(function(d,f){var h=parseInt(n[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":i=h;break;case"d":s=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?a=h:r=h;break}}),l>=0&&a==-1&&r>=0&&(a=r,r=-1);var c=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:i==-1&&r==-1&&s==-1?u:c+"T"+u}var Nue=function(){var t={};t.version="1.2.0";function e(){for(var I=0,T=new Array(256),L=0;L!=256;++L)I=L,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,T[L]=I;return typeof Int32Array<"u"?new Int32Array(T):T}var n=e();function i(I){var T=0,L=0,N=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)D[N]=I[N];for(N=0;N!=256;++N)for(L=I[N],T=256+N;T<4096;T+=256)L=D[T]=L>>>8^I[L&255];var M=[];for(N=1;N!=16;++N)M[N-1]=typeof Int32Array<"u"?D.subarray(N*256,N*256+256):D.slice(N*256,N*256+256);return M}var r=i(n),s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],h=r[8],_=r[9],g=r[10],y=r[11],b=r[12],E=r[13],F=r[14];function U(I,T){for(var L=T^-1,N=0,D=I.length;N<D;)L=L>>>8^n[(L^I.charCodeAt(N++))&255];return~L}function W(I,T){for(var L=T^-1,N=I.length-15,D=0;D<N;)L=F[I[D++]^L&255]^E[I[D++]^L>>8&255]^b[I[D++]^L>>16&255]^y[I[D++]^L>>>24]^g[I[D++]]^_[I[D++]]^h[I[D++]]^f[I[D++]]^d[I[D++]]^u[I[D++]]^c[I[D++]]^l[I[D++]]^a[I[D++]]^o[I[D++]]^s[I[D++]]^n[I[D++]];for(N+=15;D<N;)L=L>>>8^n[(L^I[D++])&255];return~L}function te(I,T){for(var L=T^-1,N=0,D=I.length,M=0,R=0;N<D;)M=I.charCodeAt(N++),M<128?L=L>>>8^n[(L^M)&255]:M<2048?(L=L>>>8^n[(L^(192|M>>6&31))&255],L=L>>>8^n[(L^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,R=I.charCodeAt(N++)&1023,L=L>>>8^n[(L^(240|M>>8&7))&255],L=L>>>8^n[(L^(128|M>>2&63))&255],L=L>>>8^n[(L^(128|R>>6&15|(M&3)<<4))&255],L=L>>>8^n[(L^(128|R&63))&255]):(L=L>>>8^n[(L^(224|M>>12&15))&255],L=L>>>8^n[(L^(128|M>>6&63))&255],L=L>>>8^n[(L^(128|M&63))&255]);return~L}return t.table=n,t.bstr=U,t.buf=W,t.str=te,t}(),Wi=function(){var e={};e.version="1.2.1";function n(J,he){for(var ce=J.split("/"),ue=he.split("/"),me=0,ge=0,Re=Math.min(ce.length,ue.length);me<Re;++me){if(ge=ce[me].length-ue[me].length)return ge;if(ce[me]!=ue[me])return ce[me]<ue[me]?-1:1}return ce.length-ue.length}function i(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:i(J.slice(0,-1));var he=J.lastIndexOf("/");return he===-1?J:J.slice(0,he+1)}function r(J){if(J.charAt(J.length-1)=="/")return r(J.slice(0,-1));var he=J.lastIndexOf("/");return he===-1?J:J.slice(he+1)}function s(J,he){typeof he=="string"&&(he=new Date(he));var ce=he.getHours();ce=ce<<6|he.getMinutes(),ce=ce<<5|he.getSeconds()>>>1,J.write_shift(2,ce);var ue=he.getFullYear()-1980;ue=ue<<4|he.getMonth()+1,ue=ue<<5|he.getDate(),J.write_shift(2,ue)}function o(J){var he=J.read_shift(2)&65535,ce=J.read_shift(2)&65535,ue=new Date,me=ce&31;ce>>>=5;var ge=ce&15;ce>>>=4,ue.setMilliseconds(0),ue.setFullYear(ce+1980),ue.setMonth(ge-1),ue.setDate(me);var Re=he&31;he>>>=5;var $e=he&63;return he>>>=6,ue.setHours(he),ue.setMinutes($e),ue.setSeconds(Re<<1),ue}function a(J){el(J,0);for(var he={},ce=0;J.l<=J.length-4;){var ue=J.read_shift(2),me=J.read_shift(2),ge=J.l+me,Re={};switch(ue){case 21589:ce=J.read_shift(1),ce&1&&(Re.mtime=J.read_shift(4)),me>5&&(ce&2&&(Re.atime=J.read_shift(4)),ce&4&&(Re.ctime=J.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}J.l=ge,he[ue]=Re}return he}var l;function c(){return l||(l={})}function u(J,he){if(J[0]==80&&J[1]==75)return Ei(J,he);if((J[0]|32)==109&&(J[1]|32)==105)return Pi(J,he);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var ce=3,ue=512,me=0,ge=0,Re=0,$e=0,Oe=0,Ve=[],Be=J.slice(0,512);el(Be,0);var ft=d(Be);switch(ce=ft[0],ce){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(ft[1]==0)return Ei(J,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}ue!==512&&(Be=J.slice(0,ue),el(Be,28));var wt=J.slice(0,ue);f(Be,ce);var Vt=Be.read_shift(4,"i");if(ce===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);Be.l+=4,Re=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),$e=Be.read_shift(4,"i"),me=Be.read_shift(4,"i"),Oe=Be.read_shift(4,"i"),ge=Be.read_shift(4,"i");for(var Ct=-1,At=0;At<109&&(Ct=Be.read_shift(4,"i"),!(Ct<0));++At)Ve[At]=Ct;var an=h(J,ue);y(Oe,ge,an,ue,Ve);var ti=E(an,Re,Ve,ue);ti[Re].name="!Directory",me>0&&$e!==R&&(ti[$e].name="!MiniFAT"),ti[Ve[0]].name="!FAT",ti.fat_addrs=Ve,ti.ssz=ue;var pr={},Kn=[],Fi=[],Eo=[];F(Re,ti,an,Kn,me,pr,Fi,$e),_(Fi,Eo,Kn),Kn.shift();var ea={FileIndex:Fi,FullPaths:Eo};return he&&he.raw&&(ea.raw={header:wt,sectors:an}),ea}function d(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(Q,"Header Signature: "),J.l+=16;var he=J.read_shift(2,"u");return[J.read_shift(2,"u"),he]}function f(J,he){var ce=9;switch(J.l+=2,ce=J.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,he){for(var ce=Math.ceil(J.length/he)-1,ue=[],me=1;me<ce;++me)ue[me-1]=J.slice(me*he,(me+1)*he);return ue[ce-1]=J.slice(ce*he),ue}function _(J,he,ce){for(var ue=0,me=0,ge=0,Re=0,$e=0,Oe=ce.length,Ve=[],Be=[];ue<Oe;++ue)Ve[ue]=Be[ue]=ue,he[ue]=ce[ue];for(;$e<Be.length;++$e)ue=Be[$e],me=J[ue].L,ge=J[ue].R,Re=J[ue].C,Ve[ue]===ue&&(me!==-1&&Ve[me]!==me&&(Ve[ue]=Ve[me]),ge!==-1&&Ve[ge]!==ge&&(Ve[ue]=Ve[ge])),Re!==-1&&(Ve[Re]=ue),me!==-1&&ue!=Ve[ue]&&(Ve[me]=Ve[ue],Be.lastIndexOf(me)<$e&&Be.push(me)),ge!==-1&&ue!=Ve[ue]&&(Ve[ge]=Ve[ue],Be.lastIndexOf(ge)<$e&&Be.push(ge));for(ue=1;ue<Oe;++ue)Ve[ue]===ue&&(ge!==-1&&Ve[ge]!==ge?Ve[ue]=Ve[ge]:me!==-1&&Ve[me]!==me&&(Ve[ue]=Ve[me]));for(ue=1;ue<Oe;++ue)if(J[ue].type!==0){if($e=ue,$e!=Ve[$e])do $e=Ve[$e],he[ue]=he[$e]+"/"+he[ue];while($e!==0&&Ve[$e]!==-1&&$e!=Ve[$e]);Ve[ue]=-1}for(he[0]+="/",ue=1;ue<Oe;++ue)J[ue].type!==2&&(he[ue]+="/")}function g(J,he,ce){for(var ue=J.start,me=J.size,ge=[],Re=ue;ce&&me>0&&Re>=0;)ge.push(he.slice(Re*M,Re*M+M)),me-=M,Re=e0(ce,Re*4);return ge.length===0?nt(0):Zs(ge).slice(0,J.size)}function y(J,he,ce,ue,me){var ge=R;if(J===R){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Re=ce[J],$e=(ue>>>2)-1;if(!Re)return;for(var Oe=0;Oe<$e&&(ge=e0(Re,Oe*4))!==R;++Oe)me.push(ge);y(e0(Re,ue-4),he-1,ce,ue,me)}}function b(J,he,ce,ue,me){var ge=[],Re=[];me||(me=[]);var $e=ue-1,Oe=0,Ve=0;for(Oe=he;Oe>=0;){me[Oe]=!0,ge[ge.length]=Oe,Re.push(J[Oe]);var Be=ce[Math.floor(Oe*4/ue)];if(Ve=Oe*4&$e,ue<4+Ve)throw new Error("FAT boundary crossed: "+Oe+" 4 "+ue);if(!J[Be])break;Oe=e0(J[Be],Ve)}return{nodes:ge,data:Aj([Re])}}function E(J,he,ce,ue){var me=J.length,ge=[],Re=[],$e=[],Oe=[],Ve=ue-1,Be=0,ft=0,wt=0,Vt=0;for(Be=0;Be<me;++Be)if($e=[],wt=Be+he,wt>=me&&(wt-=me),!Re[wt]){Oe=[];var Ct=[];for(ft=wt;ft>=0;){Ct[ft]=!0,Re[ft]=!0,$e[$e.length]=ft,Oe.push(J[ft]);var At=ce[Math.floor(ft*4/ue)];if(Vt=ft*4&Ve,ue<4+Vt)throw new Error("FAT boundary crossed: "+ft+" 4 "+ue);if(!J[At]||(ft=e0(J[At],Vt),Ct[ft]))break}ge[wt]={nodes:$e,data:Aj([Oe])}}return ge}function F(J,he,ce,ue,me,ge,Re,$e){for(var Oe=0,Ve=ue.length?2:0,Be=he[J].data,ft=0,wt=0,Vt;ft<Be.length;ft+=128){var Ct=Be.slice(ft,ft+128);el(Ct,64),wt=Ct.read_shift(2),Vt=iT(Ct,0,wt-Ve),ue.push(Vt);var At={name:Vt,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},an=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);an!==0&&(At.ct=U(Ct,Ct.l-8));var ti=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);ti!==0&&(At.mt=U(Ct,Ct.l-8)),At.start=Ct.read_shift(4,"i"),At.size=Ct.read_shift(4,"i"),At.size<0&&At.start<0&&(At.size=At.type=0,At.start=R,At.name=""),At.type===5?(Oe=At.start,me>0&&Oe!==R&&(he[Oe].name="!StreamData")):At.size>=4096?(At.storage="fat",he[At.start]===void 0&&(he[At.start]=b(ce,At.start,he.fat_addrs,he.ssz)),he[At.start].name=At.name,At.content=he[At.start].data.slice(0,At.size)):(At.storage="minifat",At.size<0?At.size=0:Oe!==R&&At.start!==R&&he[Oe]&&(At.content=g(At,he[Oe].data,(he[$e]||{}).data))),At.content&&el(At.content,0),ge[Vt]=At,Re.push(At)}}function U(J,he){return new Date((Os(J,he+4)/1e7*Math.pow(2,32)+Os(J,he)/1e7-11644473600)*1e3)}function W(J,he){return c(),u(l.readFileSync(J),he)}function te(J,he){var ce=he&&he.type;switch(ce||Ci&&Buffer.isBuffer(J)&&(ce="buffer"),ce||"base64"){case"file":return W(J,he);case"base64":return u(Dc(jd(J)),he);case"binary":return u(Dc(J),he)}return u(J,he)}function I(J,he){var ce=he||{},ue=ce.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=ue+"/",J.FileIndex[0]={name:ue,type:5}),ce.CLSID&&(J.FileIndex[0].clsid=ce.CLSID),T(J)}function T(J){var he="Sh33tJ5";if(!Wi.find(J,"/"+he)){var ce=nt(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,J.FileIndex.push({name:he,type:2,content:ce,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+he),L(J)}}function L(J,he){I(J);for(var ce=!1,ue=!1,me=J.FullPaths.length-1;me>=0;--me){var ge=J.FileIndex[me];switch(ge.type){case 0:ue?ce=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ge.R*ge.L*ge.C)&&(ce=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!he)){var Re=new Date(1987,1,19),$e=0,Oe=Object.create?Object.create(null):{},Ve=[];for(me=0;me<J.FullPaths.length;++me)Oe[J.FullPaths[me]]=!0,J.FileIndex[me].type!==0&&Ve.push([J.FullPaths[me],J.FileIndex[me]]);for(me=0;me<Ve.length;++me){var Be=i(Ve[me][0]);ue=Oe[Be],ue||(Ve.push([Be,{name:r(Be).replace("/",""),type:1,clsid:le,ct:Re,mt:Re,content:null}]),Oe[Be]=!0)}for(Ve.sort(function(Vt,Ct){return n(Vt[0],Ct[0])}),J.FullPaths=[],J.FileIndex=[],me=0;me<Ve.length;++me)J.FullPaths[me]=Ve[me][0],J.FileIndex[me]=Ve[me][1];for(me=0;me<Ve.length;++me){var ft=J.FileIndex[me],wt=J.FullPaths[me];if(ft.name=r(wt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||le,me===0)ft.C=Ve.length>1?1:-1,ft.size=0,ft.type=5;else if(wt.slice(-1)=="/"){for($e=me+1;$e<Ve.length&&i(J.FullPaths[$e])!=wt;++$e);for(ft.C=$e>=Ve.length?-1:$e,$e=me+1;$e<Ve.length&&i(J.FullPaths[$e])!=i(wt);++$e);ft.R=$e>=Ve.length?-1:$e,ft.type=1}else i(J.FullPaths[me+1]||"")==i(wt)&&(ft.R=me+1),ft.type=2}}}function N(J,he){var ce=he||{};if(ce.fileType=="mad")return Kt(J,ce);switch(L(J),ce.fileType){case"zip":return Xi(J,ce)}var ue=function(Vt){for(var Ct=0,At=0,an=0;an<Vt.FileIndex.length;++an){var ti=Vt.FileIndex[an];if(ti.content){var pr=ti.content.length;pr>0&&(pr<4096?Ct+=pr+63>>6:At+=pr+511>>9)}}for(var Kn=Vt.FullPaths.length+3>>2,Fi=Ct+7>>3,Eo=Ct+127>>7,ea=Fi+At+Kn+Eo,_s=ea+127>>7,Ao=_s<=109?0:Math.ceil((_s-109)/127);ea+_s+Ao+127>>7>_s;)Ao=++_s<=109?0:Math.ceil((_s-109)/127);var ys=[1,Ao,_s,Eo,Kn,At,Ct,0];return Vt.FileIndex[0].size=Ct<<6,ys[7]=(Vt.FileIndex[0].start=ys[0]+ys[1]+ys[2]+ys[3]+ys[4]+ys[5])+(ys[6]+7>>3),ys}(J),me=nt(ue[7]<<9),ge=0,Re=0;{for(ge=0;ge<8;++ge)me.write_shift(1,oe[ge]);for(ge=0;ge<8;++ge)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),ge=0;ge<3;++ge)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ue[2]),me.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:R),me.write_shift(4,ue[3]),me.write_shift(-4,ue[1]?ue[0]-1:R),me.write_shift(4,ue[1]),ge=0;ge<109;++ge)me.write_shift(-4,ge<ue[2]?ue[1]+ge:-1)}if(ue[1])for(Re=0;Re<ue[1];++Re){for(;ge<236+Re*127;++ge)me.write_shift(-4,ge<ue[2]?ue[1]+ge:-1);me.write_shift(-4,Re===ue[1]-1?R:Re+1)}var $e=function(Vt){for(Re+=Vt;ge<Re-1;++ge)me.write_shift(-4,ge+1);Vt&&(++ge,me.write_shift(-4,R))};for(Re=ge=0,Re+=ue[1];ge<Re;++ge)me.write_shift(-4,ie.DIFSECT);for(Re+=ue[2];ge<Re;++ge)me.write_shift(-4,ie.FATSECT);$e(ue[3]),$e(ue[4]);for(var Oe=0,Ve=0,Be=J.FileIndex[0];Oe<J.FileIndex.length;++Oe)Be=J.FileIndex[Oe],Be.content&&(Ve=Be.content.length,!(Ve<4096)&&(Be.start=Re,$e(Ve+511>>9)));for($e(ue[6]+7>>3);me.l&511;)me.write_shift(-4,ie.ENDOFCHAIN);for(Re=ge=0,Oe=0;Oe<J.FileIndex.length;++Oe)Be=J.FileIndex[Oe],Be.content&&(Ve=Be.content.length,!(!Ve||Ve>=4096)&&(Be.start=Re,$e(Ve+63>>6)));for(;me.l&511;)me.write_shift(-4,ie.ENDOFCHAIN);for(ge=0;ge<ue[4]<<2;++ge){var ft=J.FullPaths[ge];if(!ft||ft.length===0){for(Oe=0;Oe<17;++Oe)me.write_shift(4,0);for(Oe=0;Oe<3;++Oe)me.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)me.write_shift(4,0);continue}Be=J.FileIndex[ge],ge===0&&(Be.start=Be.size?Be.start-1:R);var wt=ge===0&&ce.root||Be.name;if(Ve=2*(wt.length+1),me.write_shift(64,wt,"utf16le"),me.write_shift(2,Ve),me.write_shift(1,Be.type),me.write_shift(1,Be.color),me.write_shift(-4,Be.L),me.write_shift(-4,Be.R),me.write_shift(-4,Be.C),Be.clsid)me.write_shift(16,Be.clsid,"hex");else for(Oe=0;Oe<4;++Oe)me.write_shift(4,0);me.write_shift(4,Be.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,Be.start),me.write_shift(4,Be.size),me.write_shift(4,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Be=J.FileIndex[ge],Be.size>=4096)if(me.l=Be.start+1<<9,Ci&&Buffer.isBuffer(Be.content))Be.content.copy(me,me.l,0,Be.size),me.l+=Be.size+511&-512;else{for(Oe=0;Oe<Be.size;++Oe)me.write_shift(1,Be.content[Oe]);for(;Oe&511;++Oe)me.write_shift(1,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Be=J.FileIndex[ge],Be.size>0&&Be.size<4096)if(Ci&&Buffer.isBuffer(Be.content))Be.content.copy(me,me.l,0,Be.size),me.l+=Be.size+63&-64;else{for(Oe=0;Oe<Be.size;++Oe)me.write_shift(1,Be.content[Oe]);for(;Oe&63;++Oe)me.write_shift(1,0)}if(Ci)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function D(J,he){var ce=J.FullPaths.map(function(Oe){return Oe.toUpperCase()}),ue=ce.map(function(Oe){var Ve=Oe.split("/");return Ve[Ve.length-(Oe.slice(-1)=="/"?2:1)]}),me=!1;he.charCodeAt(0)===47?(me=!0,he=ce[0].slice(0,-1)+he):me=he.indexOf("/")!==-1;var ge=he.toUpperCase(),Re=me===!0?ce.indexOf(ge):ue.indexOf(ge);if(Re!==-1)return J.FileIndex[Re];var $e=!ge.match(MC);for(ge=ge.replace(qg,""),$e&&(ge=ge.replace(MC,"!")),Re=0;Re<ce.length;++Re)if(($e?ce[Re].replace(MC,"!"):ce[Re]).replace(qg,"")==ge||($e?ue[Re].replace(MC,"!"):ue[Re]).replace(qg,"")==ge)return J.FileIndex[Re];return null}var M=64,R=-2,Q="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],le="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function fe(J,he,ce){c();var ue=N(J,ce);l.writeFileSync(he,ue)}function be(J){for(var he=new Array(J.length),ce=0;ce<J.length;++ce)he[ce]=String.fromCharCode(J[ce]);return he.join("")}function Ce(J,he){var ce=N(J,he);switch(he&&he.type||"buffer"){case"file":return c(),l.writeFileSync(he.filename,ce),ce;case"binary":return typeof ce=="string"?ce:be(ce);case"base64":return $_(typeof ce=="string"?ce:be(ce));case"buffer":if(Ci)return Buffer.isBuffer(ce)?ce:Hd(ce);case"array":return typeof ce=="string"?Dc(ce):ce}return ce}var Ue;function C(J){try{var he=J.InflateRaw,ce=new he;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)Ue=J;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function q(J,he){if(!Ue)return Gn(J,he);var ce=Ue.InflateRaw,ue=new ce,me=ue._processChunk(J.slice(J.l),ue._finishFlushFlag);return J.l+=ue.bytesRead,me}function j(J){return Ue?Ue.deflateRawSync(J):Tn(J)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(J){var he=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(he>>16|he>>8|he)&255}for(var Te=typeof Uint8Array<"u",Fe=Te?new Uint8Array(256):[],et=0;et<256;++et)Fe[et]=Ee(et);function ot(J,he){var ce=Fe[J&255];return he<=8?ce>>>8-he:(ce=ce<<8|Fe[J>>8&255],he<=16?ce>>>16-he:(ce=ce<<8|Fe[J>>16&255],ce>>>24-he))}function bt(J,he){var ce=he&7,ue=he>>>3;return(J[ue]|(ce<=6?0:J[ue+1]<<8))>>>ce&3}function Tt(J,he){var ce=he&7,ue=he>>>3;return(J[ue]|(ce<=5?0:J[ue+1]<<8))>>>ce&7}function Ge(J,he){var ce=he&7,ue=he>>>3;return(J[ue]|(ce<=4?0:J[ue+1]<<8))>>>ce&15}function ve(J,he){var ce=he&7,ue=he>>>3;return(J[ue]|(ce<=3?0:J[ue+1]<<8))>>>ce&31}function rt(J,he){var ce=he&7,ue=he>>>3;return(J[ue]|(ce<=1?0:J[ue+1]<<8))>>>ce&127}function St(J,he,ce){var ue=he&7,me=he>>>3,ge=(1<<ce)-1,Re=J[me]>>>ue;return ce<8-ue||(Re|=J[me+1]<<8-ue,ce<16-ue)||(Re|=J[me+2]<<16-ue,ce<24-ue)||(Re|=J[me+3]<<24-ue),Re&ge}function Ke(J,he,ce){var ue=he&7,me=he>>>3;return ue<=5?J[me]|=(ce&7)<<ue:(J[me]|=ce<<ue&255,J[me+1]=(ce&7)>>8-ue),he+3}function xt(J,he,ce){var ue=he&7,me=he>>>3;return ce=(ce&1)<<ue,J[me]|=ce,he+1}function kt(J,he,ce){var ue=he&7,me=he>>>3;return ce<<=ue,J[me]|=ce&255,ce>>>=8,J[me+1]=ce,he+8}function Mt(J,he,ce){var ue=he&7,me=he>>>3;return ce<<=ue,J[me]|=ce&255,ce>>>=8,J[me+1]=ce&255,J[me+2]=ce>>>8,he+16}function Wt(J,he){var ce=J.length,ue=2*ce>he?2*ce:he+5,me=0;if(ce>=he)return J;if(Ci){var ge=hj(ue);if(J.copy)J.copy(ge);else for(;me<J.length;++me)ge[me]=J[me];return ge}else if(Te){var Re=new Uint8Array(ue);if(Re.set)Re.set(J);else for(;me<ce;++me)Re[me]=J[me];return Re}return J.length=ue,J}function en(J){for(var he=new Array(J),ce=0;ce<J;++ce)he[ce]=0;return he}function cn(J,he,ce){var ue=1,me=0,ge=0,Re=0,$e=0,Oe=J.length,Ve=Te?new Uint16Array(32):en(32);for(ge=0;ge<32;++ge)Ve[ge]=0;for(ge=Oe;ge<ce;++ge)J[ge]=0;Oe=J.length;var Be=Te?new Uint16Array(Oe):en(Oe);for(ge=0;ge<Oe;++ge)Ve[me=J[ge]]++,ue<me&&(ue=me),Be[ge]=0;for(Ve[0]=0,ge=1;ge<=ue;++ge)Ve[ge+16]=$e=$e+Ve[ge-1]<<1;for(ge=0;ge<Oe;++ge)$e=J[ge],$e!=0&&(Be[ge]=Ve[$e+16]++);var ft=0;for(ge=0;ge<Oe;++ge)if(ft=J[ge],ft!=0)for($e=ot(Be[ge],ue)>>ue-ft,Re=(1<<ue+4-ft)-1;Re>=0;--Re)he[$e|Re<<ft]=ft&15|ge<<4;return ue}var pn=Te?new Uint16Array(512):en(512),qt=Te?new Uint16Array(32):en(32);if(!Te){for(var rn=0;rn<512;++rn)pn[rn]=0;for(rn=0;rn<32;++rn)qt[rn]=0}(function(){for(var J=[],he=0;he<32;he++)J.push(5);cn(J,qt,32);var ce=[];for(he=0;he<=143;he++)ce.push(8);for(;he<=255;he++)ce.push(9);for(;he<=279;he++)ce.push(7);for(;he<=287;he++)ce.push(8);cn(ce,pn,288)})();var tn=function(){for(var he=Te?new Uint8Array(32768):[],ce=0,ue=0;ce<xe.length-1;++ce)for(;ue<xe[ce+1];++ue)he[ue]=ce;for(;ue<32768;++ue)he[ue]=29;var me=Te?new Uint8Array(259):[];for(ce=0,ue=0;ce<de.length-1;++ce)for(;ue<de[ce+1];++ue)me[ue]=ce;function ge($e,Oe){for(var Ve=0;Ve<$e.length;){var Be=Math.min(65535,$e.length-Ve),ft=Ve+Be==$e.length;for(Oe.write_shift(1,+ft),Oe.write_shift(2,Be),Oe.write_shift(2,~Be&65535);Be-- >0;)Oe[Oe.l++]=$e[Ve++]}return Oe.l}function Re($e,Oe){for(var Ve=0,Be=0,ft=Te?new Uint16Array(32768):[];Be<$e.length;){var wt=Math.min(65535,$e.length-Be);if(wt<10){for(Ve=Ke(Oe,Ve,+(Be+wt==$e.length)),Ve&7&&(Ve+=8-(Ve&7)),Oe.l=Ve/8|0,Oe.write_shift(2,wt),Oe.write_shift(2,~wt&65535);wt-- >0;)Oe[Oe.l++]=$e[Be++];Ve=Oe.l*8;continue}Ve=Ke(Oe,Ve,+(Be+wt==$e.length)+2);for(var Vt=0;wt-- >0;){var Ct=$e[Be];Vt=(Vt<<5^Ct)&32767;var At=-1,an=0;if((At=ft[Vt])&&(At|=Be&-32768,At>Be&&(At-=32768),At<Be))for(;$e[At+an]==$e[Be+an]&&an<250;)++an;if(an>2){Ct=me[an],Ct<=22?Ve=kt(Oe,Ve,Fe[Ct+1]>>1)-1:(kt(Oe,Ve,3),Ve+=5,kt(Oe,Ve,Fe[Ct-23]>>5),Ve+=3);var ti=Ct<8?0:Ct-4>>2;ti>0&&(Mt(Oe,Ve,an-de[Ct]),Ve+=ti),Ct=he[Be-At],Ve=kt(Oe,Ve,Fe[Ct]>>3),Ve-=3;var pr=Ct<4?0:Ct-2>>1;pr>0&&(Mt(Oe,Ve,Be-At-xe[Ct]),Ve+=pr);for(var Kn=0;Kn<an;++Kn)ft[Vt]=Be&32767,Vt=(Vt<<5^$e[Be])&32767,++Be;wt-=an-1}else Ct<=143?Ct=Ct+48:Ve=xt(Oe,Ve,1),Ve=kt(Oe,Ve,Fe[Ct]),ft[Vt]=Be&32767,++Be}Ve=kt(Oe,Ve,0)-1}return Oe.l=(Ve+7)/8|0,Oe.l}return function(Oe,Ve){return Oe.length<8?ge(Oe,Ve):Re(Oe,Ve)}}();function Tn(J){var he=nt(50+Math.floor(J.length*1.1)),ce=tn(J,he);return he.slice(0,ce)}var Dt=Te?new Uint16Array(32768):en(32768),qi=Te?new Uint16Array(32768):en(32768),Dn=Te?new Uint16Array(128):en(128),kr=1,Jn=1;function mi(J,he){var ce=ve(J,he)+257;he+=5;var ue=ve(J,he)+1;he+=5;var me=Ge(J,he)+4;he+=4;for(var ge=0,Re=Te?new Uint8Array(19):en(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,Ve=Te?new Uint8Array(8):en(8),Be=Te?new Uint8Array(8):en(8),ft=Re.length,wt=0;wt<me;++wt)Re[X[wt]]=ge=Tt(J,he),Oe<ge&&(Oe=ge),Ve[ge]++,he+=3;var Vt=0;for(Ve[0]=0,wt=1;wt<=Oe;++wt)Be[wt]=Vt=Vt+Ve[wt-1]<<1;for(wt=0;wt<ft;++wt)(Vt=Re[wt])!=0&&($e[wt]=Be[Vt]++);var Ct=0;for(wt=0;wt<ft;++wt)if(Ct=Re[wt],Ct!=0){Vt=Fe[$e[wt]]>>8-Ct;for(var At=(1<<7-Ct)-1;At>=0;--At)Dn[Vt|At<<Ct]=Ct&7|wt<<3}var an=[];for(Oe=1;an.length<ce+ue;)switch(Vt=Dn[rt(J,he)],he+=Vt&7,Vt>>>=3){case 16:for(ge=3+bt(J,he),he+=2,Vt=an[an.length-1];ge-- >0;)an.push(Vt);break;case 17:for(ge=3+Tt(J,he),he+=3;ge-- >0;)an.push(0);break;case 18:for(ge=11+rt(J,he),he+=7;ge-- >0;)an.push(0);break;default:an.push(Vt),Oe<Vt&&(Oe=Vt);break}var ti=an.slice(0,ce),pr=an.slice(ce);for(wt=ce;wt<286;++wt)ti[wt]=0;for(wt=ue;wt<30;++wt)pr[wt]=0;return kr=cn(ti,Dt,286),Jn=cn(pr,qi,30),he}function vs(J,he){if(J[0]==3&&!(J[1]&3))return[i0(he),2];for(var ce=0,ue=0,me=hj(he||1<<18),ge=0,Re=me.length>>>0,$e=0,Oe=0;!(ue&1);){if(ue=Tt(J,ce),ce+=3,ue>>>1)ue>>1==1?($e=9,Oe=5):(ce=mi(J,ce),$e=kr,Oe=Jn);else{ce&7&&(ce+=8-(ce&7));var Ve=J[ce>>>3]|J[(ce>>>3)+1]<<8;if(ce+=32,Ve>0)for(!he&&Re<ge+Ve&&(me=Wt(me,ge+Ve),Re=me.length);Ve-- >0;)me[ge++]=J[ce>>>3],ce+=8;continue}for(;;){!he&&Re<ge+32767&&(me=Wt(me,ge+32767),Re=me.length);var Be=St(J,ce,$e),ft=ue>>>1==1?pn[Be]:Dt[Be];if(ce+=ft&15,ft>>>=4,!(ft>>>8&255))me[ge++]=ft;else{if(ft==256)break;ft-=257;var wt=ft<8?0:ft-4>>2;wt>5&&(wt=0);var Vt=ge+de[ft];wt>0&&(Vt+=St(J,ce,wt),ce+=wt),Be=St(J,ce,Oe),ft=ue>>>1==1?qt[Be]:qi[Be],ce+=ft&15,ft>>>=4;var Ct=ft<4?0:ft-2>>1,At=xe[ft];for(Ct>0&&(At+=St(J,ce,Ct),ce+=Ct),!he&&Re<Vt&&(me=Wt(me,Vt+100),Re=me.length);ge<Vt;)me[ge]=me[ge-At],++ge}}}return he?[me,ce+7>>>3]:[me.slice(0,ge),ce+7>>>3]}function Gn(J,he){var ce=J.slice(J.l||0),ue=vs(ce,he);return J.l+=ue[1],ue[0]}function ls(J,he){if(J)typeof console<"u"&&console.error(he);else throw new Error(he)}function Ei(J,he){var ce=J;el(ce,0);var ue=[],me=[],ge={FileIndex:ue,FullPaths:me};I(ge,{root:he.root});for(var Re=ce.length-4;(ce[Re]!=80||ce[Re+1]!=75||ce[Re+2]!=5||ce[Re+3]!=6)&&Re>=0;)--Re;ce.l=Re+4,ce.l+=4;var $e=ce.read_shift(2);ce.l+=6;var Oe=ce.read_shift(4);for(ce.l=Oe,Re=0;Re<$e;++Re){ce.l+=20;var Ve=ce.read_shift(4),Be=ce.read_shift(4),ft=ce.read_shift(2),wt=ce.read_shift(2),Vt=ce.read_shift(2);ce.l+=8;var Ct=ce.read_shift(4),At=a(ce.slice(ce.l+ft,ce.l+ft+wt));ce.l+=ft+wt+Vt;var an=ce.l;ce.l=Ct+4,Ai(ce,Ve,Be,ge,At),ce.l=an}return ge}function Ai(J,he,ce,ue,me){J.l+=2;var ge=J.read_shift(2),Re=J.read_shift(2),$e=o(J);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=J.read_shift(4),Ve=J.read_shift(4),Be=J.read_shift(4),ft=J.read_shift(2),wt=J.read_shift(2),Vt="",Ct=0;Ct<ft;++Ct)Vt+=String.fromCharCode(J[J.l++]);if(wt){var At=a(J.slice(J.l,J.l+wt));(At[21589]||{}).mt&&($e=At[21589].mt),((me||{})[21589]||{}).mt&&($e=me[21589].mt)}J.l+=wt;var an=J.slice(J.l,J.l+Ve);switch(Re){case 8:an=q(J,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var ti=!1;ge&8&&(Oe=J.read_shift(4),Oe==134695760&&(Oe=J.read_shift(4),ti=!0),Ve=J.read_shift(4),Be=J.read_shift(4)),Ve!=he&&ls(ti,"Bad compressed size: "+he+" != "+Ve),Be!=ce&&ls(ti,"Bad uncompressed size: "+ce+" != "+Be),ni(ue,Vt,an,{unsafe:!0,mt:$e})}function Xi(J,he){var ce=he||{},ue=[],me=[],ge=nt(1),Re=ce.compression?8:0,$e=0,Oe=!1;Oe&&($e|=8);var Ve=0,Be=0,ft=0,wt=0,Vt=J.FullPaths[0],Ct=Vt,At=J.FileIndex[0],an=[],ti=0;for(Ve=1;Ve<J.FullPaths.length;++Ve)if(Ct=J.FullPaths[Ve].slice(Vt.length),At=J.FileIndex[Ve],!(!At.size||!At.content||Ct=="Sh33tJ5")){var pr=ft,Kn=nt(Ct.length);for(Be=0;Be<Ct.length;++Be)Kn.write_shift(1,Ct.charCodeAt(Be)&127);Kn=Kn.slice(0,Kn.l),an[wt]=Nue.buf(At.content,0);var Fi=At.content;Re==8&&(Fi=j(Fi)),ge=nt(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,$e),ge.write_shift(2,Re),At.mt?s(ge,At.mt):ge.write_shift(4,0),ge.write_shift(-4,$e&8?0:an[wt]),ge.write_shift(4,$e&8?0:Fi.length),ge.write_shift(4,$e&8?0:At.content.length),ge.write_shift(2,Kn.length),ge.write_shift(2,0),ft+=ge.length,ue.push(ge),ft+=Kn.length,ue.push(Kn),ft+=Fi.length,ue.push(Fi),$e&8&&(ge=nt(12),ge.write_shift(-4,an[wt]),ge.write_shift(4,Fi.length),ge.write_shift(4,At.content.length),ft+=ge.l,ue.push(ge)),ge=nt(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,$e),ge.write_shift(2,Re),ge.write_shift(4,0),ge.write_shift(-4,an[wt]),ge.write_shift(4,Fi.length),ge.write_shift(4,At.content.length),ge.write_shift(2,Kn.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,pr),ti+=ge.l,me.push(ge),ti+=Kn.length,me.push(Kn),++wt}return ge=nt(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,wt),ge.write_shift(2,wt),ge.write_shift(4,ti),ge.write_shift(4,ft),ge.write_shift(2,0),Zs([Zs(ue),Zs(me),ge])}var ui={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qt(J,he){if(J.ctype)return J.ctype;var ce=J.name||"",ue=ce.match(/\.([^\.]+)$/);return ue&&ui[ue[1]]||he&&(ue=(ce=he).match(/[\.\\]([^\.\\])+$/),ue&&ui[ue[1]])?ui[ue[1]]:"application/octet-stream"}function Sn(J){for(var he=$_(J),ce=[],ue=0;ue<he.length;ue+=76)ce.push(he.slice(ue,ue+76));return ce.join(`\r
`)+`\r
`}function So(J){var he=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var Be=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],ue=he.split(`\r
`),me=0;me<ue.length;++me){var ge=ue[me];if(ge.length==0){ce.push("");continue}for(var Re=0;Re<ge.length;){var $e=76,Oe=ge.slice(Re,Re+$e);Oe.charAt($e-1)=="="?$e--:Oe.charAt($e-2)=="="?$e-=2:Oe.charAt($e-3)=="="&&($e-=3),Oe=ge.slice(Re,Re+$e),Re+=$e,Re<ge.length&&(Oe+="="),ce.push(Oe)}}return ce.join(`\r
`)}function Yi(J){for(var he=[],ce=0;ce<J.length;++ce){for(var ue=J[ce];ce<=J.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+J[++ce];he.push(ue)}for(var me=0;me<he.length;++me)he[me]=he[me].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Dc(he.join(`\r
`))}function vn(J,he,ce){for(var ue="",me="",ge="",Re,$e=0;$e<10;++$e){var Oe=he[$e];if(!Oe||Oe.match(/^\s*$/))break;var Ve=Oe.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ue=Ve[2].trim();break;case"content-type":ge=Ve[2].trim();break;case"content-transfer-encoding":me=Ve[2].trim();break}}switch(++$e,me.toLowerCase()){case"base64":Re=Dc(jd(he.slice($e).join("")));break;case"quoted-printable":Re=Yi(he.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var Be=ni(J,ue.slice(ce.length),Re,{unsafe:!0});ge&&(Be.ctype=ge)}function Pi(J,he){if(be(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=he&&he.root||"",ue=(Ci&&Buffer.isBuffer(J)?J.toString("binary"):be(J)).split(`\r
`),me=0,ge="";for(me=0;me<ue.length;++me)if(ge=ue[me],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),ce||(ce=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),ge.slice(0,ce.length)!=ce););var Re=(ue[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var $e="--"+(Re[1]||""),Oe=[],Ve=[],Be={FileIndex:Oe,FullPaths:Ve};I(Be);var ft,wt=0;for(me=0;me<ue.length;++me){var Vt=ue[me];Vt!==$e&&Vt!==$e+"--"||(wt++&&vn(Be,ue.slice(ft,me),ce),ft=me)}return Be}function Kt(J,he){var ce=he||{},ue=ce.boundary||"SheetJS";ue="------="+ue;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ge=J.FullPaths[0],Re=ge,$e=J.FileIndex[0],Oe=1;Oe<J.FullPaths.length;++Oe)if(Re=J.FullPaths[Oe].slice(ge.length),$e=J.FileIndex[Oe],!(!$e.size||!$e.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(an){return"_x"+an.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(an){return"_u"+an.charCodeAt(0).toString(16)+"_"});for(var Ve=$e.content,Be=Ci&&Buffer.isBuffer(Ve)?Ve.toString("binary"):be(Ve),ft=0,wt=Math.min(1024,Be.length),Vt=0,Ct=0;Ct<=wt;++Ct)(Vt=Be.charCodeAt(Ct))>=32&&Vt<128&&++ft;var At=ft>=wt*4/5;me.push(ue),me.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+Re),me.push("Content-Transfer-Encoding: "+(At?"quoted-printable":"base64")),me.push("Content-Type: "+Qt($e,Re)),me.push(""),me.push(At?So(Be):Sn(Be))}return me.push(ue+`--\r
`),me.join(`\r
`)}function ei(J){var he={};return I(he,J),he}function ni(J,he,ce,ue){var me=ue&&ue.unsafe;me||I(J);var ge=!me&&Wi.find(J,he);if(!ge){var Re=J.FullPaths[0];he.slice(0,Re.length)==Re?Re=he:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+he).replace("//","/")),ge={name:r(he),type:2},J.FileIndex.push(ge),J.FullPaths.push(Re),me||Wi.utils.cfb_gc(J)}return ge.content=ce,ge.size=ce?ce.length:0,ue&&(ue.CLSID&&(ge.clsid=ue.CLSID),ue.mt&&(ge.mt=ue.mt),ue.ct&&(ge.ct=ue.ct)),ge}function Wn(J,he){I(J);var ce=Wi.find(J,he);if(ce){for(var ue=0;ue<J.FileIndex.length;++ue)if(J.FileIndex[ue]==ce)return J.FileIndex.splice(ue,1),J.FullPaths.splice(ue,1),!0}return!1}function yi(J,he,ce){I(J);var ue=Wi.find(J,he);if(ue){for(var me=0;me<J.FileIndex.length;++me)if(J.FileIndex[me]==ue)return J.FileIndex[me].name=r(ce),J.FullPaths[me]=ce,!0}return!1}function Ki(J){L(J,!0)}return e.find=D,e.read=te,e.parse=u,e.write=Ce,e.writeFile=fe,e.utils={cfb_new:ei,cfb_add:ni,cfb_del:Wn,cfb_mov:yi,cfb_gc:Ki,ReadShift:V_,CheckField:CU,prep_blob:el,bconcat:Zs,use_zlib:C,_deflateRaw:Tn,_inflateRaw:Gn,consts:ie},e}(),FC;function Oue(t){return typeof t=="string"?ZC(t):Array.isArray(t)?lue(t):t}function K_(t,e,n){if(typeof FC<"u"&&FC.writeFileSync)return n?FC.writeFileSync(t,e,n):FC.writeFileSync(t,e);if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=ZC(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var i=n=="utf8"?Od(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,t);if(typeof Blob<"u"){var r=new Blob([Oue(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,t);if(typeof saveAs<"u")return saveAs(r,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=Y_(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function to(t){for(var e=Object.keys(t),n=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(t,e[i])&&n.push(e[i]);return n}function xj(t,e){for(var n=[],i=to(t),r=0;r!==i.length;++r)n[t[i[r]][e]]==null&&(n[t[i[r]][e]]=i[r]);return n}function $P(t){for(var e=[],n=to(t),i=0;i!==n.length;++i)e[t[n[i]]]=n[i];return e}function tT(t){for(var e=[],n=to(t),i=0;i!==n.length;++i)e[t[n[i]]]=parseInt(n[i],10);return e}function Rue(t){for(var e=[],n=to(t),i=0;i!==n.length;++i)e[t[n[i]]]==null&&(e[t[n[i]]]=[]),e[t[n[i]]].push(n[i]);return e}var HC=new Date(1899,11,30,0,0,0);function ba(t,e){var n=t.getTime();e&&(n-=1462*24*60*60*1e3);var i=HC.getTime()+(t.getTimezoneOffset()-HC.getTimezoneOffset())*6e4;return(n-i)/(24*60*60*1e3)}var dU=new Date,Vue=HC.getTime()+(dU.getTimezoneOffset()-HC.getTimezoneOffset())*6e4,wj=dU.getTimezoneOffset();function hU(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Vue),e.getTimezoneOffset()!==wj&&e.setTime(e.getTime()+(e.getTimezoneOffset()-wj)*6e4),e}var bj=new Date("2017-02-19T19:06:09.000Z"),fU=isNaN(bj.getFullYear())?new Date("2/19/17"):bj,Bue=fU.getFullYear()==2017;function Ko(t,e){var n=new Date(t);if(Bue)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(fU.getFullYear()==1917&&!isNaN(n.getFullYear())){var i=n.getFullYear();return t.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function nT(t,e){if(Ci&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Od(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Od(aue(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Od(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Od(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return n[s]||s})}catch{}for(var i=[],r=0;r!=t.length;++r)i.push(String.fromCharCode(t[r]));return i.join("")}function Ca(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ca(t[n]));return e}function Fr(t,e){for(var n="";n.length<e;)n+=t;return n}function Vd(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,i=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,s){return n=-n,s}),!isNaN(e=Number(i)))?e/n:e}var jue=["january","february","march","april","may","june","july","august","september","october","november","december"];function G_(t){var e=new Date(t),n=new Date(NaN),i=e.getYear(),r=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&jue.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||s>1)&&i!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function $n(t,e,n){if(t.FullPaths){if(typeof n=="string"){var i;return Ci?i=Hd(n):i=cue(n),Wi.utils.cfb_add(t,e,i)}Wi.utils.cfb_add(t,e,n)}else t.file(e,n)}function GP(){return Wi.utils.cfb_new()}var as=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var Uue={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},WP=$P(Uue);var qP=/[&<>'"]/g,Hue=/[\u0000-\u0008\u000b-\u001f]/g;function ji(t){var e=t+"";return e.replace(qP,function(n){return WP[n]}).replace(Hue,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Cj(t){return ji(t).replace(/ /g,"_x0020_")}var pU=/[\u0000-\u001f]/g;function zue(t){var e=t+"";return e.replace(qP,function(n){return WP[n]}).replace(/\n/g,"<br/>").replace(pU,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function $ue(t){var e=t+"";return e.replace(qP,function(n){return WP[n]}).replace(pU,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function Gue(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Wue(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function MP(t){for(var e="",n=0,i=0,r=0,s=0,o=0,a=0;n<t.length;){if(i=t.charCodeAt(n++),i<128){e+=String.fromCharCode(i);continue}if(r=t.charCodeAt(n++),i>191&&i<224){o=(i&31)<<6,o|=r&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),i<240){e+=String.fromCharCode((i&15)<<12|(r&63)<<6|s&63);continue}o=t.charCodeAt(n++),a=((i&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function Tj(t){var e=i0(2*t.length),n,i,r=1,s=0,o=0,a;for(i=0;i<t.length;i+=r)r=1,(a=t.charCodeAt(i))<128?n=a:a<224?(n=(a&31)*64+(t.charCodeAt(i+1)&63),r=2):a<240?(n=(a&15)*4096+(t.charCodeAt(i+1)&63)*64+(t.charCodeAt(i+2)&63),r=3):(r=4,n=(a&7)*262144+(t.charCodeAt(i+1)&63)*4096+(t.charCodeAt(i+2)&63)*64+(t.charCodeAt(i+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function Sj(t){return Hd(t,"binary").toString("utf8")}var LC="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",R_=Ci&&(Sj(LC)==MP(LC)&&Sj||Tj(LC)==MP(LC)&&Tj)||MP,Od=Ci?function(t){return Hd(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,i=0,r=0;n<t.length;)switch(i=t.charCodeAt(n++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=t.charCodeAt(n++)-56320+(i<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")};var que=function(){var t=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var i=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<t.length;++r)i=i.replace(t[r][0],t[r][1]);return i}}();var mU=/(^\s|\s$|\n)/;function Js(t,e){return"<"+t+(e.match(mU)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function W_(t){return to(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function It(t,e,n){return"<"+t+(n!=null?W_(n):"")+(e!=null?(e.match(mU)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function BP(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function Xue(t,e){switch(typeof t){case"string":var n=It("vt:lpwstr",ji(t));return e&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return It((t|0)==t?"vt:i4":"vt:r8",ji(String(t)));case"boolean":return It("vt:bool",t?"true":"false")}if(t instanceof Date)return It("vt:filetime",BP(t));throw new Error("Unable to serialize "+t)}var Rs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ev=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Yue(t,e){for(var n=1-2*(t[e+7]>>>7),i=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),r=t[e+6]&15,s=5;s>=0;--s)r=r*256+t[e+s];return i==2047?r==0?n*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function Kue(t,e,n){var i=(e<0||1/e==-1/0?1:0)<<7,r=0,s=0,o=i?-e:e;isFinite(o)?o==0?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[n+a]=s&255;t[n+6]=(r&15)<<4|s&15,t[n+7]=r>>4|i}var Ej=function(t){for(var e=[],n=10240,i=0;i<t[0].length;++i)if(t[0][i])for(var r=0,s=t[0][i].length;r<s;r+=n)e.push.apply(e,t[0][i].slice(r,r+n));return e},Aj=Ci?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Hd(e)})):Ej(t)}:Ej,kj=function(t,e,n){for(var i=[],r=e;r<n;r+=2)i.push(String.fromCharCode(O_(t,r)));return i.join("").replace(qg,"")},iT=Ci?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(qg,""):kj(t,e,n)}:kj,Dj=function(t,e,n){for(var i=[],r=e;r<e+n;++r)i.push(("0"+t[r].toString(16)).slice(-2));return i.join("")},gU=Ci?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):Dj(t,e,n)}:Dj,Ij=function(t,e,n){for(var i=[],r=e;r<n;r++)i.push(String.fromCharCode(Gg(t,r)));return i.join("")},tv=Ci?function(e,n,i){return Buffer.isBuffer(e)?e.toString("utf8",n,i):Ij(e,n,i)}:Ij,vU=function(t,e){var n=Os(t,e);return n>0?tv(t,e+4,e+4+n-1):""},XP=vU,_U=function(t,e){var n=Os(t,e);return n>0?tv(t,e+4,e+4+n-1):""},YP=_U,yU=function(t,e){var n=2*Os(t,e);return n>0?tv(t,e+4,e+4+n-1):""},KP=yU,xU=function(e,n){var i=Os(e,n);return i>0?iT(e,n+4,n+4+i):""},QP=xU,wU=function(t,e){var n=Os(t,e);return n>0?tv(t,e+4,e+4+n):""},ZP=wU,bU=function(t,e){return Yue(t,e)},zC=bU,JP=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ci&&(XP=function(e,n){if(!Buffer.isBuffer(e))return vU(e,n);var i=e.readUInt32LE(n);return i>0?e.toString("utf8",n+4,n+4+i-1):""},YP=function(e,n){if(!Buffer.isBuffer(e))return _U(e,n);var i=e.readUInt32LE(n);return i>0?e.toString("utf8",n+4,n+4+i-1):""},KP=function(e,n){if(!Buffer.isBuffer(e))return yU(e,n);var i=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+i-1)},QP=function(e,n){if(!Buffer.isBuffer(e))return xU(e,n);var i=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+i)},ZP=function(e,n){if(!Buffer.isBuffer(e))return wU(e,n);var i=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+i)},zC=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):bU(e,n)},JP=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function Que(){iT=function(t,e,n){return ar.utils.decode(1200,t.slice(e,n)).replace(qg,"")},tv=function(t,e,n){return ar.utils.decode(65001,t.slice(e,n))},XP=function(t,e){var n=Os(t,e);return n>0?ar.utils.decode(Zg,t.slice(e+4,e+4+n-1)):""},YP=function(t,e){var n=Os(t,e);return n>0?ar.utils.decode(t0,t.slice(e+4,e+4+n-1)):""},KP=function(t,e){var n=2*Os(t,e);return n>0?ar.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},QP=function(t,e){var n=Os(t,e);return n>0?ar.utils.decode(1200,t.slice(e+4,e+4+n)):""},ZP=function(t,e){var n=Os(t,e);return n>0?ar.utils.decode(65001,t.slice(e+4,e+4+n)):""}}typeof ar<"u"&&Que();var Gg=function(t,e){return t[e]},O_=function(t,e){return t[e+1]*256+t[e]},Zue=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Os=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},e0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Jue=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function V_(t,e){var n="",i,r,s=[],o,a,l,c;switch(e){case"dbcs":if(c=this.l,Ci&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(O_(this,c)),c+=2;t*=2;break;case"utf8":n=tv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=iT(this,this.l,this.l+t);break;case"wstr":if(typeof ar<"u")n=ar.utils.decode(t0,this.slice(this.l,this.l+2*t));else return V_.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":n=XP(this,this.l),t=4+Os(this,this.l);break;case"lpstr-cp":n=YP(this,this.l),t=4+Os(this,this.l);break;case"lpwstr":n=KP(this,this.l),t=4+2*Os(this,this.l);break;case"lpp4":t=4+Os(this,this.l),n=QP(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Os(this,this.l),n=ZP(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Gg(this,this.l+t++))!==0;)s.push(IC(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=O_(this,this.l+t))!==0;)s.push(IC(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Gg(this,c),this.l=c+1,a=V_.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(IC(O_(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":if(typeof ar<"u"){n=ar.utils.decode(t0,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Gg(this,c),this.l=c+1,a=V_.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(IC(Gg(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return i=Gg(this,this.l),this.l++,i;case 2:return i=(e==="i"?Zue:O_)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(i=(t>0?e0:Jue)(this,this.l),this.l+=4,i):(r=Os(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return t==8?r=zC(this,this.l):r=zC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;t=8;case 16:n=gU(this,this.l,t);break}}return this.l+=t,n}var ede=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},tde=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},nde=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function ide(t,e,n){var i=0,r=0;if(n==="dbcs"){for(r=0;r!=e.length;++r)nde(this,e.charCodeAt(r),this.l+2*r);i=2*e.length}else if(n==="sbcs"){if(typeof ar<"u"&&Zg==874)for(r=0;r!=e.length;++r){var s=ar.utils.encode(Zg,e.charAt(r));this[this.l+r]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;i=e.length}else if(n==="hex"){for(;r<t;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(r=0;r<Math.min(e.length,t);++r){var a=e.charCodeAt(r);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,ede(this,e,this.l);break;case 8:if(i=8,n==="f"){Kue(this,e,this.l);break}case 16:break;case-4:i=4,tde(this,e,this.l);break}return this.l+=i,this}function CU(t,e){var n=gU(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function el(t,e){t.l=e,t.read_shift=V_,t.chk=CU,t.write_shift=ide}function Pu(t,e){t.l+=e}function nt(t){var e=i0(t);return el(e,0),e}function wa(){var t=[],e=Ci?256:2048,n=function(c){var u=nt(c);return el(u,0),u},i=n(e),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&t.push(i),i=null)},s=function(c){return i&&c<i.length-i.l?i:(r(),i=n(Math.max(c+1,e)))},o=function(){return r(),Zs(t)},a=function(c){r(),i=c,i.l==null&&(i.l=i.length),s(e)};return{next:s,push:a,end:o,_bufs:t}}function ht(t,e,n,i){var r=+e,s;if(!isNaN(r)){i||(i=Kme[r].p||(n||[]).length||0),s=1+(r>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var o=t.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var a=0;a!=4;++a)if(i>=128)o.write_shift(1,(i&127)+128),i>>=7;else{o.write_shift(1,i);break}i>0&&JP(n)&&t.push(n)}}function B_(t,e,n){var i=Ca(t);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!n||n.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function Mj(t,e,n){var i=Ca(t);return i.s=B_(i.s,e.s,n),i.e=B_(i.e,e.s,n),i}function j_(t,e){if(t.cRel&&t.c<0)for(t=Ca(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ca(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Ui(t);return!t.cRel&&t.cRel!=null&&(n=ode(n)),!t.rRel&&t.rRel!=null&&(n=rde(n)),n}function PP(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+vo(t.s.c)+":"+(t.e.cRel?"":"$")+vo(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+eo(t.s.r)+":"+(t.e.rRel?"":"$")+eo(t.e.r):j_(t.s,e.biff)+":"+j_(t.e,e.biff)}function eF(t){return parseInt(sde(t),10)-1}function eo(t){return""+(t+1)}function rde(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sde(t){return t.replace(/\$(\d+)$/,"$1")}function tF(t){for(var e=ade(t),n=0,i=0;i!==e.length;++i)n=26*n+e.charCodeAt(i)-64;return n-1}function vo(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function ode(t){return t.replace(/^([A-Z])/,"$$$1")}function ade(t){return t.replace(/^\$([A-Z])/,"$1")}function lde(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vs(t){for(var e=0,n=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:e-1}}function Ui(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function nl(t){var e=t.indexOf(":");return e==-1?{s:Vs(t),e:Vs(t)}:{s:Vs(t.slice(0,e)),e:Vs(t.slice(e+1))}}function os(t,e){return typeof e>"u"||typeof e=="number"?os(t.s,t.e):(typeof t!="string"&&(t=Ui(t)),typeof e!="string"&&(e=Ui(e)),t==e?t:t+":"+e)}function vr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,s=t.length;for(n=0;i<s&&!((r=t.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(e.s.c=--n,n=0;i<s&&!((r=t.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(e.s.r=--n,i===s||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,n=0;i!=s&&!((r=t.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(e.e.c=--n,n=0;i!=s&&!((r=t.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return e.e.r=--n,e}function Pj(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=yf(t.z,n?ba(e):e)}catch{}try{return t.w=yf((t.XF||{}).numFmtId||(n?14:0),n?ba(e):e)}catch{return""+e}}function Ud(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Q_[t.v]||t.v:e==null?Pj(t,t.v):Pj(t,e))}function o0(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",i={};return i[n]=t,{SheetNames:[n],Sheets:i}}function TU(t,e,n){var i=n||{},r=t?Array.isArray(t):i.dense;Mu!=null&&r==null&&(r=Mu);var s=t||(r?[]:{}),o=0,a=0;if(s&&i.origin!=null){if(typeof i.origin=="number")o=i.origin;else{var l=typeof i.origin=="string"?Vs(i.origin):i.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=vr(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[d].length;++f)if(!(typeof e[d][f]>"u")){var h={v:e[d][f]},_=o+d,g=a+f;if(c.s.r>_&&(c.s.r=_),c.s.c>g&&(c.s.c=g),c.e.r<_&&(c.e.r=_),c.e.c<g&&(c.e.c=g),e[d][f]&&typeof e[d][f]=="object"&&!Array.isArray(e[d][f])&&!(e[d][f]instanceof Date))h=e[d][f];else if(Array.isArray(h.v)&&(h.f=e[d][f][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(i.nullError)h.t="e",h.v=0;else if(i.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=i.dateNF||Lr[14],i.cellDates?(h.t="d",h.w=yf(h.z,ba(h.v))):(h.t="n",h.v=ba(h.v),h.w=yf(h.z,h.v))):h.t="s";if(r)s[_]||(s[_]=[]),s[_][g]&&s[_][g].z&&(h.z=s[_][g].z),s[_][g]=h;else{var y=Ui({c:g,r:_});s[y]&&s[y].z&&(h.z=s[y].z),s[y]=h}}}return c.s.c<1e7&&(s["!ref"]=os(c)),s}function nv(t,e){return TU(null,t,e)}function cde(t){return t.read_shift(4,"i")}function Mc(t,e){return e||(e=nt(4)),e.write_shift(4,t),e}function _o(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Bs(t,e){var n=!1;return e==null&&(n=!0,e=nt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function ude(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function dde(t,e){return e||(e=nt(4)),e.write_shift(2,t.ich||0),e.write_shift(2,t.ifnt||0),e}function nF(t,e){var n=t.l,i=t.read_shift(1),r=_o(t),s=[],o={t:r,h:r};if(i&1){for(var a=t.read_shift(4),l=0;l!=a;++l)s.push(ude(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function hde(t,e){var n=!1;return e==null&&(n=!0,e=nt(15+4*t.t.length)),e.write_shift(1,0),Bs(t.t,e),n?e.slice(0,e.l):e}var fde=nF;function pde(t,e){var n=!1;return e==null&&(n=!0,e=nt(23+4*t.t.length)),e.write_shift(1,1),Bs(t.t,e),e.write_shift(4,1),dde({ich:0,ifnt:0},e),n?e.slice(0,e.l):e}function jl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function a0(t,e){return e==null&&(e=nt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function l0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function c0(t,e){return e==null&&(e=nt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var mde=_o,SU=Bs;function iF(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function $C(t,e){var n=!1;return e==null&&(n=!0,e=nt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var gde=_o,jP=iF,rF=$C;function EU(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,i=e[0]&2;t.l+=4;var r=i===0?zC([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):e0(e,0)>>2;return n?r/100:r}function AU(t,e){e==null&&(e=nt(4));var n=0,i=0,r=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?i=1:r==(r|0)&&r>=-(1<<29)&&r<1<<29&&(i=1,n=1),i)e.write_shift(-4,((n?r:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function kU(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function vde(t,e){return e||(e=nt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var u0=kU,iv=vde;function rv(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function r0(t,e){return(e||nt(8)).write_shift(8,t,"f")}function _de(t){var e={},n=t.read_shift(1),i=n>>>1,r=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),l=t.read_shift(1);switch(t.l++,i){case 0:e.auto=1;break;case 1:e.index=r;var c=Ade[r];c&&(e.rgb=zj(c));break;case 2:e.rgb=zj([o,a,l]);break;case 3:e.theme=r;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function GC(t,e){if(e||(e=nt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=t.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function yde(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function xde(t,e){e||(e=nt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var DU=2,Ja=3,NC=11;var WC=19;var OC=64,wde=65,bde=71;var Cde=4108,Tde=4126,Qs=80;var Fj={1:{n:"CodePage",t:DU},2:{n:"Category",t:Qs},3:{n:"PresentationFormat",t:Qs},4:{n:"ByteCount",t:Ja},5:{n:"LineCount",t:Ja},6:{n:"ParagraphCount",t:Ja},7:{n:"SlideCount",t:Ja},8:{n:"NoteCount",t:Ja},9:{n:"HiddenCount",t:Ja},10:{n:"MultimediaClipCount",t:Ja},11:{n:"ScaleCrop",t:NC},12:{n:"HeadingPairs",t:Cde},13:{n:"TitlesOfParts",t:Tde},14:{n:"Manager",t:Qs},15:{n:"Company",t:Qs},16:{n:"LinksUpToDate",t:NC},17:{n:"CharacterCount",t:Ja},19:{n:"SharedDoc",t:NC},22:{n:"HyperlinksChanged",t:NC},23:{n:"AppVersion",t:Ja,p:"version"},24:{n:"DigSig",t:wde},26:{n:"ContentType",t:Qs},27:{n:"ContentStatus",t:Qs},28:{n:"Language",t:Qs},29:{n:"Version",t:Qs},255:{},2147483648:{n:"Locale",t:WC},2147483651:{n:"Behavior",t:WC},1919054434:{}},Lj={1:{n:"CodePage",t:DU},2:{n:"Title",t:Qs},3:{n:"Subject",t:Qs},4:{n:"Author",t:Qs},5:{n:"Keywords",t:Qs},6:{n:"Comments",t:Qs},7:{n:"Template",t:Qs},8:{n:"LastAuthor",t:Qs},9:{n:"RevNumber",t:Qs},10:{n:"EditTime",t:OC},11:{n:"LastPrinted",t:OC},12:{n:"CreatedDate",t:OC},13:{n:"ModifiedDate",t:OC},14:{n:"PageCount",t:Ja},15:{n:"WordCount",t:Ja},16:{n:"CharCount",t:Ja},17:{n:"Thumbnail",t:bde},18:{n:"Application",t:Qs},19:{n:"DocSecurity",t:Ja},255:{},2147483648:{n:"Locale",t:WC},2147483651:{n:"Behavior",t:WC},1919054434:{}};function Sde(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Ede=Sde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ade=Ca(Ede),Q_={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var kde={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},RC={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function IU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MU(t,e){var n=Rue(kde),i=[],r;i[i.length]=as,i[i.length]=It("Types",null,{xmlns:Rs.CT,"xmlns:xsd":Rs.xsd,"xmlns:xsi":Rs.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return It("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(r=t[l][0],i[i.length]=It("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:RC[l][e.bookType]||RC[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(c){i[i.length]=It("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:RC[l][e.bookType]||RC[l].xlsx})})},a=function(l){(t[l]||[]).forEach(function(c){i[i.length]=It("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var _i={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function PU(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Yg(t){var e=[as,It("Relationships",null,{xmlns:Rs.RELS})];return to(t["!id"]).forEach(function(n){e[e.length]=It("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Bi(t,e,n,i,r,s){if(r||(r={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,r.Id="rId"+e,r.Type=i,r.Target=n,s?r.TargetMode=s:[_i.HLINK,_i.XPATH,_i.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),t["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][r.Id]=r,t[("/"+r.Target).replace("//","/")]=r,e}function Dde(t){var e=[as];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Nj(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Ide(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Mde(t){var e=[as];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(Nj(t[n][0],t[n][1])),e.push(Ide("",t[n][0]));return e.push(Nj("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function FU(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+H_.version+"</meta:generator></office:meta></office:document-meta>"}var n0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function FP(t,e,n,i,r){r[t]!=null||e==null||e===""||(r[t]=e,e=ji(e),i[i.length]=n?It(t,e,n):Js(t,e))}function LU(t,e){var n=e||{},i=[as,It("cp:coreProperties",null,{"xmlns:cp":Rs.CORE_PROPS,"xmlns:dc":Rs.dc,"xmlns:dcterms":Rs.dcterms,"xmlns:dcmitype":Rs.dcmitype,"xmlns:xsi":Rs.xsi})],r={};if(!t&&!n.Props)return i.join("");t&&(t.CreatedDate!=null&&FP("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:BP(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),t.ModifiedDate!=null&&FP("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:BP(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var s=0;s!=n0.length;++s){var o=n0[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&FP(o[0],a,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var Kg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],NU=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function OU(t){var e=[],n=It;return t||(t={}),t.Application="SheetJS",e[e.length]=as,e[e.length]=It("Properties",null,{xmlns:Rs.EXT_PROPS,"xmlns:vt":Rs.vt}),Kg.forEach(function(i){if(t[i[1]]!==void 0){var r;switch(i[2]){case"string":r=ji(String(t[i[1]]));break;case"bool":r=t[i[1]]?"true":"false";break}r!==void 0&&(e[e.length]=n(i[0],r))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(i){return"<vt:lpstr>"+ji(i)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function RU(t){var e=[as,It("Properties",null,{xmlns:Rs.CUST_PROPS,"xmlns:vt":Rs.vt})];if(!t)return e.join("");var n=1;return to(t).forEach(function(r){++n,e[e.length]=It("property",Xue(t[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:ji(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Oj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Pde(t,e){var n=[];return to(Oj).map(function(i){for(var r=0;r<n0.length;++r)if(n0[r][1]==i)return n0[r];for(r=0;r<Kg.length;++r)if(Kg[r][1]==i)return Kg[r];throw i}).forEach(function(i){if(t[i[1]]!=null){var r=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:t[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(Js(Oj[i[1]]||i[1],r))}}),It("DocumentProperties",n.join(""),{xmlns:tl.o})}function Fde(t,e){var n=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return t&&to(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var o=0;o<n0.length;++o)if(s==n0[o][1])return;for(o=0;o<Kg.length;++o)if(s==Kg[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),r.push(It(Cj(s),a,{"dt:dt":l}))}}),e&&to(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),r.push(It(Cj(s),o,{"dt:dt":a}))}}),"<"+i+' xmlns="'+tl.o+'">'+r.join("")+"</"+i+">"}function Lde(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,i=n%Math.pow(2,32),r=(n-i)/Math.pow(2,32);i*=1e7,r*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),r+=s);var o=nt(8);return o.write_shift(4,i),o.write_shift(4,r),o}function Rj(t,e){var n=nt(4),i=nt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:i.write_shift(-4,e);break;case 5:i=nt(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=Lde(e);break;case 31:case 80:for(i=nt(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Zs([n,i])}var VU=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Nde(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Vj(t,e,n){var i=nt(8),r=[],s=[],o=8,a=0,l=nt(8),c=nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),r.push(c),o+=8+l.length,!e){c=nt(8),c.write_shift(4,0),r.unshift(c);var u=[nt(4)];for(u[0].write_shift(4,t.length),a=0;a<t.length;++a){var d=t[a][0];for(l=nt(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Zs(u),s.unshift(l),o+=8+l.length}for(a=0;a<t.length;++a)if(!(e&&!e[t[a][0]])&&!(VU.indexOf(t[a][0])>-1||NU.indexOf(t[a][0])>-1)&&t[a][1]!=null){var f=t[a][1],h=0;if(e){h=+e[t[a][0]];var _=n[h];if(_.p=="version"&&typeof f=="string"){var g=f.split(".");f=(+g[0]<<16)+(+g[1]||0)}l=Rj(_.t,f)}else{var y=Nde(f);y==-1&&(y=31,f=String(f)),l=Rj(y,f)}s.push(l),c=nt(8),c.write_shift(4,e?h:2+a),r.push(c),o+=8+l.length}var b=8*(s.length+1);for(a=0;a<s.length;++a)r[a].write_shift(4,b),b+=s[a].length;return i.write_shift(4,o),i.write_shift(4,s.length),Zs([i].concat(r).concat(s))}function Bj(t,e,n,i,r,s){var o=nt(r?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Wi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,r?68:48);var l=Vj(t,n,i);if(a.push(l),r){var c=Vj(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return Zs(a)}function Ode(t,e){e||(e=nt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function Rde(t,e){return t.read_shift(e)===1}function Yo(t,e){return e||(e=nt(2)),e.write_shift(2,+!!t),e}function BU(t){return t.read_shift(2,"u")}function Bl(t,e){return e||(e=nt(2)),e.write_shift(2,t),e}function jU(t,e,n){return n||(n=nt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function UU(t,e,n){var i=t.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont",s=t0;if(n&&n.biff>=8&&(t0=1200),!n||n.biff==8){var o=t.read_shift(1);o&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var a=i?t.read_shift(i,r):"";return t0=s,a}function Vde(t){var e=t.t||"",n=1,i=nt(3+(n>1?2:0));i.write_shift(2,e.length),i.write_shift(1,(n>1?8:0)|1),n>1&&i.write_shift(2,n);var r=nt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[i,r];return Zs(s)}function Bde(t,e,n){var i;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var r=t.read_shift(1);return r===0?i=t.read_shift(e,"sbcs-cont"):i=t.read_shift(e,"dbcs-cont"),i}function jde(t,e,n){var i=t.read_shift(n&&n.biff==2?1:2);return i===0?(t.l++,""):Bde(t,i,n)}function Ude(t,e,n){if(n.biff>5)return jde(t,e,n);var i=t.read_shift(1);return i===0?(t.l++,""):t.read_shift(i,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function HU(t,e,n){return n||(n=nt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function jj(t,e){e||(e=nt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Hde(t){var e=nt(512),n=0,i=t.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),s=r>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(s==28)i=i.slice(1),jj(i,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var a=r>-1?i.slice(0,r):i;for(e.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)e.write_shift(2,a.charCodeAt(n));e.write_shift(2,0),s&8&&jj(r>-1?i.slice(r+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,i.length-3*l+1),n=0;n<i.length-3*l;++n)e.write_shift(1,i.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function s0(t,e,n,i){return i||(i=nt(6)),i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,n||0),i}function zde(t,e,n){var i=n.biff>8?4:2,r=t.read_shift(i),s=t.read_shift(i,"i"),o=t.read_shift(i,"i");return[r,s,o]}function $de(t){var e=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),r=t.read_shift(2);return{s:{c:i,r:e},e:{c:r,r:n}}}function zU(t,e){return e||(e=nt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function sF(t,e,n){var i=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(r);return s.write_shift(2,i),s.write_shift(2,e),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Gde(t,e){var n=!e||e.biff==8,i=nt(n?112:54);for(i.write_shift(e.biff==8?2:1,7),n&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(n?0:536870912));i.l<i.length;)i.write_shift(1,n?0:32);return i}function Wde(t,e){var n=!e||e.biff>=8?2:1,i=nt(8+n*t.name.length);i.write_shift(4,t.pos),i.write_shift(1,t.hs||0),i.write_shift(1,t.dt),i.write_shift(1,t.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function qde(t,e){var n=nt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var i=[],r=0;r<t.length;++r)i[r]=Vde(t[r],e);var s=Zs([n].concat(i));return s.parts=[n.length].concat(i.map(function(o){return o.length})),s}function Xde(){var t=nt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Yde(t){var e=nt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Kde(t,e){var n=t.name||"Arial",i=e&&e.biff==5,r=i?15+n.length:16+2*n.length,s=nt(r);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le"),s}function Qde(t,e,n,i){var r=nt(10);return s0(t,e,i,r),r.write_shift(4,n),r}function Zde(t,e,n,i,r){var s=!r||r.biff==8,o=nt(8+ +s+(1+s)*n.length);return s0(t,e,i,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function Jde(t,e,n,i){var r=n&&n.biff==5;i||(i=nt(r?3+e.length:5+2*e.length)),i.write_shift(2,t),i.write_shift(r?1:2,e.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}function ehe(t,e){var n=e.biff==8||!e.biff?4:2,i=nt(2*n+6);return i.write_shift(n,t.s.r),i.write_shift(n,t.e.r+1),i.write_shift(2,t.s.c),i.write_shift(2,t.e.c+1),i.write_shift(2,0),i}function Uj(t,e,n,i){var r=n&&n.biff==5;i||(i=nt(r?16:20)),i.write_shift(2,0),t.style?(i.write_shift(2,t.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,t.numFmtId||0),i.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&r&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function the(t){var e=nt(8);return e.write_shift(4,0),e.write_shift(2,t[0]?t[0]+1:0),e.write_shift(2,t[1]?t[1]+1:0),e}function nhe(t,e,n,i,r,s){var o=nt(8);return s0(t,e,i,o),jU(n,s,o),o}function ihe(t,e,n,i){var r=nt(14);return s0(t,e,i,r),r0(n,r),r}function rhe(t,e,n){if(n.biff<8)return she(t,e,n);for(var i=[],r=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)i.push(zde(t,n.biff>8?12:6,n));if(t.l!=r)throw new Error("Bad ExternSheet: "+t.l+" != "+r);return i}function she(t,e,n){t[t.l+1]==3&&t[t.l]++;var i=UU(t,e,n);return i.charCodeAt(0)==3?i.slice(1):i}function ohe(t){var e=nt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)zU(t[n],e);return e}function ahe(t){var e=nt(24),n=Vs(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(i[r],16));return Zs([e,Hde(t[1])])}function lhe(t){var e=t[1].Tooltip,n=nt(10+2*(e.length+1));n.write_shift(2,2048);var i=Vs(t[0]);n.write_shift(2,i.r),n.write_shift(2,i.r),n.write_shift(2,i.c),n.write_shift(2,i.c);for(var r=0;r<e.length;++r)n.write_shift(2,e.charCodeAt(r));return n.write_shift(2,0),n}function che(t){return t||(t=nt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function uhe(t,e,n){if(!n.cellStyles)return Pu(t,e);var i=n&&n.biff>=12?4:2,r=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(i),a=t.read_shift(i),l=t.read_shift(2);i==2&&(t.l+=2);var c={s:r,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function dhe(t,e){var n=nt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var i=0;return t.hidden&&(i|=1),n.write_shift(1,i),i=t.level||0,n.write_shift(1,i),n.write_shift(2,0),n}function hhe(t){for(var e=nt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function fhe(t,e,n){var i=nt(15);return J_(i,t,e),i.write_shift(8,n,"f"),i}function phe(t,e,n){var i=nt(9);return J_(i,t,e),i.write_shift(2,n),i}var mhe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=$P({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],u=i0(1);switch(l.type){case"base64":u=Dc(jd(a));break;case"binary":u=Dc(a);break;case"buffer":case"array":u=a;break}el(u,0);var d=u.read_shift(1),f=!!(d&136),h=!1,_=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,f=!0;break;case 49:h=!0,f=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,y=521;d==2&&(g=u.read_shift(2)),u.l+=3,d!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(y=u.read_shift(2));var b=u.read_shift(2),E=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(E=t[u[u.l]]),u.l+=1,u.l+=2),_&&(u.l+=36);for(var F=[],U={},W=Math.min(u.length,d==2?521:y-10-(h?264:0)),te=_?32:11;u.l<W&&u[u.l]!=13;)switch(U={},U.name=ar.utils.decode(E,u.slice(u.l,u.l+te)).replace(/[\u0000\r\n].*$/g,""),u.l+=te,U.type=String.fromCharCode(u.read_shift(1)),d!=2&&!_&&(U.offset=u.read_shift(4)),U.len=u.read_shift(1),d==2&&(U.offset=u.read_shift(2)),U.dec=u.read_shift(1),U.name.length&&F.push(U),d!=2&&(u.l+=_?13:14),U.type){case"B":(!h||U.len!=8)&&l.WTF&&console.log("Skipping "+U.name+":"+U.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+U.name+":"+U.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+U.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var I=0,T=0;for(c[0]=[],T=0;T!=F.length;++T)c[0][T]=F[T].name;for(;g-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++I]=[],T=0,T=0;T!=F.length;++T){var L=u.slice(u.l,u.l+F[T].len);u.l+=F[T].len,el(L,0);var N=ar.utils.decode(E,L);switch(F[T].type){case"C":N.trim().length&&(c[I][T]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[I][T]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[I][T]=N;break;case"F":c[I][T]=parseFloat(N.trim());break;case"+":case"I":c[I][T]=_?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[I][T]=!0;break;case"N":case"F":c[I][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[I][T]="##MEMO##"+(_?parseInt(N.trim(),10):L.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[I][T]=+N||0);break;case"@":c[I][T]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":c[I][T]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":c[I][T]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[I][T]=-L.read_shift(-8,"f");break;case"B":if(h&&F[T].len==8){c[I][T]=L.read_shift(8,"f");break}case"G":case"P":L.l+=F[T].len;break;case"0":if(F[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[T].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=F,c}function i(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=nv(n(a,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function r(a,l){try{return o0(i(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&z_(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=wa(),d=QC(a,{header:1,raw:!0,cellDates:!0}),f=d[0],h=d.slice(1),_=a["!cols"]||[],g=0,y=0,b=0,E=1;for(g=0;g<f.length;++g){if(((_[g]||{}).DBF||{}).name){f[g]=_[g].DBF.name,++b;continue}if(f[g]!=null){if(++b,typeof f[g]=="number"&&(f[g]=f[g].toString(10)),typeof f[g]!="string")throw new Error("DBF Invalid column name "+f[g]+" |"+typeof f[g]+"|");if(f.indexOf(f[g])!==g){for(y=0;y<1024;++y)if(f.indexOf(f[g]+"_"+y)==-1){f[g]+="_"+y;break}}}}var F=vr(a["!ref"]),U=[],W=[],te=[];for(g=0;g<=F.e.c-F.s.c;++g){var I="",T="",L=0,N=[];for(y=0;y<h.length;++y)h[y][g]!=null&&N.push(h[y][g]);if(N.length==0||f[g]==null){U[g]="?";continue}for(y=0;y<N.length;++y){switch(typeof N[y]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=N[y]instanceof Date?"D":"C";break;default:T="C"}L=Math.max(L,String(N[y]).length),I=I&&I!=T?"C":T}L>250&&(L=250),T=((_[g]||{}).DBF||{}).type,T=="C"&&_[g].DBF.len>L&&(L=_[g].DBF.len),I=="B"&&T=="N"&&(I="N",te[g]=_[g].DBF.dec,L=_[g].DBF.len),W[g]=I=="C"||T=="N"?L:s[I]||0,E+=W[g],U[g]=I}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*b),D.write_shift(2,E),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+e[Zg]||3)<<8),g=0,y=0;g<f.length;++g)if(f[g]!=null){var M=u.next(32),R=(f[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,R,"sbcs"),M.write_shift(1,U[g]=="?"?"C":U[g],"sbcs"),M.write_shift(4,y),M.write_shift(1,W[g]||s[U[g]]||0),M.write_shift(1,te[g]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),y+=W[g]||s[U[g]]||0}var Q=u.next(264);for(Q.write_shift(4,13),g=0;g<65;++g)Q.write_shift(4,0);for(g=0;g<h.length;++g){var oe=u.next(E);for(oe.write_shift(1,0),y=0;y<f.length;++y)if(f[y]!=null)switch(U[y]){case"L":oe.write_shift(1,h[g][y]==null?63:h[g][y]?84:70);break;case"B":oe.write_shift(8,h[g][y]||0,"f");break;case"N":var le="0";for(typeof h[g][y]=="number"&&(le=h[g][y].toFixed(te[y]||0)),b=0;b<W[y]-le.length;++b)oe.write_shift(1,32);oe.write_shift(1,le,"sbcs");break;case"D":h[g][y]?(oe.write_shift(4,("0000"+h[g][y].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(h[g][y].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+h[g][y].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(h[g][y]!=null?h[g][y]:"").slice(0,W[y]);for(oe.write_shift(1,ie,"sbcs"),b=0;b<W[y]-ie.length;++b)oe.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:r,to_sheet:i,from_sheet:o}}(),ghe=function(){var t={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+to(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(f,h){var _=t[h];return typeof _=="number"?dj(_):_},i=function(f,h,_){var g=h.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return g==59?f:dj(g)};t["|"]=254;function r(f,h){switch(h.type){case"base64":return s(jd(f),h);case"binary":return s(f,h);case"buffer":return s(Ci&&Buffer.isBuffer(f)?f.toString("binary"):Y_(f),h);case"array":return s(nT(f),h)}throw new Error("Unrecognized type "+h.type)}function s(f,h){var _=f.split(/[\n\r]+/),g=-1,y=-1,b=0,E=0,F=[],U=[],W=null,te={},I=[],T=[],L=[],N=0,D;for(+h.codepage>=0&&z_(+h.codepage);b!==_.length;++b){N=0;var M=_[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,n),R=M.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),Q=R[0],oe;if(M.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&U.push(M.slice(3).replace(/;;/g,";"));break;case"C":var le=!1,ie=!1,fe=!1,be=!1,Ce=-1,Ue=-1;for(E=1;E<R.length;++E)switch(R[E].charAt(0)){case"A":break;case"X":y=parseInt(R[E].slice(1))-1,ie=!0;break;case"Y":for(g=parseInt(R[E].slice(1))-1,ie||(y=0),D=F.length;D<=g;++D)F[D]=[];break;case"K":oe=R[E].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(Vd(oe))?isNaN(G_(oe).getDate())||(oe=Ko(oe)):(oe=Vd(oe),W!==null&&lU(W)&&(oe=hU(oe))),typeof ar<"u"&&typeof oe=="string"&&(h||{}).type!="string"&&(h||{}).codepage&&(oe=ar.utils.decode(h.codepage,oe)),le=!0;break;case"E":be=!0;var C=pfe(R[E].slice(1),{r:g,c:y});F[g][y]=[F[g][y],C];break;case"S":fe=!0,F[g][y]=[F[g][y],"S5S"];break;case"G":break;case"R":Ce=parseInt(R[E].slice(1))-1;break;case"C":Ue=parseInt(R[E].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}if(le&&(F[g][y]&&F[g][y].length==2?F[g][y][0]=oe:F[g][y]=oe,W=null),fe){if(be)throw new Error("SYLK shared formula cannot have own formula");var q=Ce>-1&&F[Ce][Ue];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");F[g][y][1]=mfe(q[1],{r:g-Ce,c:y-Ue})}break;case"F":var j=0;for(E=1;E<R.length;++E)switch(R[E].charAt(0)){case"X":y=parseInt(R[E].slice(1))-1,++j;break;case"Y":for(g=parseInt(R[E].slice(1))-1,D=F.length;D<=g;++D)F[D]=[];break;case"M":N=parseInt(R[E].slice(1))/20;break;case"F":break;case"G":break;case"P":W=U[parseInt(R[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=R[E].slice(1).split(" "),D=parseInt(L[0],10);D<=parseInt(L[1],10);++D)N=parseInt(L[2],10),T[D-1]=N===0?{hidden:!0}:{wch:N},oF(T[D-1]);break;case"C":y=parseInt(R[E].slice(1))-1,T[y]||(T[y]={});break;case"R":g=parseInt(R[E].slice(1))-1,I[g]||(I[g]={}),N>0?(I[g].hpt=N,I[g].hpx=XU(N)):N===0&&(I[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}j<1&&(W=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}}return I.length>0&&(te["!rows"]=I),T.length>0&&(te["!cols"]=T),h&&h.sheetRows&&(F=F.slice(0,h.sheetRows)),[F,te]}function o(f,h){var _=r(f,h),g=_[0],y=_[1],b=nv(g,h);return to(y).forEach(function(E){b[E]=y[E]}),b}function a(f,h){return o0(o(f,h),h)}function l(f,h,_,g){var y="C;Y"+(_+1)+";X"+(g+1)+";K";switch(f.t){case"n":y+=f.v||0,f.f&&!f.F&&(y+=";E"+lF(f.f,{r:_,c:g}));break;case"b":y+=f.v?"TRUE":"FALSE";break;case"e":y+=f.w||f.v;break;case"d":y+='"'+(f.w||f.v)+'"';break;case"s":y+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(f,h){h.forEach(function(_,g){var y="F;W"+(g+1)+" "+(g+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=qC(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=XC(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&f.push(y)})}function u(f,h){h.forEach(function(_,g){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*YC(_.hpx)+";"),y.length>2&&f.push(y+"R"+(g+1))})}function d(f,h){var _=["ID;PWXL;N;E"],g=[],y=vr(f["!ref"]),b,E=Array.isArray(f),F=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),f["!cols"]&&c(_,f["!cols"]),f["!rows"]&&u(_,f["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var U=y.s.r;U<=y.e.r;++U)for(var W=y.s.c;W<=y.e.c;++W){var te=Ui({r:U,c:W});b=E?(f[U]||[])[W]:f[te],!(!b||b.v==null&&(!b.f||b.F))&&g.push(l(b,f,U,W,h))}return _.join(F)+F+g.join(F)+F+"E"+F}return{to_workbook:a,to_sheet:o,from_sheet:d}}(),vhe=function(){function t(s,o){switch(o.type){case"base64":return e(jd(s),o);case"binary":return e(s,o);case"buffer":return e(Ci&&Buffer.isBuffer(s)?s.toString("binary"):Y_(s),o);case"array":return e(nT(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,c=-1,u=0,d=[];u!==a.length;++u){if(a[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var f=a[u].trim().split(","),h=f[0],_=f[1];++u;for(var g=a[u]||"";(g.match(/["]/g)||[]).length&1&&u<a.length-1;)g+=`
`+a[++u];switch(g=g.trim(),+h){case-1:if(g==="BOT"){d[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[l][c]=!0:g==="FALSE"?d[l][c]=!1:isNaN(Vd(_))?isNaN(G_(_).getDate())?d[l][c]=_:d[l][c]=Ko(_):d[l][c]=Vd(_),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),L_&&g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function n(s,o){return nv(t(s,o),o)}function i(s,o){return o0(n(s,o),o)}var r=function(){var s=function(l,c,u,d,f){l.push(c),l.push(u+","+d),l.push('"'+f.replace(/"/g,'""')+'"')},o=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=vr(l["!ref"]),d,f=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(c,-1,0,"BOT");for(var _=u.s.c;_<=u.e.c;++_){var g=Ui({r:h,c:_});if(d=f?(l[h]||[])[_]:l[g],!d){o(c,1,0,"");continue}switch(d.t){case"n":var y=L_?d.w:d.v;!y&&d.v!=null&&(y=d.v),y==null?L_&&d.f&&!d.F?o(c,1,0,"="+d.f):o(c,1,0,""):o(c,0,y,"V");break;case"b":o(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(c,1,0,!L_||isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=yf(d.z||Lr[14],ba(Ko(d.v)))),L_?o(c,0,d.w,"V"):o(c,1,0,d.w);break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var b=`\r
`,E=c.join(b);return E}}();return{to_workbook:i,to_sheet:n,from_sheet:r}}(),$U=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,f){for(var h=d.split(`
`),_=-1,g=-1,y=0,b=[];y!==h.length;++y){var E=h[y].trim().split(":");if(E[0]==="cell"){var F=Vs(E[1]);if(b.length<=F.r)for(_=b.length;_<=F.r;++_)b[_]||(b[_]=[]);switch(_=F.r,g=F.c,E[2]){case"t":b[_][g]=t(E[3]);break;case"v":b[_][g]=+E[3];break;case"vtf":var U=E[E.length-1];case"vtc":switch(E[3]){case"nl":b[_][g]=!!+E[4];break;default:b[_][g]=+E[4];break}E[2]=="vtf"&&(b[_][g]=[b[_][g],U])}}}return f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),b}function i(d,f){return nv(n(d,f),f)}function r(d,f){return o0(i(d,f),f)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var f=[],h=[],_,g="",y=nl(d["!ref"]),b=Array.isArray(d),E=y.s.r;E<=y.e.r;++E)for(var F=y.s.c;F<=y.e.c;++F)if(g=Ui({r:E,c:F}),_=b?(d[E]||[])[F]:d[g],!(!_||_.v==null||_.t==="z")){switch(h=["cell",g,"t"],_.t){case"s":case"str":h.push(e(_.v));break;case"n":_.f?(h[2]="vtf",h[3]="n",h[4]=_.v,h[5]=e(_.f)):(h[2]="v",h[3]=_.v);break;case"b":h[2]="vt"+(_.f?"f":"c"),h[3]="nl",h[4]=_.v?"1":"0",h[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var U=ba(Ko(_.v));h[2]="vtc",h[3]="nd",h[4]=""+U,h[5]=_.w||yf(_.z||Lr[14],U);break;case"e":continue}f.push(h.join(":"))}return f.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(d){return[s,o,a,o,c(d),l].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:u}}(),_he=function(){function t(u,d,f,h,_){_.raw?d[f][h]=u:u===""||(u==="TRUE"?d[f][h]=!0:u==="FALSE"?d[f][h]=!1:isNaN(Vd(u))?isNaN(G_(u).getDate())?d[f][h]=u:d[f][h]=Ko(u):d[f][h]=Vd(u))}function e(u,d){var f=d||{},h=[];if(!u||u.length===0)return h;for(var _=u.split(/[\r\n]/),g=_.length-1;g>=0&&_[g].length===0;)--g;for(var y=10,b=0,E=0;E<=g;++E)b=_[E].indexOf(" "),b==-1?b=_[E].length:b++,y=Math.max(y,b);for(E=0;E<=g;++E){h[E]=[];var F=0;for(t(_[E].slice(0,y).trim(),h,E,F,f),F=1;F<=(_[E].length-y)/10+1;++F)t(_[E].slice(y+(F-1)*10,y+F*10).trim(),h,E,F,f)}return f.sheetRows&&(h=h.slice(0,f.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(u){for(var d={},f=!1,h=0,_=0;h<u.length;++h)(_=u.charCodeAt(h))==34?f=!f:!f&&_ in n&&(d[_]=(d[_]||0)+1);_=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&_.push([d[h],h]);if(!_.length){d=i;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&_.push([d[h],h])}return _.sort(function(g,y){return g[0]-y[0]||i[g[1]]-i[y[1]]}),n[_.pop()[1]]||44}function s(u,d){var f=d||{},h="";Mu!=null&&f.dense==null&&(f.dense=Mu);var _=f.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=r(u.slice(0,1024)):f&&f.FS?h=f.FS:h=r(u.slice(0,1024));var y=0,b=0,E=0,F=0,U=0,W=h.charCodeAt(0),te=!1,I=0,T=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var L=f.dateNF!=null?Fue(f.dateNF):null;function N(){var D=u.slice(F,U),M={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)M.t="z";else if(f.raw)M.t="s",M.v=D;else if(D.trim().length===0)M.t="s",M.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(M.t="s",M.v=D.slice(2,-1).replace(/""/g,'"')):gfe(D)?(M.t="n",M.f=D.slice(1)):(M.t="s",M.v=D);else if(D=="TRUE")M.t="b",M.v=!0;else if(D=="FALSE")M.t="b",M.v=!1;else if(!isNaN(E=Vd(D)))M.t="n",f.cellText!==!1&&(M.w=D),M.v=E;else if(!isNaN(G_(D).getDate())||L&&D.match(L)){M.z=f.dateNF||Lr[14];var R=0;L&&D.match(L)&&(D=Lue(D,f.dateNF,D.match(L)||[]),R=1),f.cellDates?(M.t="d",M.v=Ko(D,R)):(M.t="n",M.v=ba(Ko(D,R))),f.cellText!==!1&&(M.w=yf(M.z,M.v instanceof Date?ba(M.v):M.v)),f.cellNF||delete M.z}else M.t="s",M.v=D;if(M.t=="z"||(f.dense?(_[y]||(_[y]=[]),_[y][b]=M):_[Ui({c:b,r:y})]=M),F=U+1,T=u.charCodeAt(F),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),I==W)++b;else if(b=0,++y,f.sheetRows&&f.sheetRows<=y)return!0}e:for(;U<u.length;++U)switch(I=u.charCodeAt(U)){case 34:T===34&&(te=!te);break;case W:case 10:case 13:if(!te&&N())break e;break;default:break}return U-F>0&&N(),_["!ref"]=os(g),_}function o(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):nv(e(u,d),d)}function a(u,d){var f="",h=d.type=="string"?[0,0,0,0]:Ige(u,d);switch(d.type){case"base64":f=jd(u);break;case"binary":f=u;break;case"buffer":d.codepage==65001?f=u.toString("utf8"):d.codepage&&typeof ar<"u"?f=ar.utils.decode(d.codepage,u):f=Ci&&Buffer.isBuffer(u)?u.toString("binary"):Y_(u);break;case"array":f=nT(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?f=R_(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=R_(f):d.type=="binary"&&typeof ar<"u"&&d.codepage&&(f=ar.utils.decode(d.codepage,ar.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?$U.to_sheet(d.type=="string"?f:R_(f),d):o(f,d)}function l(u,d){return o0(a(u,d),d)}function c(u){for(var d=[],f=vr(u["!ref"]),h,_=Array.isArray(u),g=f.s.r;g<=f.e.r;++g){for(var y=[],b=f.s.c;b<=f.e.c;++b){var E=Ui({r:g,c:b});if(h=_?(u[g]||[])[b]:u[E],!h||h.v==null){y.push("          ");continue}for(var F=(h.w||(Ud(h),h.w)||"").slice(0,10);F.length<10;)F+=" ";y.push(F+(b===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();var Hj=function(){function t(C,q,j){if(C){el(C,C.l||0);for(var X=j.Enum||Ce;C.l<C.length;){var de=C.read_shift(2),xe=X[de]||X[65535],Ee=C.read_shift(2),Te=C.l+Ee,Fe=xe.f&&xe.f(C,Ee,j);if(C.l=Te,q(Fe,xe,de))return}}}function e(C,q){switch(q.type){case"base64":return n(Dc(jd(C)),q);case"binary":return n(Dc(C),q);case"buffer":case"array":return n(C,q)}throw"Unsupported type "+q.type}function n(C,q){if(!C)return C;var j=q||{};Mu!=null&&j.dense==null&&(j.dense=Mu);var X=j.dense?[]:{},de="Sheet1",xe="",Ee=0,Te={},Fe=[],et=[],ot={s:{r:0,c:0},e:{r:0,c:0}},bt=j.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)j.Enum=Ce,t(C,function(rt,St,Ke){switch(Ke){case 0:j.vers=rt,rt>=4096&&(j.qpro=!0);break;case 6:ot=rt;break;case 204:rt&&(xe=rt);break;case 222:xe=rt;break;case 15:case 51:j.qpro||(rt[1].v=rt[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(rt[2]&112)==112&&(rt[2]&15)>1&&(rt[2]&15)<15&&(rt[1].z=j.dateNF||Lr[14],j.cellDates&&(rt[1].t="d",rt[1].v=hU(rt[1].v))),j.qpro&&rt[3]>Ee&&(X["!ref"]=os(ot),Te[de]=X,Fe.push(de),X=j.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Ee=rt[3],de=xe||"Sheet"+(Ee+1),xe="");var xt=j.dense?(X[rt[0].r]||[])[rt[0].c]:X[Ui(rt[0])];if(xt){xt.t=rt[1].t,xt.v=rt[1].v,rt[1].z!=null&&(xt.z=rt[1].z),rt[1].f!=null&&(xt.f=rt[1].f);break}j.dense?(X[rt[0].r]||(X[rt[0].r]=[]),X[rt[0].r][rt[0].c]=rt[1]):X[Ui(rt[0])]=rt[1];break;default:}},j);else if(C[2]==26||C[2]==14)j.Enum=Ue,C[2]==14&&(j.qpro=!0,C.l=0),t(C,function(rt,St,Ke){switch(Ke){case 204:de=rt;break;case 22:rt[1].v=rt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(rt[3]>Ee&&(X["!ref"]=os(ot),Te[de]=X,Fe.push(de),X=j.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Ee=rt[3],de="Sheet"+(Ee+1)),bt>0&&rt[0].r>=bt)break;j.dense?(X[rt[0].r]||(X[rt[0].r]=[]),X[rt[0].r][rt[0].c]=rt[1]):X[Ui(rt[0])]=rt[1],ot.e.c<rt[0].c&&(ot.e.c=rt[0].c),ot.e.r<rt[0].r&&(ot.e.r=rt[0].r);break;case 27:rt[14e3]&&(et[rt[14e3][0]]=rt[14e3][1]);break;case 1537:et[rt[0]]=rt[1],rt[0]==Ee&&(de=rt[1]);break;default:break}},j);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(X["!ref"]=os(ot),Te[xe||de]=X,Fe.push(xe||de),!et.length)return{SheetNames:Fe,Sheets:Te};for(var Tt={},Ge=[],ve=0;ve<et.length;++ve)Te[Fe[ve]]?(Ge.push(et[ve]||Fe[ve]),Tt[et[ve]]=Te[et[ve]]||Te[Fe[ve]]):(Ge.push(et[ve]),Tt[et[ve]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Tt}}function i(C,q){var j=q||{};if(+j.codepage>=0&&z_(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var X=wa(),de=vr(C["!ref"]),xe=Array.isArray(C),Ee=[];Pt(X,0,s(1030)),Pt(X,6,l(de));for(var Te=Math.min(de.e.r,8191),Fe=de.s.r;Fe<=Te;++Fe)for(var et=eo(Fe),ot=de.s.c;ot<=de.e.c;++ot){Fe===de.s.r&&(Ee[ot]=vo(ot));var bt=Ee[ot]+et,Tt=xe?(C[Fe]||[])[ot]:C[bt];if(!(!Tt||Tt.t=="z"))if(Tt.t=="n")(Tt.v|0)==Tt.v&&Tt.v>=-32768&&Tt.v<=32767?Pt(X,13,h(Fe,ot,Tt.v)):Pt(X,14,g(Fe,ot,Tt.v));else{var Ge=Ud(Tt);Pt(X,15,d(Fe,ot,Ge.slice(0,239)))}}return Pt(X,1),X.end()}function r(C,q){var j=q||{};if(+j.codepage>=0&&z_(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var X=wa();Pt(X,0,o(C));for(var de=0,xe=0;de<C.SheetNames.length;++de)(C.Sheets[C.SheetNames[de]]||{})["!ref"]&&Pt(X,27,be(C.SheetNames[de],xe++));var Ee=0;for(de=0;de<C.SheetNames.length;++de){var Te=C.Sheets[C.SheetNames[de]];if(!(!Te||!Te["!ref"])){for(var Fe=vr(Te["!ref"]),et=Array.isArray(Te),ot=[],bt=Math.min(Fe.e.r,8191),Tt=Fe.s.r;Tt<=bt;++Tt)for(var Ge=eo(Tt),ve=Fe.s.c;ve<=Fe.e.c;++ve){Tt===Fe.s.r&&(ot[ve]=vo(ve));var rt=ot[ve]+Ge,St=et?(Te[Tt]||[])[ve]:Te[rt];if(!(!St||St.t=="z"))if(St.t=="n")Pt(X,23,N(Tt,ve,Ee,St.v));else{var Ke=Ud(St);Pt(X,22,I(Tt,ve,Ee,Ke.slice(0,239)))}}++Ee}}return Pt(X,1),X.end()}function s(C){var q=nt(2);return q.write_shift(2,C),q}function o(C){var q=nt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var j=0,X=0,de=0,xe=0;xe<C.SheetNames.length;++xe){var Ee=C.SheetNames[xe],Te=C.Sheets[Ee];if(!(!Te||!Te["!ref"])){++de;var Fe=nl(Te["!ref"]);j<Fe.e.r&&(j=Fe.e.r),X<Fe.e.c&&(X=Fe.e.c)}}return j>8191&&(j=8191),q.write_shift(2,j),q.write_shift(1,de),q.write_shift(1,X),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function a(C,q,j){var X={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&j.qpro?(X.s.c=C.read_shift(1),C.l++,X.s.r=C.read_shift(2),X.e.c=C.read_shift(1),C.l++,X.e.r=C.read_shift(2),X):(X.s.c=C.read_shift(2),X.s.r=C.read_shift(2),q==12&&j.qpro&&(C.l+=2),X.e.c=C.read_shift(2),X.e.r=C.read_shift(2),q==12&&j.qpro&&(C.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function l(C){var q=nt(8);return q.write_shift(2,C.s.c),q.write_shift(2,C.s.r),q.write_shift(2,C.e.c),q.write_shift(2,C.e.r),q}function c(C,q,j){var X=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(X[0].c=C.read_shift(1),X[3]=C.read_shift(1),X[0].r=C.read_shift(2),C.l+=2):(X[2]=C.read_shift(1),X[0].c=C.read_shift(2),X[0].r=C.read_shift(2)),X}function u(C,q,j){var X=C.l+q,de=c(C,q,j);if(de[1].t="s",j.vers==20768){C.l++;var xe=C.read_shift(1);return de[1].v=C.read_shift(xe,"utf8"),de}return j.qpro&&C.l++,de[1].v=C.read_shift(X-C.l,"cstr"),de}function d(C,q,j){var X=nt(7+j.length);X.write_shift(1,255),X.write_shift(2,q),X.write_shift(2,C),X.write_shift(1,39);for(var de=0;de<X.length;++de){var xe=j.charCodeAt(de);X.write_shift(1,xe>=128?95:xe)}return X.write_shift(1,0),X}function f(C,q,j){var X=c(C,q,j);return X[1].v=C.read_shift(2,"i"),X}function h(C,q,j){var X=nt(7);return X.write_shift(1,255),X.write_shift(2,q),X.write_shift(2,C),X.write_shift(2,j,"i"),X}function _(C,q,j){var X=c(C,q,j);return X[1].v=C.read_shift(8,"f"),X}function g(C,q,j){var X=nt(13);return X.write_shift(1,255),X.write_shift(2,q),X.write_shift(2,C),X.write_shift(8,j,"f"),X}function y(C,q,j){var X=C.l+q,de=c(C,q,j);if(de[1].v=C.read_shift(8,"f"),j.qpro)C.l=X;else{var xe=C.read_shift(2);U(C.slice(C.l,C.l+xe),de),C.l+=xe}return de}function b(C,q,j){var X=q&32768;return q&=-32769,q=(X?C:0)+(q>=8192?q-16384:q),(X?"":"$")+(j?vo(q):eo(q))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function U(C,q){el(C,0);for(var j=[],X=0,de="",xe="",Ee="",Te="";C.l<C.length;){var Fe=C[C.l++];switch(Fe){case 0:j.push(C.read_shift(8,"f"));break;case 1:xe=b(q[0].c,C.read_shift(2),!0),de=b(q[0].r,C.read_shift(2),!1),j.push(xe+de);break;case 2:{var et=b(q[0].c,C.read_shift(2),!0),ot=b(q[0].r,C.read_shift(2),!1);xe=b(q[0].c,C.read_shift(2),!0),de=b(q[0].r,C.read_shift(2),!1),j.push(et+ot+":"+xe+de)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(C.read_shift(2));break;case 6:{for(var bt="";Fe=C[C.l++];)bt+=String.fromCharCode(Fe);j.push('"'+bt.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:Te=j.pop(),Ee=j.pop(),j.push(["AND","OR"][Fe-20]+"("+Ee+","+Te+")");break;default:if(Fe<32&&F[Fe])Te=j.pop(),Ee=j.pop(),j.push(Ee+F[Fe]+Te);else if(E[Fe]){if(X=E[Fe][1],X==69&&(X=C[C.l++]),X>j.length){console.error("WK1 bad formula parse 0x"+Fe.toString(16)+":|"+j.join("|")+"|");return}var Tt=j.slice(-X);j.length-=X,j.push(E[Fe][0]+"("+Tt.join(",")+")")}else return Fe<=7?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=24?console.error("WK1 unsupported op "+Fe.toString(16)):Fe<=30?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=115?console.error("WK1 unsupported function opcode "+Fe.toString(16)):console.error("WK1 unrecognized opcode "+Fe.toString(16))}}j.length==1?q[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function W(C){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=C.read_shift(2),q[3]=C[C.l++],q[0].c=C[C.l++],q}function te(C,q){var j=W(C,q);return j[1].t="s",j[1].v=C.read_shift(q-4,"cstr"),j}function I(C,q,j,X){var de=nt(6+X.length);de.write_shift(2,C),de.write_shift(1,j),de.write_shift(1,q),de.write_shift(1,39);for(var xe=0;xe<X.length;++xe){var Ee=X.charCodeAt(xe);de.write_shift(1,Ee>=128?95:Ee)}return de.write_shift(1,0),de}function T(C,q){var j=W(C,q);j[1].v=C.read_shift(2);var X=j[1].v>>1;if(j[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return j[1].v=X,j}function L(C,q){var j=W(C,q),X=C.read_shift(4),de=C.read_shift(4),xe=C.read_shift(2);if(xe==65535)return X===0&&de===3221225472?(j[1].t="e",j[1].v=15):X===0&&de===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var Ee=xe&32768;return xe=(xe&32767)-16446,j[1].v=(1-Ee*2)*(de*Math.pow(2,xe+32)+X*Math.pow(2,xe)),j}function N(C,q,j,X){var de=nt(14);if(de.write_shift(2,C),de.write_shift(1,j),de.write_shift(1,q),X==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var xe=0,Ee=0,Te=0,Fe=0;return X<0&&(xe=1,X=-X),Ee=Math.log2(X)|0,X/=Math.pow(2,Ee-31),Fe=X>>>0,Fe&2147483648||(X/=2,++Ee,Fe=X>>>0),X-=Fe,Fe|=2147483648,Fe>>>=0,X*=Math.pow(2,32),Te=X>>>0,de.write_shift(4,Te),de.write_shift(4,Fe),Ee+=16383+(xe?32768:0),de.write_shift(2,Ee),de}function D(C,q){var j=L(C,14);return C.l+=q-14,j}function M(C,q){var j=W(C,q),X=C.read_shift(4);return j[1].v=X>>6,j}function R(C,q){var j=W(C,q),X=C.read_shift(8,"f");return j[1].v=X,j}function Q(C,q){var j=R(C,14);return C.l+=q-10,j}function oe(C,q){return C[C.l+q-1]==0?C.read_shift(q,"cstr"):""}function le(C,q){var j=C[C.l++];j>q-1&&(j=q-1);for(var X="";X.length<j;)X+=String.fromCharCode(C[C.l++]);return X}function ie(C,q,j){if(!(!j.qpro||q<21)){var X=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var de=C.read_shift(q-21,"cstr");return[X,de]}}function fe(C,q){for(var j={},X=C.l+q;C.l<X;){var de=C.read_shift(2);if(de==14e3){for(j[de]=[0,""],j[de][0]=C.read_shift(2);C[C.l];)j[de][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return j}function be(C,q){var j=nt(5+C.length);j.write_shift(2,14e3),j.write_shift(2,q);for(var X=0;X<C.length;++X){var de=C.charCodeAt(X);j[j.l++]=de>127?95:de}return j[j.l++]=0,j}var Ce={0:{n:"BOF",f:BU},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:le},65535:{n:""}},Ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:te},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:e}}();var yhe=/^\s|\s$|[\t\n\r]/;function GU(t,e){if(!e.bookSST)return"";var n=[as];n[n.length]=It("sst",null,{xmlns:ev[0],count:t.Count,uniqueCount:t.Unique});for(var i=0;i!=t.length;++i)if(t[i]!=null){var r=t[i],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(yhe)&&(s+=' xml:space="preserve"'),s+=">"+ji(r.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function xhe(t){return[t.read_shift(4),t.read_shift(4)]}function whe(t,e){return e||(e=nt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var bhe=hde;function Che(t){var e=wa();ht(e,159,whe(t));for(var n=0;n<t.length;++n)ht(e,19,bhe(t[n]));return ht(e,160),e.end()}function The(t){if(typeof ar<"u")return ar.utils.encode(Zg,t);for(var e=[],n=t.split(""),i=0;i<n.length;++i)e[i]=n[i].charCodeAt(0);return e}function WU(t){var e=0,n,i=The(t),r=i.length+1,s,o,a,l,c;for(n=i0(r),n[0]=i.length,s=1;s!=r;++s)n[s]=i[s-1];for(s=r-1;s>=0;--s)o=n[s],a=e&16384?1:0,l=e<<1&32767,c=a|l,e=c^o;return e^52811}var She=function(){function t(r,s){switch(s.type){case"base64":return e(jd(r),s);case"binary":return e(r,s);case"buffer":return e(Ci&&Buffer.isBuffer(r)?r.toString("binary"):Y_(r),s);case"array":return e(nT(r),s)}throw new Error("Unrecognized type "+s.type)}function e(r,s){var o=s||{},a=o.dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(a)&&(a[d]=[]);for(var f=/\\\w+\b/g,h=0,_,g=-1;_=f.exec(u);){switch(_[0]){case"\\cell":var y=u.slice(h,f.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(a)?a[d][g]=b:a[Ui({r:d,c:g})]=b}break}h=f.lastIndex}g>c.e.c&&(c.e.c=g)}),a["!ref"]=os(c),a}function n(r,s){return o0(t(r,s),s)}function i(r){for(var s=["{\\rtf1\\ansi"],o=vr(r["!ref"]),a,l=Array.isArray(r),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var d=Ui({r:c,c:u});a=l?(r[c]||[])[u]:r[d],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Ud(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:i}}();function zj(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var Ehe=6;var Bd=Ehe;function qC(t){return Math.floor((t+Math.round(128/Bd)/256)*Bd)}function XC(t){return Math.floor((t-5)/Bd*100+.5)/100}function UP(t){return Math.round((t*Bd+5)/Bd*256)/256}function oF(t){t.width?(t.wpx=qC(t.width),t.wch=XC(t.wpx),t.MDW=Bd):t.wpx?(t.wch=XC(t.wpx),t.width=UP(t.wch),t.MDW=Bd):typeof t.wch=="number"&&(t.width=UP(t.wch),t.wpx=qC(t.width),t.MDW=Bd),t.customWidth&&delete t.customWidth}var Ahe=96,qU=Ahe;function YC(t){return t*96/qU}function XU(t){return t*qU/96}function khe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&(e[e.length]=It("numFmt",null,{numFmtId:i,formatCode:ji(t[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=It("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Dhe(t){var e=[];return e[e.length]=It("cellXfs",null),t.forEach(function(n){e[e.length]=It("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=It("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function YU(t,e){var n=[as,It("styleSheet",null,{xmlns:ev[0],"xmlns:vt":Rs.vt})],i;return t.SSF&&(i=khe(t.SSF))!=null&&(n[n.length]=i),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=Dhe(e.cellXfs))&&(n[n.length]=i),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Ihe(t,e){var n=t.read_shift(2),i=_o(t,e-2);return[n,i]}function Mhe(t,e,n){n||(n=nt(6+4*e.length)),n.write_shift(2,t),Bs(e,n);var i=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),i}function Phe(t,e,n){var i={};i.sz=t.read_shift(2)/20;var r=yde(t,2,n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var s=t.read_shift(2);switch(s===700&&(i.bold=1),t.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(i.underline=o);var a=t.read_shift(1);a>0&&(i.family=a);var l=t.read_shift(1);switch(l>0&&(i.charset=l),t.l++,i.color=_de(t,8),t.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=_o(t,e-21),i}function Fhe(t,e){e||(e=nt(25+4*32)),e.write_shift(2,t.sz*20),xde(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),GC(t.color,e);var i=0;return t.scheme=="major"&&(i=1),t.scheme=="minor"&&(i=2),e.write_shift(1,i),Bs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Lhe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],LP,Nhe=Pu;function $j(t,e){e||(e=nt(4*3+8*7+16*1)),LP||(LP=$P(Lhe));var n=LP[t.patternType];n==null&&(n=40),e.write_shift(4,n);var i=0;if(n!=40)for(GC({auto:1},e),GC({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Ohe(t,e){var n=t.l+e,i=t.read_shift(2),r=t.read_shift(2);return t.l=n,{ixfe:i,numFmtId:r}}function KU(t,e,n){n||(n=nt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var i=0;return n.write_shift(1,i),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function N_(t,e){return e||(e=nt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Rhe=Pu;function Vhe(t,e){return e||(e=nt(51)),e.write_shift(1,0),N_(null,e),N_(null,e),N_(null,e),N_(null,e),N_(null,e),e.length>e.l?e.slice(0,e.l):e}function Bhe(t,e){return e||(e=nt(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),$C(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function jhe(t,e,n){var i=nt(2052);return i.write_shift(4,t),$C(e,i),$C(n,i),i.length>i.l?i.slice(0,i.l):i}function Uhe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&++n}),n!=0&&(ht(t,615,Mc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&ht(t,44,Mhe(r,e[r]))}),ht(t,616))}}function Hhe(t){var e=1;e!=0&&(ht(t,611,Mc(e)),ht(t,43,Fhe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ht(t,612))}function zhe(t){var e=2;e!=0&&(ht(t,603,Mc(e)),ht(t,45,$j({patternType:"none"})),ht(t,45,$j({patternType:"gray125"})),ht(t,604))}function $he(t){var e=1;e!=0&&(ht(t,613,Mc(e)),ht(t,46,Vhe({})),ht(t,614))}function Ghe(t){var e=1;ht(t,626,Mc(e)),ht(t,47,KU({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ht(t,627)}function Whe(t,e){ht(t,617,Mc(e.length)),e.forEach(function(n){ht(t,47,KU(n,0))}),ht(t,618)}function qhe(t){var e=1;ht(t,619,Mc(e)),ht(t,48,Bhe({xfId:0,builtinId:0,name:"Normal"})),ht(t,620)}function Xhe(t){var e=0;ht(t,505,Mc(e)),ht(t,506)}function Yhe(t){var e=0;ht(t,508,jhe(e,"TableStyleMedium9","PivotStyleMedium4")),ht(t,509)}function Khe(t,e){var n=wa();return ht(n,278),Uhe(n,t.SSF),Hhe(n,t),zhe(n,t),$he(n,t),Ghe(n,t),Whe(n,e.cellXfs),qhe(n,t),Xhe(n,t),Yhe(n,t),ht(n,279),n.end()}function QU(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[as];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Qhe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:_o(t,e-8)}}function Zhe(t){var e=nt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Bs(t.name,e),e.slice(0,e.l)}function Jhe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function efe(t){var e=nt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function tfe(t,e){var n=nt(8+2*e.length);return n.write_shift(4,t),Bs(e,n),n.slice(0,n.l)}function nfe(t){return t.l+=4,t.read_shift(4)!=0}function ife(t,e){var n=nt(8);return n.write_shift(4,t),n.write_shift(4,e?1:0),n}function rfe(){var t=wa();return ht(t,332),ht(t,334,Mc(1)),ht(t,335,Zhe({name:"XLDAPR",version:12e4,flags:3496657072})),ht(t,336),ht(t,339,tfe(1,"XLDAPR")),ht(t,52),ht(t,35,Mc(514)),ht(t,4096,Mc(0)),ht(t,4097,Bl(1)),ht(t,36),ht(t,53),ht(t,340),ht(t,337,ife(1,!0)),ht(t,51,efe([[1,0]])),ht(t,338),ht(t,333),t.end()}function ZU(){var t=[as];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function sfe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Ui(n);var i=t.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var Wg=1024;function JU(t,e){for(var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),r=[It("xml",null,{"xmlns:v":tl.v,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:mv":tl.mv}).replace(/\/>/,">"),It("o:shapelayout",It("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),It("v:shapetype",[It("v:stroke",null,{joinstyle:"miter"}),It("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:i})];Wg<t*1e3;)Wg+=1e3;return e.forEach(function(s){var o=Vs(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?It("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=It("v:fill",l,a),u={on:"t",obscured:"t"};++Wg,r=r.concat(["<v:shape"+W_({id:"_x0000_s"+Wg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,It("v:shadow",null,u),It("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Js("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Js("x:AutoFill","False"),Js("x:Row",String(o.r)),Js("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function eH(t){var e=[as,It("comments",null,{xmlns:ev[0]})],n=[];return e.push("<authors>"),t.forEach(function(i){i[1].forEach(function(r){var s=ji(r.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(i){var r=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=n.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(r=n.indexOf(ji(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),s.length<=1)e.push(Js("t",ji(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(Js("t",ji(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ofe(t,e,n){var i=[as,It("ThreadedComments",null,{xmlns:Rs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),i.push(It("threadedComment",Js("text",o.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function afe(t){var e=[as,It("personList",null,{xmlns:Rs.TCMNT,"xmlns:x":ev[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,i){e.push(It("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function lfe(t){var e={};e.iauthor=t.read_shift(4);var n=u0(t,16);return e.rfx=n.s,e.ref=Ui(n.s),t.l+=16,e}function cfe(t,e){return e==null&&(e=nt(36)),e.write_shift(4,t[1].iauthor),iv(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var ufe=_o;function dfe(t){return Bs(t.slice(0,54))}function hfe(t){var e=wa(),n=[];return ht(e,628),ht(e,630),t.forEach(function(i){i[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),ht(e,632,dfe(r.a)))})}),ht(e,631),ht(e,633),t.forEach(function(i){i[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var s={s:Vs(i[0]),e:Vs(i[0])};ht(e,635,cfe([s,r])),r.t&&r.t.length>0&&ht(e,637,pde(r)),ht(e,636),delete r.iauthor})}),ht(e,634),ht(e,629),e.end()}function ffe(t,e){e.FullPaths.forEach(function(n,i){if(i!=0){var r=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Wi.utils.cfb_add(t,r,e.FileIndex[i].content)}})}var tH=["xlsb","xlsm","xlam","biff8","xla"];var pfe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(i,r,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=e.c:--u,l?c+=e.r:--c,r+(a?"":"$")+vo(u)+(l?"":"$")+eo(c)}return function(r,s){return e=s,r.replace(t,n)}}(),aF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lF=function(){return function(e,n){return e.replace(aF,function(i,r,s,o,a,l){var c=tF(o)-(s?0:n.c),u=eF(l)-(a?0:n.r),d=u==0?"":a?u+1:"["+u+"]",f=c==0?"":s?c+1:"["+c+"]";return r+"R"+d+"C"+f})}}();function mfe(t,e){return t.replace(aF,function(n,i,r,s,o,a){return i+(r=="$"?r+s:vo(tF(s)+e.c))+(o=="$"?o+a:eo(eF(a)+e.r))})}function gfe(t){return t.length!=1}function ss(t){t.l+=1}function xf(t,e){var n=t.read_shift(e==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function nH(t,e,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return iH(t,e,n);n.biff==12&&(i=4)}var r=t.read_shift(i),s=t.read_shift(i),o=xf(t,2),a=xf(t,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function iH(t){var e=xf(t,2),n=xf(t,2),i=t.read_shift(1),r=t.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function vfe(t,e,n){if(n.biff<8)return iH(t,e,n);var i=t.read_shift(n.biff==12?4:2),r=t.read_shift(n.biff==12?4:2),s=xf(t,2),o=xf(t,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function rH(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return _fe(t,e,n);var i=t.read_shift(n&&n.biff==12?4:2),r=xf(t,2);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function _fe(t){var e=xf(t,2),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function yfe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function xfe(t,e,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return wfe(t,e,n);var r=t.read_shift(i>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;r>524287;)r-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:o,rRel:a}}function wfe(t){var e=t.read_shift(2),n=t.read_shift(1),i=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),r==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:r,rRel:i}}function bfe(t,e,n){var i=(t[t.l++]&96)>>5,r=nH(t,n.biff>=2&&n.biff<=5?6:8,n);return[i,r]}function Cfe(t,e,n){var i=(t[t.l++]&96)>>5,r=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=nH(t,s,n);return[i,r,o]}function Tfe(t,e,n){var i=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function Sfe(t,e,n){var i=(t[t.l++]&96)>>5,r=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[i,r]}function Efe(t,e,n){var i=(t[t.l++]&96)>>5,r=vfe(t,e-1,n);return[i,r]}function Afe(t,e,n){var i=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[i]}function Gj(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function kfe(t,e,n){t.l+=2;for(var i=t.read_shift(n&&n.biff==2?1:2),r=[],s=0;s<=i;++s)r.push(t.read_shift(n&&n.biff==2?1:2));return r}function Dfe(t,e,n){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(n&&n.biff==2?1:2)]}function Ife(t,e,n){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(n&&n.biff==2?1:2)]}function Mfe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Pfe(t,e,n){var i=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[i]}function sH(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Ffe(t){return t.read_shift(2),sH(t,2)}function Lfe(t){return t.read_shift(2),sH(t,2)}function Nfe(t,e,n){var i=(t[t.l]&96)>>5;t.l+=1;var r=rH(t,0,n);return[i,r]}function Ofe(t,e,n){var i=(t[t.l]&96)>>5;t.l+=1;var r=xfe(t,0,n);return[i,r]}function Rfe(t,e,n){var i=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=rH(t,0,n);return[i,r,s]}function Vfe(t,e,n){var i=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(n&&n.biff<=3?1:2);return[Vpe[r],lH[r],i]}function Bfe(t,e,n){var i=t[t.l++],r=t.read_shift(1),s=n&&n.biff<=3?[i==88?-1:0,t.read_shift(1)]:jfe(t);return[r,(s[0]===0?lH:Rpe)[s[1]]]}function jfe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Ufe(t,e,n){t.l+=n&&n.biff==2?3:4}function Hfe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var i=t.read_shift(2),r=t.read_shift(n&&n.biff==2?1:2);return[i,r]}function zfe(t){return t.l++,Q_[t.read_shift(1)]}function $fe(t){return t.l++,t.read_shift(2)}function Gfe(t){return t.l++,t.read_shift(1)!==0}function Wfe(t){return t.l++,rv(t,8)}function qfe(t,e,n){return t.l++,UU(t,e-1,n)}function Xfe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Rde(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Q_[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=rv(t,8);break;case 2:n[1]=Ude(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Yfe(t,e,n){for(var i=t.read_shift(n.biff==12?4:2),r=[],s=0;s!=i;++s)r.push((n.biff==12?u0:$de)(t,8));return r}function Kfe(t,e,n){var i=0,r=0;n.biff==12?(i=t.read_shift(4),r=t.read_shift(4)):(r=1+t.read_shift(1),i=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,--r==0&&(r=256));for(var s=0,o=[];s!=i&&(o[s]=[]);++s)for(var a=0;a!=r;++a)o[s][a]=Xfe(t,n.biff);return o}function Qfe(t,e,n){var i=t.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,s=t.read_shift(r);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[i,0,s]}function Zfe(t,e,n){if(n.biff==5)return Jfe(t,e,n);var i=t.read_shift(1)>>>5&3,r=t.read_shift(2),s=t.read_shift(4);return[i,r,s]}function Jfe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var i=t.read_shift(2);return t.l+=12,[e,n,i]}function epe(t,e,n){var i=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var r=t.read_shift(n&&n.biff==2?1:2);return[i,r]}function tpe(t,e,n){var i=t.read_shift(1)>>>5&3,r=t.read_shift(n&&n.biff==2?1:2);return[i,r]}function npe(t,e,n){var i=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[i]}function ipe(t,e,n){var i=(t[t.l++]&96)>>5,r=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[i,r]}var rpe=Pu,spe=Pu,ope=Pu;function Z_(t,e,n){return t.l+=2,[yfe(t,4,n)]}function cF(t){return t.l+=6,[]}var ape=Z_,lpe=cF,cpe=cF,upe=Z_;function oH(t){return t.l+=2,[BU(t),t.read_shift(2)&1]}var dpe=Z_,hpe=oH,fpe=cF,ppe=Z_,mpe=Z_,gpe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vpe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(4),r=t.read_shift(2),s=t.read_shift(2),o=gpe[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:i,c:r,C:s}}function _pe(t){return t.l+=2,[t.read_shift(4)]}function ype(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function xpe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function wpe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function bpe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function Cpe(t){return t.l+=4,[0,0]}var Wj={1:{n:"PtgExp",f:Hfe},2:{n:"PtgTbl",f:ope},3:{n:"PtgAdd",f:ss},4:{n:"PtgSub",f:ss},5:{n:"PtgMul",f:ss},6:{n:"PtgDiv",f:ss},7:{n:"PtgPower",f:ss},8:{n:"PtgConcat",f:ss},9:{n:"PtgLt",f:ss},10:{n:"PtgLe",f:ss},11:{n:"PtgEq",f:ss},12:{n:"PtgGe",f:ss},13:{n:"PtgGt",f:ss},14:{n:"PtgNe",f:ss},15:{n:"PtgIsect",f:ss},16:{n:"PtgUnion",f:ss},17:{n:"PtgRange",f:ss},18:{n:"PtgUplus",f:ss},19:{n:"PtgUminus",f:ss},20:{n:"PtgPercent",f:ss},21:{n:"PtgParen",f:ss},22:{n:"PtgMissArg",f:ss},23:{n:"PtgStr",f:qfe},26:{n:"PtgSheet",f:ype},27:{n:"PtgEndSheet",f:xpe},28:{n:"PtgErr",f:zfe},29:{n:"PtgBool",f:Gfe},30:{n:"PtgInt",f:$fe},31:{n:"PtgNum",f:Wfe},32:{n:"PtgArray",f:Afe},33:{n:"PtgFunc",f:Vfe},34:{n:"PtgFuncVar",f:Bfe},35:{n:"PtgName",f:Qfe},36:{n:"PtgRef",f:Nfe},37:{n:"PtgArea",f:bfe},38:{n:"PtgMemArea",f:epe},39:{n:"PtgMemErr",f:rpe},40:{n:"PtgMemNoMem",f:spe},41:{n:"PtgMemFunc",f:tpe},42:{n:"PtgRefErr",f:npe},43:{n:"PtgAreaErr",f:Tfe},44:{n:"PtgRefN",f:Ofe},45:{n:"PtgAreaN",f:Efe},46:{n:"PtgMemAreaN",f:wpe},47:{n:"PtgMemNoMemN",f:bpe},57:{n:"PtgNameX",f:Zfe},58:{n:"PtgRef3d",f:Rfe},59:{n:"PtgArea3d",f:Cfe},60:{n:"PtgRefErr3d",f:ipe},61:{n:"PtgAreaErr3d",f:Sfe},255:{}},Tpe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Spe={1:{n:"PtgElfLel",f:oH},2:{n:"PtgElfRw",f:ppe},3:{n:"PtgElfCol",f:ape},6:{n:"PtgElfRwV",f:mpe},7:{n:"PtgElfColV",f:upe},10:{n:"PtgElfRadical",f:dpe},11:{n:"PtgElfRadicalS",f:fpe},13:{n:"PtgElfColS",f:lpe},15:{n:"PtgElfColSV",f:cpe},16:{n:"PtgElfRadicalLel",f:hpe},25:{n:"PtgList",f:vpe},29:{n:"PtgSxName",f:_pe},255:{}},Epe={0:{n:"PtgAttrNoop",f:Cpe},1:{n:"PtgAttrSemi",f:Pfe},2:{n:"PtgAttrIf",f:Ife},4:{n:"PtgAttrChoose",f:kfe},8:{n:"PtgAttrGoto",f:Dfe},16:{n:"PtgAttrSum",f:Ufe},32:{n:"PtgAttrBaxcel",f:Gj},33:{n:"PtgAttrBaxcel",f:Gj},64:{n:"PtgAttrSpace",f:Ffe},65:{n:"PtgAttrSpaceSemi",f:Lfe},128:{n:"PtgAttrIfError",f:Mfe},255:{}};function Ape(t,e,n,i){if(i.biff<8)return Pu(t,e);for(var r=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Kfe(t,0,i),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Yfe(t,n[o][1],i),s.push(n[o][2]);break;case"PtgExp":i&&i.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0];default:break}return e=r-t.l,e!==0&&s.push(Pu(t,e)),s}function kpe(t,e,n){for(var i=t.l+e,r,s,o=[];i!=t.l;)e=i-t.l,s=t[t.l],r=Wj[s]||Wj[Tpe[s]],(s===24||s===25)&&(r=(s===24?Spe:Epe)[t[t.l+1]]),!r||!r.f?Pu(t,e):o.push([r.n,r.f(t,e,n)]);return o}function Dpe(t){for(var e=[],n=0;n<t.length;++n){for(var i=t[n],r=[],s=0;s<i.length;++s){var o=i[s];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var Ipe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Mpe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function aH(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var i=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!i)return"SH33TJSERR1";var r="";if(n.biff>8)switch(t[i[0]][0]){case 357:return r=i[1]==-1?"#REF":t.SheetNames[i[1]],i[1]==i[2]?r:r+":"+t.SheetNames[i[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[i[0]][0];case 355:default:return"SH33TJSSRC"+t[i[0]][0]}switch(t[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":t.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+t.SheetNames[i[2]];case 14849:return t[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[i[0]][0][3]?(r=i[1]==-1?"#REF":t[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+t[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function qj(t,e,n){var i=aH(t,e,n);return i=="#REF"?i:Mpe(i,n)}function Jg(t,e,n,i,r){var s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,c,u,d=0,f=0,h,_="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",b=0,E=t[0].length;b<E;++b){var F=t[0][b];switch(F[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Fr(" ",t[0][g][1][1]);break;case 1:y=Fr("\r",t[0][g][1][1]);break;default:if(y="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}a.push(c+Ipe[F[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=B_(F[1][1],o,r),a.push(j_(u,s));break;case"PtgRefN":u=n?B_(F[1][1],n,r):F[1][1],a.push(j_(u,s));break;case"PtgRef3d":d=F[1][1],u=B_(F[1][2],o,r),_=qj(i,d,r);var U=_;a.push(_+"!"+j_(u,s));break;case"PtgFunc":case"PtgFuncVar":var W=F[1][0],te=F[1][1];W||(W=0),W&=127;var I=W==0?[]:a.slice(-W);a.length-=W,te==="User"&&(te=I.shift()),a.push(te+"("+I.join(",")+")");break;case"PtgBool":a.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(F[1]);break;case"PtgNum":a.push(String(F[1]));break;case"PtgStr":a.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(F[1]);break;case"PtgAreaN":h=Mj(F[1][1],n?{s:n}:o,r),a.push(PP(h,r));break;case"PtgArea":h=Mj(F[1][1],o,r),a.push(PP(h,r));break;case"PtgArea3d":d=F[1][1],h=F[1][2],_=qj(i,d,r),a.push(_+"!"+PP(h,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=F[1][2];var T=(i.names||[])[f-1]||(i[0]||[])[f],L=T?T.Name:"SH33TJSNAME"+String(f);L&&L.slice(0,6)=="_xlfn."&&!r.xlfn&&(L=L.slice(6)),a.push(L);break;case"PtgNameX":var N=F[1][1];f=F[1][2];var D;if(r.biff<=5)N<0&&(N=-N),i[N]&&(D=i[N][f]);else{var M="";if(((i[N]||[])[0]||[])[0]==14849||(((i[N]||[])[0]||[])[0]==1025?i[N][f]&&i[N][f].itab>0&&(M=i.SheetNames[i[N][f].itab-1]+"!"):M=i.SheetNames[f-1]+"!"),i[N]&&i[N][f])M+=i[N][f].Name;else if(i[0]&&i[0][f])M+=i[0][f].Name;else{var R=(aH(i,N,r)||"").split(";;");R[f-1]?M=R[f-1]:M+="SH33TJSERRX"}a.push(M);break}D||(D={Name:"SH33TJSERRY"}),a.push(D.Name);break;case"PtgParen":var Q="(",oe=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:Q=Fr(" ",t[0][g][1][1])+Q;break;case 3:Q=Fr("\r",t[0][g][1][1])+Q;break;case 4:oe=Fr(" ",t[0][g][1][1])+oe;break;case 5:oe=Fr("\r",t[0][g][1][1])+oe;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}a.push(Q+a.pop()+oe);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:F[1][1],r:F[1][0]};var le={c:n.c,r:n.r};if(i.sharedf[Ui(u)]){var ie=i.sharedf[Ui(u)];a.push(Jg(ie,o,le,i,r))}else{var fe=!1;for(l=0;l!=i.arrayf.length;++l)if(c=i.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(Jg(c[1],o,le,i,r)),fe=!0;break}fe||a.push(F[1])}break;case"PtgArray":a.push("{"+Dpe(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&g>=0&&be.indexOf(t[0][b][0])==-1){F=t[0][g];var Ce=!0;switch(F[1][0]){case 4:Ce=!1;case 0:y=Fr(" ",F[1][1]);break;case 5:Ce=!1;case 1:y=Fr("\r",F[1][1]);break;default:if(y="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}a.push((Ce?y:"")+a.pop()+(Ce?"":y)),g=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function Ppe(t){if(t==null){var e=nt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return r0(t);return r0(0)}function Fpe(t,e,n,i,r){var s=s0(e,n,r),o=Ppe(t.v),a=nt(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=nt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var d=Zs([s,o,a,c]);return d}function rT(t,e,n){var i=t.read_shift(4),r=kpe(t,i,n),s=t.read_shift(4),o=s>0?Ape(t,s,r,n):null;return[r,o]}var Lpe=rT,sT=rT,Npe=rT,Ope=rT,Rpe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Vpe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bpe(t){var e="of:="+t.replace(aF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function jpe(t){return t.replace(/\./,"!")}var U_=typeof Map<"u";function uF(t,e,n){var i=0,r=t.length;if(n){if(U_?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=U_?n.get(e):n[e];i<s.length;++i)if(t[s[i]].t===e)return t.Count++,s[i]}}else for(;i<r;++i)if(t[i].t===e)return t.Count++,i;return t[r]={t:e},t.Count++,t.Unique++,n&&(U_?(n.has(e)||n.set(e,[]),n.get(e).push(r)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(r))),r}function oT(t,e){var n={min:t+1,max:t+1},i=-1;return e.MDW&&(Bd=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?i=XC(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(n.width=UP(i),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function cH(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function bf(t,e,n){var i=n.revssf[e.z!=null?e.z:"General"],r=60,s=t.length;if(i==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){cU(e.z,r),n.ssf[r]=e.z,n.revssf[e.z]=i=r;break}}for(r=0;r!=s;++r)if(t[r].numFmtId===i)return r;return t[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Upe(t,e,n){if(t&&t["!ref"]){var i=vr(t["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Hpe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+os(t[n])+'"/>';return e+"</mergeCells>"}function zpe(t,e,n,i,r){var s=!1,o={},a=null;if(i.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=Od(ji(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),a=(a||"")+It("outlinePr",null,c)}!s&&!a||(r[r.length]=It("sheetPr",a,o))}var $pe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Gpe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Wpe(t){var e={sheet:1};return $pe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Gpe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=WU(t.password).toString(16).toUpperCase()),It("sheetProtection",null,e)}function qpe(t){return cH(t),It("pageMargins",null,t)}function Xpe(t,e){for(var n=["<cols>"],i,r=0;r!=e.length;++r)(i=e[r])&&(n[n.length]=It("col",null,oT(r,i)));return n[n.length]="</cols>",n.join("")}function Ype(t,e,n,i){var r=typeof t.ref=="string"?t.ref:os(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=nl(r);o.s.r==o.e.r&&(o.e.r=nl(e["!ref"]).e.r,r=os(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+n.SheetNames[i]+"'!"+r;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+r}),It("autoFilter",null,{ref:r})}function Kpe(t,e,n,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),It("sheetViews",It("sheetView",null,r),{})}function Qpe(t,e,n,i){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var r="",s=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":r=t.v?"1":"0";break;case"n":r=""+t.v;break;case"e":r=Q_[t.v];break;case"d":i&&i.cellDates?r=Ko(t.v,-1).toISOString():(t=Ca(t),t.t="n",r=""+(t.v=ba(Ko(t.v)))),typeof t.z>"u"&&(t.z=Lr[14]);break;default:r=t.v;break}var a=Js("v",ji(r)),l={r:e},c=bf(i.cellXfs,t,i);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){a=Js("v",""+uF(i.Strings,t.v,i.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;a=It("f",ji(t.f),u)+(t.v!=null?a:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),It("c",a,l)}function Zpe(t,e,n,i){var r=[],s=[],o=vr(t["!ref"]),a="",l,c="",u=[],d=0,f=0,h=t["!rows"],_=Array.isArray(t),g={r:c},y,b=-1;for(f=o.s.c;f<=o.e.c;++f)u[f]=vo(f);for(d=o.s.r;d<=o.e.r;++d){for(s=[],c=eo(d),f=o.s.c;f<=o.e.c;++f){l=u[f]+c;var E=_?(t[d]||[])[f]:t[l];E!==void 0&&(a=Qpe(E,l,t,e,n,i))!=null&&s.push(a)}(s.length>0||h&&h[d])&&(g={r:c},h&&h[d]&&(y=h[d],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=YC(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),r[r.length]=It("row",s.join(""),g))}if(h)for(;d<h.length;++d)h&&h[d]&&(g={r:d+1},y=h[d],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=YC(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),r[r.length]=It("row","",g));return r.join("")}function uH(t,e,n,i){var r=[as,It("worksheet",null,{xmlns:ev[0],"xmlns:r":Rs.r})],s=n.SheetNames[t],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=vr(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=os(u)}i||(i={}),l["!comments"]=[];var d=[];zpe(l,n,t,e,r),r[r.length]=It("dimension",null,{ref:c}),r[r.length]=Kpe(l,e,t,n),e.sheetFormat&&(r[r.length]=It("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(r[r.length]=Xpe(l,l["!cols"])),r[o=r.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=Zpe(l,e,t,n,i),a.length>0&&(r[r.length]=a)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),l["!protect"]&&(r[r.length]=Wpe(l["!protect"])),l["!autofilter"]!=null&&(r[r.length]=Ype(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(r[r.length]=Hpe(l["!merges"]));var f=-1,h,_=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(_=Bi(i,-1,ji(g[1].Target).replace(/#.*$/,""),_i.HLINK),h["r:id"]="rId"+_),(f=g[1].Target.indexOf("#"))>-1&&(h.location=ji(g[1].Target.slice(f+1))),g[1].Tooltip&&(h.tooltip=ji(g[1].Tooltip)),r[r.length]=It("hyperlink",null,h))}),r[r.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(r[r.length]=qpe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=Js("ignoredErrors",It("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(_=Bi(i,-1,"../drawings/drawing"+(t+1)+".xml",_i.DRAW),r[r.length]=It("drawing",null,{"r:id":"rId"+_}),l["!drawing"]=d),l["!comments"].length>0&&(_=Bi(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",_i.VML),r[r.length]=It("legacyDrawing",null,{"r:id":"rId"+_}),l["!legacy"]=_),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Jpe(t,e){var n={},i=t.l+e;n.r=t.read_shift(4),t.l+=4;var r=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=i,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=r/20),n}function e0e(t,e,n){var i=nt(145),r=(n["!rows"]||[])[t]||{};i.write_shift(4,t),i.write_shift(4,0);var s=320;r.hpx?s=YC(r.hpx)*20:r.hpt&&(s=r.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),i.write_shift(1,o),i.write_shift(1,0);var a=0,l=i.l;i.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var d=-1,f=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var _=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Ui(c)];_&&(d<0&&(d=h),f=h)}d<0||(++a,i.write_shift(4,d),i.write_shift(4,f))}var g=i.l;return i.l=l,i.write_shift(4,a),i.l=g,i.length>i.l?i.slice(0,i.l):i}function t0e(t,e,n,i){var r=e0e(i,n,e);(r.length>17||(e["!rows"]||[])[i])&&ht(t,0,r)}var n0e=u0,i0e=iv;function r0e(){}function s0e(t,e){var n={},i=t[t.l];return++t.l,n.above=!(i&64),n.left=!(i&128),t.l+=18,n.name=mde(t,e-19),n}function o0e(t,e,n){n==null&&(n=nt(84+4*t.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),n.write_shift(1,i);for(var r=1;r<3;++r)n.write_shift(1,0);return GC({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),SU(t,n),n.slice(0,n.l)}function a0e(t){var e=jl(t);return[e]}function l0e(t,e,n){return n==null&&(n=nt(8)),a0(e,n)}function c0e(t){var e=l0(t);return[e]}function u0e(t,e,n){return n==null&&(n=nt(4)),c0(e,n)}function d0e(t){var e=jl(t),n=t.read_shift(1);return[e,n,"b"]}function h0e(t,e,n){return n==null&&(n=nt(9)),a0(e,n),n.write_shift(1,t.v?1:0),n}function f0e(t){var e=l0(t),n=t.read_shift(1);return[e,n,"b"]}function p0e(t,e,n){return n==null&&(n=nt(5)),c0(e,n),n.write_shift(1,t.v?1:0),n}function m0e(t){var e=jl(t),n=t.read_shift(1);return[e,n,"e"]}function g0e(t,e,n){return n==null&&(n=nt(9)),a0(e,n),n.write_shift(1,t.v),n}function v0e(t){var e=l0(t),n=t.read_shift(1);return[e,n,"e"]}function _0e(t,e,n){return n==null&&(n=nt(8)),c0(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function y0e(t){var e=jl(t),n=t.read_shift(4);return[e,n,"s"]}function x0e(t,e,n){return n==null&&(n=nt(12)),a0(e,n),n.write_shift(4,e.v),n}function w0e(t){var e=l0(t),n=t.read_shift(4);return[e,n,"s"]}function b0e(t,e,n){return n==null&&(n=nt(8)),c0(e,n),n.write_shift(4,e.v),n}function C0e(t){var e=jl(t),n=rv(t);return[e,n,"n"]}function T0e(t,e,n){return n==null&&(n=nt(16)),a0(e,n),r0(t.v,n),n}function S0e(t){var e=l0(t),n=rv(t);return[e,n,"n"]}function E0e(t,e,n){return n==null&&(n=nt(12)),c0(e,n),r0(t.v,n),n}function A0e(t){var e=jl(t),n=EU(t);return[e,n,"n"]}function k0e(t,e,n){return n==null&&(n=nt(12)),a0(e,n),AU(t.v,n),n}function D0e(t){var e=l0(t),n=EU(t);return[e,n,"n"]}function I0e(t,e,n){return n==null&&(n=nt(8)),c0(e,n),AU(t.v,n),n}function M0e(t){var e=jl(t),n=nF(t);return[e,n,"is"]}function P0e(t){var e=jl(t),n=_o(t);return[e,n,"str"]}function F0e(t,e,n){return n==null&&(n=nt(12+4*t.v.length)),a0(e,n),Bs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function L0e(t){var e=l0(t),n=_o(t);return[e,n,"str"]}function N0e(t,e,n){return n==null&&(n=nt(8+4*t.v.length)),c0(e,n),Bs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function O0e(t,e,n){var i=t.l+e,r=jl(t);r.r=n["!row"];var s=t.read_shift(1),o=[r,s,"b"];if(n.cellFormula){t.l+=2;var a=sT(t,i-t.l,n);o[3]=Jg(a,null,r,n.supbooks,n)}else t.l=i;return o}function R0e(t,e,n){var i=t.l+e,r=jl(t);r.r=n["!row"];var s=t.read_shift(1),o=[r,s,"e"];if(n.cellFormula){t.l+=2;var a=sT(t,i-t.l,n);o[3]=Jg(a,null,r,n.supbooks,n)}else t.l=i;return o}function V0e(t,e,n){var i=t.l+e,r=jl(t);r.r=n["!row"];var s=rv(t),o=[r,s,"n"];if(n.cellFormula){t.l+=2;var a=sT(t,i-t.l,n);o[3]=Jg(a,null,r,n.supbooks,n)}else t.l=i;return o}function B0e(t,e,n){var i=t.l+e,r=jl(t);r.r=n["!row"];var s=_o(t),o=[r,s,"str"];if(n.cellFormula){t.l+=2;var a=sT(t,i-t.l,n);o[3]=Jg(a,null,r,n.supbooks,n)}else t.l=i;return o}var j0e=u0,U0e=iv;function H0e(t,e){return e==null&&(e=nt(4)),e.write_shift(4,t),e}function z0e(t,e){var n=t.l+e,i=u0(t,16),r=iF(t),s=_o(t),o=_o(t),a=_o(t);t.l=n;var l={rfx:i,relId:r,loc:s,display:a};return o&&(l.Tooltip=o),l}function $0e(t,e){var n=nt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));iv({s:Vs(t[0]),e:Vs(t[0])},n),rF("rId"+e,n);var i=t[1].Target.indexOf("#"),r=i==-1?"":t[1].Target.slice(i+1);return Bs(r||"",n),Bs(t[1].Tooltip||"",n),Bs("",n),n.slice(0,n.l)}function G0e(){}function W0e(t,e,n){var i=t.l+e,r=kU(t,16),s=t.read_shift(1),o=[r];if(o[2]=s,n.cellFormula){var a=Lpe(t,i-t.l,n);o[1]=a}else t.l=i;return o}function q0e(t,e,n){var i=t.l+e,r=u0(t,16),s=[r];if(n.cellFormula){var o=Ope(t,i-t.l,n);s[1]=o,t.l=i}else t.l=i;return s}function X0e(t,e,n){n==null&&(n=nt(18));var i=oT(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(i.width||10)*256),n.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),n.write_shift(2,r),n}var dH=["left","right","top","bottom","header","footer"];function Y0e(t){var e={};return dH.forEach(function(n){e[n]=rv(t,8)}),e}function K0e(t,e){return e==null&&(e=nt(6*8)),cH(t),dH.forEach(function(n){r0(t[n],e)}),e}function Q0e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Z0e(t,e,n){n==null&&(n=nt(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),n.write_shift(2,i),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function J0e(t){var e=nt(24);return e.write_shift(4,4),e.write_shift(4,1),iv(t,e),e}function eme(t,e){return e==null&&(e=nt(16*4+2)),e.write_shift(2,t.password?WU(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function tme(){}function nme(){}function ime(t,e,n,i,r,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=Ca(e),e.z=e.z||Lr[14],e.v=ba(Ko(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:n,c:i};switch(l.s=bf(r.cellXfs,e,r),e.l&&s["!links"].push([Ui(l),e.l]),e.c&&s["!comments"].push([Ui(l),e.c]),e.t){case"s":case"str":return r.bookSST?(a=uF(r.Strings,e.v,r.revStrings),l.t="s",l.v=a,o?ht(t,18,b0e(e,l)):ht(t,7,x0e(e,l))):(l.t="str",o?ht(t,17,N0e(e,l)):ht(t,6,F0e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ht(t,13,I0e(e,l)):ht(t,2,k0e(e,l)):o?ht(t,16,E0e(e,l)):ht(t,5,T0e(e,l)),!0;case"b":return l.t="b",o?ht(t,15,p0e(e,l)):ht(t,4,h0e(e,l)),!0;case"e":return l.t="e",o?ht(t,14,_0e(e,l)):ht(t,3,g0e(e,l)),!0}return o?ht(t,12,u0e(e,l)):ht(t,1,l0e(e,l)),!0}function rme(t,e,n,i){var r=vr(e["!ref"]||"A1"),s,o="",a=[];ht(t,145);var l=Array.isArray(e),c=r.e.r;e["!rows"]&&(c=Math.max(r.e.r,e["!rows"].length-1));for(var u=r.s.r;u<=c;++u){o=eo(u),t0e(t,e,r,u);var d=!1;if(u<=r.e.r)for(var f=r.s.c;f<=r.e.c;++f){u===r.s.r&&(a[f]=vo(f)),s=a[f]+o;var h=l?(e[u]||[])[f]:e[s];if(!h){d=!1;continue}d=ime(t,h,u,f,i,e,d)}}ht(t,146)}function sme(t,e){!e||!e["!merges"]||(ht(t,177,H0e(e["!merges"].length)),e["!merges"].forEach(function(n){ht(t,176,U0e(n))}),ht(t,178))}function ome(t,e){!e||!e["!cols"]||(ht(t,390),e["!cols"].forEach(function(n,i){n&&ht(t,60,X0e(i,n))}),ht(t,391))}function ame(t,e){!e||!e["!ref"]||(ht(t,648),ht(t,649,J0e(vr(e["!ref"]))),ht(t,650))}function lme(t,e,n){e["!links"].forEach(function(i){if(i[1].Target){var r=Bi(n,-1,i[1].Target.replace(/#.*$/,""),_i.HLINK);ht(t,494,$0e(i,r))}}),delete e["!links"]}function cme(t,e,n,i){if(e["!comments"].length>0){var r=Bi(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",_i.VML);ht(t,551,rF("rId"+r)),e["!legacy"]=r}}function ume(t,e,n,i){if(e["!autofilter"]){var r=e["!autofilter"],s=typeof r.ref=="string"?r.ref:os(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=nl(s);a.s.r==a.e.r&&(a.e.r=nl(e["!ref"]).e.r,s=os(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+n.SheetNames[i]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+s}),ht(t,161,iv(vr(s))),ht(t,162)}}function dme(t,e,n){ht(t,133),ht(t,137,Z0e(e,n)),ht(t,138),ht(t,134)}function hme(t,e){e["!protect"]&&ht(t,535,eme(e["!protect"]))}function fme(t,e,n,i){var r=wa(),s=n.SheetNames[t],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[t].CodeName||a)}catch{}var l=vr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ht(r,129),(n.vbaraw||o["!outline"])&&ht(r,147,o0e(a,o["!outline"])),ht(r,148,i0e(l)),dme(r,o,n.Workbook),ome(r,o,t,e,n),rme(r,o,t,e,n),hme(r,o),ume(r,o,n,t),sme(r,o),lme(r,o,i),o["!margins"]&&ht(r,476,K0e(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&ame(r,o),cme(r,o,t,i),ht(r,130),r.end()}function pme(t,e){t.l+=10;var n=_o(t,e-10);return{name:n}}var mme=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function gme(t){return!t.Workbook||!t.Workbook.WBProps?"false":Wue(t.Workbook.WBProps.date1904)?"true":"false"}var vme="][*?/\\".split("");function hH(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return vme.forEach(function(i){if(t.indexOf(i)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function _me(t,e,n){t.forEach(function(i,r){hH(i);for(var s=0;s<r;++s)if(i==t[s])throw new Error("Duplicate Sheet Name: "+i);if(n){var o=e&&e[r]&&e[r].CodeName||i;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function yme(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];_me(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Upe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function fH(t){var e=[as];e[e.length]=It("workbook",null,{xmlns:ev[0],"xmlns:r":Rs.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(mme.forEach(function(a){t.Workbook.WBProps[a[0]]!=null&&t.Workbook.WBProps[a[0]]!=a[1]&&(i[a[0]]=t.Workbook.WBProps[a[0]])}),t.Workbook.WBProps.CodeName&&(i.codeName=t.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=It("workbookPr",null,i);var r=t.Workbook&&t.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var o={name:ji(t.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=It("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=It("definedName",ji(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function xme(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=jP(t,e-8),n.name=_o(t),n}function wme(t,e){return e||(e=nt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),rF(t.strRelID,e),Bs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function bme(t,e){var n={},i=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var r=e>8?_o(t):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(i&65536),n.backupFile=!!(i&64),n.checkCompatibility=!!(i&4096),n.date1904=!!(i&1),n.filterPrivacy=!!(i&8),n.hidePivotFieldList=!!(i&1024),n.promptedSolutions=!!(i&16),n.publishItems=!!(i&2048),n.refreshAllConnections=!!(i&262144),n.saveExternalLinkValues=!!(i&128),n.showBorderUnselectedTables=!!(i&4),n.showInkAnnotation=!!(i&32),n.showObjects=["all","placeholders","none"][i>>13&3],n.showPivotChartFilter=!!(i&32768),n.updateLinks=["userSet","never","always"][i>>8&3],n}function Cme(t,e){e||(e=nt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),SU(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Tme(t,e,n){var i=t.l+e;t.l+=4,t.l+=1;var r=t.read_shift(4),s=gde(t),o=Npe(t,0,n),a=iF(t);t.l=i;var l={Name:s,Ptg:o};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}function Sme(t,e){ht(t,143);for(var n=0;n!=e.SheetNames.length;++n){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,r={Hidden:i,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};ht(t,156,wme(r))}ht(t,144)}function Eme(t,e){e||(e=nt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Bs("SheetJS",e),Bs(H_.version,e),Bs(H_.version,e),Bs("7262",e),e.length>e.l?e.slice(0,e.l):e}function Ame(t,e){e||(e=nt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function kme(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,i=0,r=-1,s=-1;i<n.length;++i)!n[i]||!n[i].Hidden&&r==-1?r=i:n[i].Hidden==1&&s==-1&&(s=i);s>r||(ht(t,135),ht(t,158,Ame(r)),ht(t,136))}}function Dme(t,e){var n=wa();return ht(n,131),ht(n,128,Eme()),ht(n,153,Cme(t.Workbook&&t.Workbook.WBProps||null)),kme(n,t,e),Sme(n,t,e),ht(n,132),n.end()}function Ime(t,e,n){return(e.slice(-4)===".bin"?Dme:fH)(t,n)}function Mme(t,e,n,i,r){return(e.slice(-4)===".bin"?fme:uH)(t,n,i,r)}function Pme(t,e,n){return(e.slice(-4)===".bin"?Khe:YU)(t,n)}function Fme(t,e,n){return(e.slice(-4)===".bin"?Che:GU)(t,n)}function Lme(t,e,n){return(e.slice(-4)===".bin"?hfe:eH)(t,n)}function Nme(t){return(t.slice(-4)===".bin"?rfe:ZU)()}function Ome(t,e){var n=[];return t.Props&&n.push(Pde(t.Props,e)),t.Custprops&&n.push(Fde(t.Props,t.Custprops,e)),n.join("")}function Rme(){return""}function Vme(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,r){var s=[];s.push(It("NumberFormat",null,{"ss:Format":ji(Lr[i.numFmtId])}));var o={"ss:ID":"s"+(21+r)};n.push(It("Style",s.join(""),o))}),It("Styles",n.join(""))}function pH(t){return It("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+lF(t.Ref,{r:0,c:0})})}function Bme(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],i=0;i<e.length;++i){var r=e[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(pH(r)))}return It("Names",n.join(""))}function jme(t,e,n,i){if(!t||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,s=[],o=0;o<r.length;++o){var a=r[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(pH(a)))}return s.join("")}function Ume(t,e,n,i){if(!t)return"";var r=[];if(t["!margins"]&&(r.push("<PageSetup>"),t["!margins"].header&&r.push(It("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&r.push(It("Footer",null,{"x:Margin":t["!margins"].footer})),r.push(It("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n])if(i.Workbook.Sheets[n].Hidden)r.push(It("Visible",i.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==n&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),t["!protect"]&&(r.push(Js("ProtectContents","True")),t["!protect"].objects&&r.push(Js("ProtectObjects","True")),t["!protect"].scenarios&&r.push(Js("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?r.push(Js("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&r.push(Js("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":It("WorksheetOptions",r.join(""),{xmlns:tl.x})}function Hme(t){return t.map(function(e){var n=Gue(e.t||""),i=It("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return It("Comment",i,{"ss:Author":e.a})}).join("")}function zme(t,e,n,i,r,s,o){if(!t||t.v==null&&t.f==null)return"";var a={};if(t.f&&(a["ss:Formula"]="="+ji(lF(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var l=Vs(t.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(t.l&&t.l.Target&&(a["ss:HRef"]=ji(t.l.Target),t.l.Tooltip&&(a["x:HRefScreenTip"]=ji(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",f="";switch(t.t){case"z":if(!i.sheetStubs)return"";break;case"n":d="Number",f=String(t.v);break;case"b":d="Boolean",f=t.v?"1":"0";break;case"e":d="Error",f=Q_[t.v];break;case"d":d="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Lr[14]);break;case"s":d="String",f=$ue(t.v||"");break}var h=bf(i.cellXfs,t,i);a["ss:StyleID"]="s"+(21+h),a["ss:Index"]=o.c+1;var _=t.v!=null?f:"",g=t.t=="z"?"":'<Data ss:Type="'+d+'">'+_+"</Data>";return(t.c||[]).length>0&&(g+=Hme(t.c)),It("Cell",g,a)}function $me(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=XU(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Gme(t,e,n,i){if(!t["!ref"])return"";var r=vr(t["!ref"]),s=t["!merges"]||[],o=0,a=[];t["!cols"]&&t["!cols"].forEach(function(y,b){oF(y);var E=!!y.width,F=oT(b,y),U={"ss:Index":b+1};E&&(U["ss:Width"]=qC(F.width)),y.hidden&&(U["ss:Hidden"]="1"),a.push(It("Column",null,U))});for(var l=Array.isArray(t),c=r.s.r;c<=r.e.r;++c){for(var u=[$me(c,(t["!rows"]||[])[c])],d=r.s.c;d<=r.e.c;++d){var f=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>d)&&!(s[o].s.r>c)&&!(s[o].e.c<d)&&!(s[o].e.r<c)){(s[o].s.c!=d||s[o].s.r!=c)&&(f=!0);break}if(!f){var h={r:c,c:d},_=Ui(h),g=l?(t[c]||[])[d]:t[_];u.push(zme(g,_,t,e,n,i,h))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function Wme(t,e,n){var i=[],r=n.SheetNames[t],s=n.Sheets[r],o=s?jme(s,e,t,n):"";return o.length>0&&i.push("<Names>"+o+"</Names>"),o=s?Gme(s,e,t,n):"",o.length>0&&i.push("<Table>"+o+"</Table>"),i.push(Ume(s,e,t,n)),i.join("")}function qme(t,e){e||(e={}),t.SSF||(t.SSF=Ca(Lr)),t.SSF&&(eT(),JC(t.SSF),e.revssf=tT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],bf(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Ome(t,e)),n.push(Rme(t,e)),n.push(""),n.push("");for(var i=0;i<t.SheetNames.length;++i)n.push(It("Worksheet",Wme(i,e,t),{"ss:Name":ji(t.SheetNames[i])}));return n[2]=Vme(t,e),n[3]=Bme(t,e),as+It("Workbook",n.join(""),{xmlns:tl.ss,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:ss":tl.ss,"xmlns:dt":tl.dt,"xmlns:html":tl.html})}var NP={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Xme(t,e){var n=[],i=[],r=[],s=0,o,a=xj(Fj,"n"),l=xj(Lj,"n");if(t.Props)for(o=to(t.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?i:r).push([o[s],t.Props[o[s]]]);if(t.Custprops)for(o=to(t.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?i:r).push([o[s],t.Custprops[o[s]]]);var c=[];for(s=0;s<r.length;++s)VU.indexOf(r[s][0])>-1||NU.indexOf(r[s][0])>-1||r[s][1]!=null&&c.push(r[s]);i.length&&Wi.utils.cfb_add(e,"/SummaryInformation",Bj(i,NP.SI,l,Lj)),(n.length||c.length)&&Wi.utils.cfb_add(e,"/DocumentSummaryInformation",Bj(n,NP.DSI,a,Fj,c.length?c:null,NP.UDI))}function Yme(t,e){var n=e||{},i=Wi.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Wi.utils.cfb_add(i,r,mH(t,n)),n.biff==8&&(t.Props||t.Custprops)&&Xme(t,i),n.biff==8&&t.vbaraw&&ffe(i,Wi.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),i}var Kme={0:{f:Jpe},1:{f:a0e},2:{f:A0e},3:{f:m0e},4:{f:d0e},5:{f:C0e},6:{f:P0e},7:{f:y0e},8:{f:B0e},9:{f:V0e},10:{f:O0e},11:{f:R0e},12:{f:c0e},13:{f:D0e},14:{f:v0e},15:{f:f0e},16:{f:S0e},17:{f:L0e},18:{f:w0e},19:{f:nF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Tme},40:{},42:{},43:{f:Phe},44:{f:Ihe},45:{f:Nhe},46:{f:Rhe},47:{f:Ohe},48:{},49:{f:cde},50:{},51:{f:Jhe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uhe},62:{f:M0e},63:{f:sfe},64:{f:tme},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Pu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Q0e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:s0e},148:{f:n0e,p:16},151:{f:G0e},152:{},153:{f:bme},154:{},155:{},156:{f:xme},157:{},158:{},159:{T:1,f:xhe},160:{T:-1},161:{T:1,f:u0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:j0e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qhe},336:{T:-1},337:{f:nfe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:jP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:rhe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:W0e},427:{f:q0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Y0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:r0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:z0e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:jP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ufe},633:{T:1},634:{T:-1},635:{T:1,f:lfe},636:{T:-1},637:{f:fde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pme},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nme},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(t,e,n,i){var r=e;if(!isNaN(r)){var s=i||(n||[]).length||0,o=t.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&JP(n)&&t.push(n)}}function Qme(t,e,n,i){var r=i||(n||[]).length||0;if(r<=8224)return Pt(t,e,n,r);var s=e;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<r;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function J_(t,e,n){return t||(t=nt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function Zme(t,e,n,i){var r=nt(9);return J_(r,t,e),jU(n,i||"b",r),r}function Jme(t,e,n){var i=nt(8+2*n.length);return J_(i,t,e),i.write_shift(1,n.length),i.write_shift(n.length,n,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function ege(t,e,n,i){if(e.v!=null)switch(e.t){case"d":case"n":var r=e.t=="d"?ba(Ko(e.v)):e.v;r==(r|0)&&r>=0&&r<65536?Pt(t,2,phe(n,i,r)):Pt(t,3,fhe(n,i,r));return;case"b":case"e":Pt(t,5,Zme(n,i,e.v,e.t));return;case"s":case"str":Pt(t,4,Jme(n,i,(e.v||"").slice(0,255)));return}Pt(t,1,J_(null,n,i))}function tge(t,e,n,i){var r=Array.isArray(e),s=vr(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=os(s)}for(var c=s.s.r;c<=s.e.r;++c){a=eo(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=vo(u)),o=l[u]+a;var d=r?(e[c]||[])[u]:e[o];d&&ege(t,d,c,u,i)}}}function nge(t,e){var n=e||{};Mu!=null&&n.dense==null&&(n.dense=Mu);for(var i=wa(),r=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(r=s);if(r==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Pt(i,n.biff==4?1033:n.biff==3?521:9,sF(t,16,n)),tge(i,t.Sheets[t.SheetNames[r]],r,n,t),Pt(i,10),i.end()}function ige(t,e,n){Pt(t,49,Kde({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function rge(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&Pt(t,1054,Jde(r,e[r],n))})}function sge(t,e){var n=nt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Pt(t,2151,n),n=nt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),zU(vr(e["!ref"]||"A1"),n),n.write_shift(4,4),Pt(t,2152,n)}function oge(t,e){for(var n=0;n<16;++n)Pt(t,224,Uj({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){Pt(t,224,Uj(i,0,e))})}function age(t,e){for(var n=0;n<e["!links"].length;++n){var i=e["!links"][n];Pt(t,440,ahe(i)),i[1].Tooltip&&Pt(t,2048,lhe(i))}delete e["!links"]}function lge(t,e){if(e){var n=0;e.forEach(function(i,r){++n<=256&&i&&Pt(t,125,dhe(oT(r,i),r))})}}function cge(t,e,n,i,r){var s=16+bf(r.cellXfs,e,r);if(e.v==null&&!e.bf){Pt(t,513,s0(n,i,s));return}if(e.bf)Pt(t,6,Fpe(e,n,i,r,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?ba(Ko(e.v)):e.v;Pt(t,515,ihe(n,i,o,s,r));break;case"b":case"e":Pt(t,517,nhe(n,i,e.v,s,r,e.t));break;case"s":case"str":if(r.bookSST){var a=uF(r.Strings,e.v,r.revStrings);Pt(t,253,Qde(n,i,a,s,r))}else Pt(t,516,Zde(n,i,(e.v||"").slice(0,255),s,r));break;default:Pt(t,513,s0(n,i,s))}}function uge(t,e,n){var i=wa(),r=n.SheetNames[t],s=n.Sheets[r]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,d="",f=[],h=vr(s["!ref"]||"A1"),_=c?65536:16384;if(h.e.c>255||h.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,_-1)}Pt(i,2057,sF(n,16,e)),Pt(i,13,Bl(1)),Pt(i,12,Bl(100)),Pt(i,15,Yo(!0)),Pt(i,17,Yo(!1)),Pt(i,16,r0(.001)),Pt(i,95,Yo(!0)),Pt(i,42,Yo(!1)),Pt(i,43,Yo(!1)),Pt(i,130,Bl(1)),Pt(i,128,the([0,0])),Pt(i,131,Yo(!1)),Pt(i,132,Yo(!1)),c&&lge(i,s["!cols"]),Pt(i,512,ehe(h,e)),c&&(s["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){d=eo(g);for(var y=h.s.c;y<=h.e.c;++y){g===h.s.r&&(f[y]=vo(y)),u=f[y]+d;var b=l?(s[g]||[])[y]:s[u];b&&(cge(i,b,g,y,e),c&&b.l&&s["!links"].push([u,b.l]))}}var E=a.CodeName||a.name||r;return c&&Pt(i,574,Yde((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&Pt(i,229,ohe(s["!merges"])),c&&age(i,s),Pt(i,442,HU(E,e)),c&&sge(i,s),Pt(i,10),i.end()}function dge(t,e,n){var i=wa(),r=(t||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},a=n.biff==8,l=n.biff==5;if(Pt(i,2057,sF(t,5,n)),n.bookType=="xla"&&Pt(i,135),Pt(i,225,a?Bl(1200):null),Pt(i,193,Ode(2)),l&&Pt(i,191),l&&Pt(i,192),Pt(i,226),Pt(i,92,Gde("SheetJS",n)),Pt(i,66,Bl(a?1200:1252)),a&&Pt(i,353,Bl(0)),a&&Pt(i,448),Pt(i,317,hhe(t.SheetNames.length)),a&&t.vbaraw&&Pt(i,211),a&&t.vbaraw){var c=o.CodeName||"ThisWorkbook";Pt(i,442,HU(c,n))}Pt(i,156,Bl(17)),Pt(i,25,Yo(!1)),Pt(i,18,Yo(!1)),Pt(i,19,Bl(0)),a&&Pt(i,431,Yo(!1)),a&&Pt(i,444,Bl(0)),Pt(i,61,Xde(n)),Pt(i,64,Yo(!1)),Pt(i,141,Bl(0)),Pt(i,34,Yo(gme(t)=="true")),Pt(i,14,Yo(!0)),a&&Pt(i,439,Yo(!1)),Pt(i,218,Bl(0)),ige(i,t,n),rge(i,t.SSF,n),oge(i,n),a&&Pt(i,352,Yo(!1));var u=i.end(),d=wa();a&&Pt(d,140,che()),a&&n.Strings&&Qme(d,252,qde(n.Strings,n)),Pt(d,10);var f=d.end(),h=wa(),_=0,g=0;for(g=0;g<t.SheetNames.length;++g)_+=(a?12:11)+(a?2:1)*t.SheetNames[g].length;var y=u.length+_+f.length;for(g=0;g<t.SheetNames.length;++g){var b=s[g]||{};Pt(h,133,Wde({pos:y,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var E=h.end();if(_!=E.length)throw new Error("BS8 "+_+" != "+E.length);var F=[];return u.length&&F.push(u),E.length&&F.push(E),f.length&&F.push(f),Zs(F)}function hge(t,e){var n=e||{},i=[];t&&!t.SSF&&(t.SSF=Ca(Lr)),t&&t.SSF&&(eT(),JC(t.SSF),n.revssf=tT(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,dF(n),n.cellXfs=[],bf(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var r=0;r<t.SheetNames.length;++r)i[i.length]=uge(r,n,t);return i.unshift(dge(t,i,n)),Zs(i)}function mH(t,e){for(var n=0;n<=t.SheetNames.length;++n){var i=t.Sheets[t.SheetNames[n]];if(!(!i||!i["!ref"])){var r=nl(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return hge(t,e);case 4:case 3:case 2:return nge(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function fge(t,e,n,i){for(var r=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>n||r[c].s.c>o)&&!(r[c].e.r<n||r[c].e.c<o)){if(r[c].s.r<n||r[c].s.c<o){a=-1;break}a=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(a<0)){var u=Ui({r:n,c:o}),d=i.dense?(t[n]||[])[o]:t[u],f=d&&d.v!=null&&(d.h||zue(d.w||(Ud(d),d.w)||""))||"",h={};a>1&&(h.rowspan=a),l>1&&(h.colspan=l),i.editable?f='<span contenteditable="true">'+f+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),h.id=(i.id||"sjs")+"-"+u,s.push(It("td",f,h))}}var _="<tr>";return _+s.join("")+"</tr>"}var pge='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mge="</body></html>";function gge(t,e,n){var i=[];return i.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function gH(t,e){var n=e||{},i=n.header!=null?n.header:pge,r=n.footer!=null?n.footer:mge,s=[i],o=nl(t["!ref"]);n.dense=Array.isArray(t),s.push(gge(t,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(fge(t,o,a,n));return s.push("</table>"+r),s.join("")}function vH(t,e,n){var i=n||{};Mu!=null&&(i.dense=Mu);var r=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var o=typeof i.origin=="string"?Vs(i.origin):i.origin;r=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r,c:s}};if(t["!ref"]){var u=nl(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),r==-1&&(c.e.r=r=u.e.r+1)}var d=[],f=0,h=t["!rows"]||(t["!rows"]=[]),_=0,g=0,y=0,b=0,E=0,F=0;for(t["!cols"]||(t["!cols"]=[]);_<a.length&&g<l;++_){var U=a[_];if(Xj(U)){if(i.display)continue;h[g]={hidden:!0}}var W=U.children;for(y=b=0;y<W.length;++y){var te=W[y];if(!(i.display&&Xj(te))){var I=te.hasAttribute("data-v")?te.getAttribute("data-v"):te.hasAttribute("v")?te.getAttribute("v"):que(te.innerHTML),T=te.getAttribute("data-z")||te.getAttribute("z");for(f=0;f<d.length;++f){var L=d[f];L.s.c==b+s&&L.s.r<g+r&&g+r<=L.e.r&&(b=L.e.c+1-s,f=-1)}F=+te.getAttribute("colspan")||1,((E=+te.getAttribute("rowspan")||1)>1||F>1)&&d.push({s:{r:g+r,c:b+s},e:{r:g+r+(E||1)-1,c:b+s+(F||1)-1}});var N={t:"s",v:I},D=te.getAttribute("data-t")||te.getAttribute("t")||"";I!=null&&(I.length==0?N.t=D||"z":i.raw||I.trim().length==0||D=="s"||(I==="TRUE"?N={t:"b",v:!0}:I==="FALSE"?N={t:"b",v:!1}:isNaN(Vd(I))?isNaN(G_(I).getDate())||(N={t:"d",v:Ko(I)},i.cellDates||(N={t:"n",v:ba(N.v)}),N.z=i.dateNF||Lr[14]):N={t:"n",v:Vd(I)})),N.z===void 0&&T!=null&&(N.z=T);var M="",R=te.getElementsByTagName("A");if(R&&R.length)for(var Q=0;Q<R.length&&!(R[Q].hasAttribute("href")&&(M=R[Q].getAttribute("href"),M.charAt(0)!="#"));++Q);M&&M.charAt(0)!="#"&&(N.l={Target:M}),i.dense?(t[g+r]||(t[g+r]=[]),t[g+r][b+s]=N):t[Ui({c:b+s,r:g+r})]=N,c.e.c<b+s&&(c.e.c=b+s),b+=F}}++g}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+r),t["!ref"]=os(c),g>=l&&(t["!fullref"]=os((c.e.r=a.length-_+g-1+r,c))),t}function _H(t,e){var n=e||{},i=n.dense?[]:{};return vH(i,t,e)}function vge(t,e){return o0(_H(t,e),e)}function Xj(t){var e="",n=_ge(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function _ge(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var yge=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+W_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return as+e}}(),Yj=function(){var t=function(s){return ji(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,i=function(s,o,a){var l=[];l.push('      <table:table table:name="'+ji(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,d=nl(s["!ref"]||"A1"),f=s["!merges"]||[],h=0,_=Array.isArray(s);if(s["!cols"])for(u=0;u<=d.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<d.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=d.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<d.s.c;++u)l.push(e);for(;u<=d.e.c;++u){var b=!1,E={},F="";for(h=0;h!=f.length;++h)if(!(f[h].s.c>u)&&!(f[h].s.r>c)&&!(f[h].e.c<u)&&!(f[h].e.r<c)){(f[h].s.c!=u||f[h].s.r!=c)&&(b=!0),E["table:number-columns-spanned"]=f[h].e.c-f[h].s.c+1,E["table:number-rows-spanned"]=f[h].e.r-f[h].s.r+1;break}if(b){l.push(n);continue}var U=Ui({r:c,c:u}),W=_?(s[c]||[])[u]:s[U];if(W&&W.f&&(E["table:formula"]=ji(Bpe(W.f)),W.F&&W.F.slice(0,U.length)==U)){var te=nl(W.F);E["table:number-matrix-columns-spanned"]=te.e.c-te.s.c+1,E["table:number-matrix-rows-spanned"]=te.e.r-te.s.r+1}if(!W){l.push(e);continue}switch(W.t){case"b":F=W.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=W.v?"true":"false";break;case"n":F=W.w||String(W.v||0),E["office:value-type"]="float",E["office:value"]=W.v||0;break;case"s":case"str":F=W.v==null?"":W.v,E["office:value-type"]="string";break;case"d":F=W.w||Ko(W.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Ko(W.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var I=t(F);if(W.l&&W.l.Target){var T=W.l.Target;T=T.charAt(0)=="#"?"#"+jpe(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),I=It("text:a",I,{"xlink:href":T.replace(/&/g,"&amp;")})}l.push("          "+It("table:table-cell",It("text:p",I,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},r=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var d=c["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;oF(d),d.ods=a;var f=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var d=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[as],c=W_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=W_({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(FU().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),r(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)l.push(i(o.Sheets[o.SheetNames[d]],o,d,a));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function yH(t,e){if(e.bookType=="fods")return Yj(t,e);var n=GP(),i="",r=[],s=[];return i="mimetype",$n(n,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",$n(n,i,Yj(t,e)),r.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",$n(n,i,yge(t,e)),r.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",$n(n,i,as+FU()),r.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",$n(n,i,Mde(s)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",$n(n,i,Dde(r)),n}function KC(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xge(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Dc(Od(t))}function wge(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var i=0;i<e.length;++i)if(t[n+i]!=e[i])continue e;return!0}return!1}function wf(t){var e=t.reduce(function(r,s){return r+s.length},0),n=new Uint8Array(e),i=0;return t.forEach(function(r){n.set(r,i),i+=r.length}),n}function bge(t,e,n){var i=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,r=n/Math.pow(10,i-6176);t[e+15]|=i>>7,t[e+14]|=(i&127)<<1;for(var s=0;r>=1;++s,r/=256)t[e+s]=r&255;t[e+15]|=n>=0?0:128}function q_(t,e){var n=e?e[0]:0,i=t[n]&127;e:if(t[n++]>=128&&(i|=(t[n]&127)<<7,t[n++]<128||(i|=(t[n]&127)<<14,t[n++]<128)||(i|=(t[n]&127)<<21,t[n++]<128)||(i+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(i+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(i+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),i}function Vi(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Qg(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function fs(t){for(var e=[],n=[0];n[0]<t.length;){var i=n[0],r=q_(t,n),s=r&7;r=Math.floor(r/8);var o=0,a;if(r==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);a=t.slice(l,n[0])}break;case 5:o=4,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=q_(t,n),a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(i))}var c={data:a,type:s};e[r]==null?e[r]=[c]:e[r].push(c)}return e}function Ks(t){var e=[];return t.forEach(function(n,i){n.forEach(function(r){r.data&&(e.push(Vi(i*8+r.type)),r.type==2&&e.push(Vi(r.data.length)),e.push(r.data))})}),wf(e)}function Ac(t){for(var e,n=[],i=[0];i[0]<t.length;){var r=q_(t,i),s=fs(t.slice(i[0],i[0]+r));i[0]+=r;var o={id:Qg(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=fs(a.data),c=Qg(l[3][0].data);o.messages.push({meta:l,data:t.slice(i[0],i[0]+c)}),i[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Qg(s[3][0].data)>>>0>0),n.push(o)}return n}function zg(t){var e=[];return t.forEach(function(n){var i=[];i[1]=[{data:Vi(n.id),type:0}],i[2]=[],n.merge!=null&&(i[3]=[{data:Vi(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Vi(o.data.length)}],i[2].push({data:Ks(o.meta),type:2})});var s=Ks(i);e.push(Vi(s.length)),e.push(s),r.forEach(function(o){return e.push(o)})}),wf(e)}function Cge(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],i=q_(e,n),r=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[n[0]],a>1&&(o|=e[n[0]+1]<<8),a>2&&(o|=e[n[0]+2]<<16),a>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}r.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),r=[wf(r)],l==0)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(r.push(r[0].slice(-l)),c-=l;c>=r[r.length-1].length;)r.push(r[r.length-1]),c-=r[r.length-1].length;r.push(r[0].slice(-l,-l+c))}}var u=wf(r);if(u.length!=i)throw new Error("Unexpected length: ".concat(u.length," != ").concat(i));return u}function kc(t){for(var e=[],n=0;n<t.length;){var i=t[n++],r=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Cge(i,t.slice(n,n+r))),n+=r}if(n!==t.length)throw new Error("data is not a valid framed stream!");return wf(e)}function $g(t){for(var e=[],n=0;n<t.length;){var i=Math.min(t.length-n,268435455),r=new Uint8Array(4);e.push(r);var s=Vi(i),o=s.length;e.push(s),i<=60?(o++,e.push(new Uint8Array([i-1<<2]))):i<=256?(o+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(o+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(o+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(o+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(t.slice(n,n+i)),o+=i,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,n+=i}return wf(e)}function OP(t,e){var n=new Uint8Array(32),i=KC(n),r=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,bge(n,r,t.v),s|=1,r+=16;break;case"b":n[1]=6,i.setFloat64(r,t.v?1:0,!0),s|=2,r+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,i.setUint32(r,e.indexOf(t.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(8,s,!0),n.slice(0,r)}function RP(t,e){var n=new Uint8Array(32),i=KC(n),r=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,i.setFloat64(r,t.v,!0),s|=32,r+=8;break;case"b":n[2]=6,i.setFloat64(r,t.v?1:0,!0),s|=32,r+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,i.setUint32(r,e.indexOf(t.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(4,s,!0),n.slice(0,r)}function gf(t){var e=fs(t);return q_(e[1][0].data)}function Tge(t,e,n){var i,r,s,o;if(!((i=t[6])!=null&&i[0])||!((r=t[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=t[8])==null?void 0:s[0])==null?void 0:o.data)&&Qg(t[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=KC(t[7][0].data),u=0,d=[],f=KC(t[4][0].data),h=0,_=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),f.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),f.setUint16(g*2,h,!0);var y,b;switch(typeof e[g]){case"string":y=OP({t:"s",v:e[g]},n),b=RP({t:"s",v:e[g]},n);break;case"number":y=OP({t:"n",v:e[g]},n),b=RP({t:"n",v:e[g]},n);break;case"boolean":y=OP({t:"b",v:e[g]},n),b=RP({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}d.push(y),u+=y.length,_.push(b),h+=b.length,++l}for(t[2][0].data=Vi(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),f.setUint16(g*2,65535,!0);return t[6][0].data=wf(d),t[3][0].data=wf(_),l}function Sge(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=nl(n["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(os(i)));var s=QC(n,{range:i,header:1}),o=["~Sh33tJ5~"];s.forEach(function(j){return j.forEach(function(X){typeof X=="string"&&o.push(X)})});var a={},l=[],c=Wi.read(e.numbers,{type:"base64"});c.FileIndex.map(function(j,X){return[j,c.FullPaths[X]]}).forEach(function(j){var X=j[0],de=j[1];if(X.type==2&&X.name.match(/\.iwa/)){var xe=X.content,Ee=kc(xe),Te=Ac(Ee);Te.forEach(function(Fe){l.push(Fe.id),a[Fe.id]={deps:[],location:de,type:Qg(Fe.messages[0].meta[1][0].data)}})}}),l.sort(function(j,X){return j-X});var u=l.filter(function(j){return j>1}).map(function(j){return[j,Vi(j)]});c.FileIndex.map(function(j,X){return[j,c.FullPaths[X]]}).forEach(function(j){var X=j[0],de=j[1];if(X.name.match(/\.iwa/)){var xe=Ac(kc(X.content));xe.forEach(function(Ee){Ee.messages.forEach(function(Te){u.forEach(function(Fe){Ee.messages.some(function(et){return Qg(et.meta[1][0].data)!=11006&&wge(et.data,Fe[1])})&&a[Fe[0]].deps.push(Ee.id)})})})}});function d(){for(var j=927262;j<2e6;++j)if(!a[j])return j;throw new Error("Too many messages")}for(var f=Wi.find(c,a[1].location),h=Ac(kc(f.content)),_,g=0;g<h.length;++g){var y=h[g];y.id==1&&(_=y)}var b=gf(fs(_.messages[0].data)[1][0].data);for(f=Wi.find(c,a[b].location),h=Ac(kc(f.content)),g=0;g<h.length;++g)y=h[g],y.id==b&&(_=y);for(b=gf(fs(_.messages[0].data)[2][0].data),f=Wi.find(c,a[b].location),h=Ac(kc(f.content)),g=0;g<h.length;++g)y=h[g],y.id==b&&(_=y);for(b=gf(fs(_.messages[0].data)[2][0].data),f=Wi.find(c,a[b].location),h=Ac(kc(f.content)),g=0;g<h.length;++g)y=h[g],y.id==b&&(_=y);var E=fs(_.messages[0].data);{E[6][0].data=Vi(i.e.r+1),E[7][0].data=Vi(i.e.c+1);var F=gf(E[46][0].data),U=Wi.find(c,a[F].location),W=Ac(kc(U.content));{for(var te=0;te<W.length&&W[te].id!=F;++te);if(W[te].id!=F)throw"Bad ColumnRowUIDMapArchive";var I=fs(W[te].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var T=0;T<=i.e.c;++T){var L=[];L[1]=L[2]=[{type:0,data:Vi(T+420690)}],I[1].push({type:2,data:Ks(L)}),I[2].push({type:0,data:Vi(T)}),I[3].push({type:0,data:Vi(T)})}I[4]=[],I[5]=[],I[6]=[];for(var N=0;N<=i.e.r;++N)L=[],L[1]=L[2]=[{type:0,data:Vi(N+726270)}],I[4].push({type:2,data:Ks(L)}),I[5].push({type:0,data:Vi(N)}),I[6].push({type:0,data:Vi(N)});W[te].messages[0].data=Ks(I)}U.content=$g(zg(W)),U.size=U.content.length,delete E[46];var D=fs(E[4][0].data);{D[7][0].data=Vi(i.e.r+1);var M=fs(D[1][0].data),R=gf(M[2][0].data);U=Wi.find(c,a[R].location),W=Ac(kc(U.content));{if(W[0].id!=R)throw"Bad HeaderStorageBucket";var Q=fs(W[0].messages[0].data);for(N=0;N<s.length;++N){var oe=fs(Q[2][0].data);oe[1][0].data=Vi(N),oe[4][0].data=Vi(s[N].length),Q[2][N]={type:Q[2][0].type,data:Ks(oe)}}W[0].messages[0].data=Ks(Q)}U.content=$g(zg(W)),U.size=U.content.length;var le=gf(D[2][0].data);U=Wi.find(c,a[le].location),W=Ac(kc(U.content));{if(W[0].id!=le)throw"Bad HeaderStorageBucket";for(Q=fs(W[0].messages[0].data),T=0;T<=i.e.c;++T)oe=fs(Q[2][0].data),oe[1][0].data=Vi(T),oe[4][0].data=Vi(i.e.r+1),Q[2][T]={type:Q[2][0].type,data:Ks(oe)};W[0].messages[0].data=Ks(Q)}U.content=$g(zg(W)),U.size=U.content.length;var ie=gf(D[4][0].data);(function(){for(var j=Wi.find(c,a[ie].location),X=Ac(kc(j.content)),de,xe=0;xe<X.length;++xe){var Ee=X[xe];Ee.id==ie&&(de=Ee)}var Te=fs(de.messages[0].data);{Te[3]=[];var Fe=[];o.forEach(function(bt,Tt){Fe[1]=[{type:0,data:Vi(Tt)}],Fe[2]=[{type:0,data:Vi(1)}],Fe[3]=[{type:2,data:xge(bt)}],Te[3].push({type:2,data:Ks(Fe)})})}de.messages[0].data=Ks(Te);var et=zg(X),ot=$g(et);j.content=ot,j.size=j.content.length})();var fe=fs(D[3][0].data);{var be=fe[1][0];delete fe[2];var Ce=fs(be.data);{var Ue=gf(Ce[2][0].data);(function(){for(var j=Wi.find(c,a[Ue].location),X=Ac(kc(j.content)),de,xe=0;xe<X.length;++xe){var Ee=X[xe];Ee.id==Ue&&(de=Ee)}var Te=fs(de.messages[0].data);{delete Te[6],delete fe[7];var Fe=new Uint8Array(Te[5][0].data);Te[5]=[];for(var et=0,ot=0;ot<=i.e.r;++ot){var bt=fs(Fe);et+=Tge(bt,s[ot],o),bt[1][0].data=Vi(ot),Te[5].push({data:Ks(bt),type:2})}Te[1]=[{type:0,data:Vi(i.e.c+1)}],Te[2]=[{type:0,data:Vi(i.e.r+1)}],Te[3]=[{type:0,data:Vi(et)}],Te[4]=[{type:0,data:Vi(i.e.r+1)}]}de.messages[0].data=Ks(Te);var Tt=zg(X),Ge=$g(Tt);j.content=Ge,j.size=j.content.length})()}be.data=Ks(Ce)}D[3][0].data=Ks(fe)}E[4][0].data=Ks(D)}_.messages[0].data=Ks(E);var C=zg(h),q=$g(C);return f.content=q,f.size=f.content.length,c}function Ege(t){return function(n){for(var i=0;i!=t.length;++i){var r=t[i];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function dF(t){Ege([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Age(t,e){return e.bookType=="ods"?yH(t,e):e.bookType=="numbers"?Sge(t,e):e.bookType=="xlsb"?kge(t,e):Dge(t,e)}function kge(t,e){Wg=1024,t&&!t.SSF&&(t.SSF=Ca(Lr)),t&&t.SSF&&(eT(),JC(t.SSF),e.revssf=tT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,U_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",i=tH.indexOf(e.bookType)>-1,r=IU();dF(e=e||{});var s=GP(),o="",a=0;if(e.cellXfs=[],bf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",$n(s,o,LU(t.Props,e)),r.coreprops.push(o),Bi(e.rels,2,o,_i.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,$n(s,o,OU(t.Props,e)),r.extprops.push(o),Bi(e.rels,3,o,_i.EXT_PROPS),t.Custprops!==t.Props&&to(t.Custprops||{}).length>0&&(o="docProps/custom.xml",$n(s,o,RU(t.Custprops,e)),r.custprops.push(o),Bi(e.rels,4,o,_i.CUST_PROPS)),a=1;a<=t.SheetNames.length;++a){var u={"!id":{}},d=t.Sheets[t.SheetNames[a-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,$n(s,o,Mme(a-1,o,e,t,u)),r.sheets.push(o),Bi(e.wbrels,-1,"worksheets/sheet"+a+"."+n,_i.WS[0])}if(d){var h=d["!comments"],_=!1,g="";h&&h.length>0&&(g="xl/comments"+a+"."+n,$n(s,g,Lme(h,g,e)),r.comments.push(g),Bi(u,-1,"../comments"+a+"."+n,_i.CMNT),_=!0),d["!legacy"]&&_&&$n(s,"xl/drawings/vmlDrawing"+a+".vml",JU(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&$n(s,PU(o),Yg(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,$n(s,o,Fme(e.Strings,o,e)),r.strs.push(o),Bi(e.wbrels,-1,"sharedStrings."+n,_i.SST)),o="xl/workbook."+n,$n(s,o,Ime(t,o,e)),r.workbooks.push(o),Bi(e.rels,1,o,_i.WB),o="xl/theme/theme1.xml",$n(s,o,QU(t.Themes,e)),r.themes.push(o),Bi(e.wbrels,-1,"theme/theme1.xml",_i.THEME),o="xl/styles."+n,$n(s,o,Pme(t,o,e)),r.styles.push(o),Bi(e.wbrels,-1,"styles."+n,_i.STY),t.vbaraw&&i&&(o="xl/vbaProject.bin",$n(s,o,t.vbaraw),r.vba.push(o),Bi(e.wbrels,-1,"vbaProject.bin",_i.VBA)),o="xl/metadata."+n,$n(s,o,Nme(o)),r.metadata.push(o),Bi(e.wbrels,-1,"metadata."+n,_i.XLMETA),$n(s,"[Content_Types].xml",MU(r,e)),$n(s,"_rels/.rels",Yg(e.rels)),$n(s,"xl/_rels/workbook."+n+".rels",Yg(e.wbrels)),delete e.revssf,delete e.ssf,s}function Dge(t,e){Wg=1024,t&&!t.SSF&&(t.SSF=Ca(Lr)),t&&t.SSF&&(eT(),JC(t.SSF),e.revssf=tT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,U_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",i=tH.indexOf(e.bookType)>-1,r=IU();dF(e=e||{});var s=GP(),o="",a=0;if(e.cellXfs=[],bf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",$n(s,o,LU(t.Props,e)),r.coreprops.push(o),Bi(e.rels,2,o,_i.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,$n(s,o,OU(t.Props,e)),r.extprops.push(o),Bi(e.rels,3,o,_i.EXT_PROPS),t.Custprops!==t.Props&&to(t.Custprops||{}).length>0&&(o="docProps/custom.xml",$n(s,o,RU(t.Custprops,e)),r.custprops.push(o),Bi(e.rels,4,o,_i.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,a=1;a<=t.SheetNames.length;++a){var d={"!id":{}},f=t.Sheets[t.SheetNames[a-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,$n(s,o,uH(a-1,e,t,d)),r.sheets.push(o),Bi(e.wbrels,-1,"worksheets/sheet"+a+"."+n,_i.WS[0])}if(f){var _=f["!comments"],g=!1,y="";if(_&&_.length>0){var b=!1;_.forEach(function(E){E[1].forEach(function(F){F.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+a+"."+n,$n(s,y,ofe(_,u,e)),r.threadedcomments.push(y),Bi(d,-1,"../threadedComments/threadedComment"+a+"."+n,_i.TCMNT)),y="xl/comments"+a+"."+n,$n(s,y,eH(_,e)),r.comments.push(y),Bi(d,-1,"../comments"+a+"."+n,_i.CMNT),g=!0}f["!legacy"]&&g&&$n(s,"xl/drawings/vmlDrawing"+a+".vml",JU(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&$n(s,PU(o),Yg(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,$n(s,o,GU(e.Strings,e)),r.strs.push(o),Bi(e.wbrels,-1,"sharedStrings."+n,_i.SST)),o="xl/workbook."+n,$n(s,o,fH(t,e)),r.workbooks.push(o),Bi(e.rels,1,o,_i.WB),o="xl/theme/theme1.xml",$n(s,o,QU(t.Themes,e)),r.themes.push(o),Bi(e.wbrels,-1,"theme/theme1.xml",_i.THEME),o="xl/styles."+n,$n(s,o,YU(t,e)),r.styles.push(o),Bi(e.wbrels,-1,"styles."+n,_i.STY),t.vbaraw&&i&&(o="xl/vbaProject.bin",$n(s,o,t.vbaraw),r.vba.push(o),Bi(e.wbrels,-1,"vbaProject.bin",_i.VBA)),o="xl/metadata."+n,$n(s,o,ZU()),r.metadata.push(o),Bi(e.wbrels,-1,"metadata."+n,_i.XLMETA),u.length>1&&(o="xl/persons/person.xml",$n(s,o,afe(u,e)),r.people.push(o),Bi(e.wbrels,-1,"persons/person.xml",_i.PEOPLE)),$n(s,"[Content_Types].xml",MU(r,e)),$n(s,"_rels/.rels",Yg(e.rels)),$n(s,"xl/_rels/workbook."+n+".rels",Yg(e.wbrels)),delete e.revssf,delete e.ssf,s}function Ige(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=jd(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function xH(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return K_(e.file,Wi.write(t,{type:Ci?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wi.write(t,e)}function Mge(t,e){var n=Ca(e||{}),i=Age(t,n);return Pge(i,n)}function Pge(t,e){var n={},i=Ci?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=i;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var r=t.FullPaths?Wi.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(ZC(r))}return e.password&&typeof encrypt_agile<"u"?xH(encrypt_agile(r,e.password),e):e.type==="file"?K_(e.file,r):e.type=="string"?R_(r):r}function Fge(t,e){var n=e||{},i=Yme(t,n);return xH(i,n)}function Iu(t,e,n){n||(n="");var i=n+t;switch(e.type){case"base64":return $_(Od(i));case"binary":return Od(i);case"string":return t;case"file":return K_(e.file,i,"utf8");case"buffer":return Ci?Hd(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Iu(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lge(t,e){switch(e.type){case"base64":return $_(t);case"binary":return t;case"string":return t;case"file":return K_(e.file,t,"binary");case"buffer":return Ci?Hd(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function VC(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",i=0;i<t.length;++i)n+=String.fromCharCode(t[i]);return e.type=="base64"?$_(n):e.type=="string"?R_(n):n;case"file":return K_(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function wH(t,e){oue(),yme(t);var n=Ca(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var i=wH(t,n);return n.type="array",ZC(i)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=t.SheetNames.indexOf(n.sheet),!t.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Iu(qme(t,n),n);case"slk":case"sylk":return Iu(ghe.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"htm":case"html":return Iu(gH(t.Sheets[t.SheetNames[r]],n),n);case"txt":return Lge(CH(t.Sheets[t.SheetNames[r]],n),n);case"csv":return Iu(hF(t.Sheets[t.SheetNames[r]],n),n,"\uFEFF");case"dif":return Iu(vhe.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"dbf":return VC(mhe.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"prn":return Iu(_he.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"rtf":return Iu(She.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"eth":return Iu($U.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"fods":return Iu(yH(t,n),n);case"wk1":return VC(Hj.sheet_to_wk1(t.Sheets[t.SheetNames[r]],n),n);case"wk3":return VC(Hj.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),VC(mH(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Fge(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Mge(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Nge(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function bH(t,e,n){var i=n||{};return i.type="file",i.file=e,Nge(i),wH(t,i)}function Oge(t,e,n,i,r,s,o,a){var l=eo(n),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,f=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch{f.__rowNum__=n}else f.__rowNum__=n;if(!o||t[n])for(var h=e.s.c;h<=e.e.c;++h){var _=o?t[n][h]:t[i[h]+l];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[h]!=null&&(f[s[h]]=c);continue}var g=_.v;switch(_.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[h]!=null){if(g==null)if(_.t=="e"&&g===null)f[s[h]]=null;else if(c!==void 0)f[s[h]]=c;else if(u&&g===null)f[s[h]]=null;else continue;else f[s[h]]=u&&(_.t!=="n"||_.t==="n"&&a.rawNumbers!==!1)?g:Ud(_,g,a);g!=null&&(d=!1)}}return{row:f,isempty:d}}function QC(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},i=0,r=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?i=1:c.header==="A"?i=2:Array.isArray(c.header)?i=3:c.header==null&&(i=0),typeof u){case"string":l=vr(u);break;case"number":l=vr(t["!ref"]),l.s.r=u;break;default:l=u}i>0&&(r=0);var d=eo(l.s.r),f=[],h=[],_=0,g=0,y=Array.isArray(t),b=l.s.r,E=0,F={};y&&!t[b]&&(t[b]=[]);var U=c.skipHidden&&t["!cols"]||[],W=c.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(U[E]||{}).hidden)switch(f[E]=vo(E),n=y?t[b][E]:t[f[E]+d],i){case 1:s[E]=E-l.s.c;break;case 2:s[E]=f[E];break;case 3:s[E]=c.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Ud(n,null,c),g=F[o]||0,!g)F[o]=1;else{do a=o+"_"+g++;while(F[a]);F[o]=g,F[a]=1}s[E]=a}for(b=l.s.r+r;b<=l.e.r;++b)if(!(W[b]||{}).hidden){var te=Oge(t,l,b,f,i,s,y,c);(te.isempty===!1||(i===1?c.blankrows!==!1:c.blankrows))&&(h[_++]=te.row)}return h.length=_,h}var Kj=/"/g;function Rge(t,e,n,i,r,s,o,a){for(var l=!0,c=[],u="",d=eo(n),f=e.s.c;f<=e.e.c;++f)if(i[f]){var h=a.dense?(t[n]||[])[f]:t[i[f]+d];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(a.rawNumbers&&h.t=="n"?h.v:Ud(h,null,a));for(var _=0,g=0;_!==u.length;++_)if((g=u.charCodeAt(_))===r||g===s||g===34||a.forceQuotes){u='"'+u.replace(Kj,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(Kj,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function hF(t,e){var n=[],i=e??{};if(t==null||t["!ref"]==null)return"";var r=vr(t["!ref"]),s=i.FS!==void 0?i.FS:",",o=s.charCodeAt(0),a=i.RS!==void 0?i.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",d=[];i.dense=Array.isArray(t);for(var f=i.skipHidden&&t["!cols"]||[],h=i.skipHidden&&t["!rows"]||[],_=r.s.c;_<=r.e.c;++_)(f[_]||{}).hidden||(d[_]=vo(_));for(var g=0,y=r.s.r;y<=r.e.r;++y)(h[y]||{}).hidden||(u=Rge(t,r,y,d,o,l,s,i),u!=null&&(i.strip&&(u=u.replace(c,"")),(u||i.blankrows!==!1)&&n.push((g++?a:"")+u)));return delete i.dense,n.join("")}function CH(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=hF(t,e);if(typeof ar>"u"||e.type=="string")return n;var i=ar.utils.encode(1200,n,"str");return"\xFF\xFE"+i}function Vge(t){var e="",n,i="";if(t==null||t["!ref"]==null)return[];var r=vr(t["!ref"]),s="",o=[],a,l=[],c=Array.isArray(t);for(a=r.s.c;a<=r.e.c;++a)o[a]=vo(a);for(var u=r.s.r;u<=r.e.r;++u)for(s=eo(u),a=r.s.c;a<=r.e.c;++a)if(e=o[a]+s,n=c?(t[u]||[])[a]:t[e],i="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;i=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)i=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}l[l.length]=e+"="+i}return l}function TH(t,e,n){var i=n||{},r=+!i.skipHeader,s=t||{},o=0,a=0;if(s&&i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var l=typeof i.origin=="string"?Vs(i.origin):i.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+r}};if(s["!ref"]){var d=vr(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(o=d.e.r+1,u.e.r=o+e.length-1+r)}else o==-1&&(o=0,u.e.r=e.length-1+r);var f=i.header||[],h=0;e.forEach(function(g,y){to(g).forEach(function(b){(h=f.indexOf(b))==-1&&(f[h=f.length]=b);var E=g[b],F="z",U="",W=Ui({c:a+h,r:o+y+r});c=X_(s,W),E&&typeof E=="object"&&!(E instanceof Date)?s[W]=E:(typeof E=="number"?F="n":typeof E=="boolean"?F="b":typeof E=="string"?F="s":E instanceof Date?(F="d",i.cellDates||(F="n",E=ba(E)),U=i.dateNF||Lr[14]):E===null&&i.nullError&&(F="e",E=0),c?(c.t=F,c.v=E,delete c.w,delete c.R,U&&(c.z=U)):s[W]=c={t:F,v:E},U&&(c.z=U))})}),u.e.c=Math.max(u.e.c,a+f.length-1);var _=eo(o);if(r)for(h=0;h<f.length;++h)s[vo(h+a)+_]={t:"s",v:f[h]};return s["!ref"]=os(u),s}function Bge(t,e){return TH(null,t,e)}function X_(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var i=Vs(e);return t[i.r]||(t[i.r]=[]),t[i.r][i.c]||(t[i.r][i.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?X_(t,Ui(e)):X_(t,Ui({r:e,c:n||0}))}function jge(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Uge(){return{SheetNames:[],Sheets:{}}}function Hge(t,e,n,i){var r=1;if(!n)for(;r<=65535&&t.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var o=s&&s[1]||n;for(++r;r<=65535&&t.SheetNames.indexOf(n=o+r)!=-1;++r);}if(hH(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function zge(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var i=jge(t,e);switch(t.Workbook.Sheets[i]||(t.Workbook.Sheets[i]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[i].Hidden=n}function $ge(t,e){return t.z=e,t}function SH(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Gge(t,e,n){return SH(t,"#"+e,n)}function Wge(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function qge(t,e,n,i){for(var r=typeof e!="string"?e:vr(e),s=typeof e=="string"?e:os(e),o=r.s.r;o<=r.e.r;++o)for(var a=r.s.c;a<=r.e.c;++a){var l=X_(t,o,a);l.t="n",l.F=s,delete l.v,o==r.s.r&&a==r.s.c&&(l.f=n,i&&(l.D=!0))}return t}var EH={encode_col:vo,encode_row:eo,encode_cell:Ui,encode_range:os,decode_col:tF,decode_row:eF,split_cell:lde,decode_cell:Vs,decode_range:nl,format_cell:Ud,sheet_add_aoa:TU,sheet_add_json:TH,sheet_add_dom:vH,aoa_to_sheet:nv,json_to_sheet:Bge,table_to_sheet:_H,table_to_book:vge,sheet_to_csv:hF,sheet_to_txt:CH,sheet_to_json:QC,sheet_to_html:gH,sheet_to_formulae:Vge,sheet_to_row_object_array:QC,sheet_get_cell:X_,book_new:Uge,book_append_sheet:Hge,book_set_sheet_visibility:zge,cell_set_number_format:$ge,cell_set_hyperlink:SH,cell_set_internal_link:Gge,cell_add_comment:Wge,sheet_set_array_formula:qge,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var T3e=H_.version;var fF=ma(Vh());function Yge(t,e){t&1&&(Ph(0),Ft(1,"app-registro-admins"),Fh())}function Kge(t,e){t&1&&(Ph(0),Ft(1,"app-registro-pacientes"),Fh())}function Qge(t,e){t&1&&(Ph(0),Ft(1,"app-registro-especialistas"),Fh())}function Zge(t,e){if(t&1){let n=Jt();B(0,"div",9)(1,"button",10),Ye("click",function(){let r=vt(n).$implicit,s=Pe();return _t(s.handlePacienteClick(r))}),B(2,"p"),G(3),P(),Ft(4,"img",11),P()()}if(t&2){let n=e.$implicit;Z(3),uo(n.nombre),Z(),Cm("alt","Foto de ",n.nombre,""),ye("src",n.foto1,Ua)}}function Jge(t,e){if(t&1&&(B(0,"div")(1,"p")(2,"strong"),G(3),P(),G(4),P()()),t&2){let n=e.$implicit;Z(3),it("",n.clave,":"),Z(),it(" ",n.valor,"")}}function eve(t,e){if(t&1&&(B(0,"div",14)(1,"h3"),G(2,"Historia Cl\xEDnica"),P(),B(3,"p")(4,"strong"),G(5,"Altura:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Peso:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Temperatura:"),P(),G(14),P(),B(15,"p")(16,"strong"),G(17,"Presi\xF3n:"),P(),G(18),P(),tt(19,Jge,5,2,"div",15),P()),t&2){let n=e.$implicit;Z(6),it(" ",n.altura," cm"),Z(4),it(" ",n.peso," kg"),Z(4),it(" ",n.temperatura," \xB0C"),Z(4),it(" ",n.presion," mmHg"),Z(),ye("ngForOf",n.datosDinamicos)}}function tve(t,e){if(t&1&&(B(0,"div"),tt(1,eve,20,5,"div",13),P()),t&2){let n=Pe(2);Z(),ye("ngForOf",n.historiasClinicas)}}function nve(t,e){t&1&&(B(0,"div")(1,"p"),G(2,"No hay historias cl\xEDnicas disponibles."),P()())}function ive(t,e){if(t&1&&(B(0,"div",12),tt(1,tve,2,1,"div",4)(2,nve,3,0,"div",4),P()),t&2){let n=Pe();Z(),ye("ngIf",n.historiasClinicas&&n.historiasClinicas.length>0),Z(),ye("ngIf",!n.historiasClinicas||n.historiasClinicas.length===0)}}var AH=(()=>{let e=class e{constructor(i){this.authService=i,this.registroSeleccionado="admin",this.pacientes=[],this.pacienteSeleccionado=null,this.historiasClinicas=[]}ngOnInit(){this.cargarPacientes()}showRegistro(i){this.registroSeleccionado=i}cargarPacientes(){return Se(this,null,function*(){try{this.pacientes=yield this.authService.getAllPacientes()}catch(i){console.error("Error al cargar pacientes:",i)}})}handlePacienteClick(i){return Se(this,null,function*(){this.pacienteSeleccionado=i,this.cargarHistoriasClinicas(i.id),this.descargarTurnos(i)})}cargarHistoriasClinicas(i){return Se(this,null,function*(){try{this.historiasClinicas=yield this.authService.getHistoriasClinicasByPaciente(i)}catch(r){console.error("Error al cargar historias cl\xEDnicas:",r)}})}descargarTurnos(i){return Se(this,null,function*(){try{let r=yield this.authService.getTurnosByPaciente(i.id),s=yield this.authService.getAllEspecialistasMap(),o=r.filter(a=>a.estado==="realizado");if(o.length>0){let a=yield Promise.all(o.map(d=>Se(this,null,function*(){let f=s.get(d.especialista)||"No disponible",h=d.historiaClinica?.datosDinamicos||[],_={fecha:d.turno.toDate().toLocaleDateString(),hora:d.turno.toDate().toLocaleTimeString("en-GB"),especialista:f,especialidad:d.especialidad,altura:d.historiaClinica?.altura||"X",peso:d.historiaClinica?.peso||"X",temperatura:d.historiaClinica?.temperatura||"X",presion:d.historiaClinica?.presion||"X"};return h.forEach(g=>{_[g.clave]=g.valor||"X"}),_}))),c={Sheets:{Turnos:EH.json_to_sheet(a)},SheetNames:["Turnos"]},u=`turnos_${i.nombre}.xlsx`;bH(c,u)}else fF.default.fire("No hay turnos realizados para el paciente seleccionado.")}catch(r){console.error("Error al descargar los turnos:",r),fF.default.fire("Error al descargar los turnos.")}})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-seccion-usuarios"]],standalone:!0,features:[wn],decls:17,vars:5,consts:[[1,"container"],[1,"panel-lista"],[1,"panel-registro"],[3,"click"],[4,"ngIf"],[1,"panel-descarga"],[1,"usuarios-wrapper"],["class","usuario-item",4,"ngFor","ngForOf"],["class","historias-panel",4,"ngIf"],[1,"usuario-item"],[1,"fav-button",3,"click"],[1,"usuario-foto",3,"src","alt"],[1,"historias-panel"],["class","historia-clinica-container",4,"ngFor","ngForOf"],[1,"historia-clinica-container"],[4,"ngFor","ngForOf"]],template:function(r,s){r&1&&(B(0,"div",0)(1,"div",1),Ft(2,"app-habilitar-especialistas"),P(),B(3,"div",2)(4,"button",3),Ye("click",function(){return s.showRegistro("paciente")}),G(5,"Registrar Paciente"),P(),B(6,"button",3),Ye("click",function(){return s.showRegistro("admin")}),G(7,"Registrar Admin"),P(),B(8,"button",3),Ye("click",function(){return s.showRegistro("especialista")}),G(9,"Registrar Especialista"),P(),tt(10,Yge,2,0,"ng-container",4)(11,Kge,2,0,"ng-container",4)(12,Qge,2,0,"ng-container",4),P(),B(13,"div",5)(14,"div",6),tt(15,Zge,5,4,"div",7),P(),tt(16,ive,3,2,"div",8),P()()),r&2&&(Z(10),ye("ngIf",s.registroSeleccionado==="admin"),Z(),ye("ngIf",s.registroSeleccionado==="paciente"),Z(),ye("ngIf",s.registroSeleccionado==="especialista"),Z(3),ye("ngForOf",s.pacientes),Z(),ye("ngIf",s.pacienteSeleccionado))},dependencies:[kC,DC,EC,AC,hr,Ur],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;background-image:url("./media/fondo-usuarios-2G6PD2YQ.jpg");background-size:cover;background-position:center;overflow:hidden;font-family:Arial,Helvetica,sans-serif}.panel-lista[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px}.panel-registro[_ngcontent-%COMP%]{margin-top:55px;min-height:1000px}.panel-descarga[_ngcontent-%COMP%]{margin:50px;background-color:#d1a054;border-radius:15px;padding:20px;max-height:400px;overflow-y:auto}button[_ngcontent-%COMP%]{border:1px solid #2e4c6d;background-color:#2e4c6d;color:#d2691e;border-radius:50px;padding:10px 15px;margin:5px;font-size:12px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#1f3548;transform:scale(1.05)}button[_ngcontent-%COMP%]:active{background-color:#162738;transform:scale(.95)}.usuarios-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#fff;border-radius:15px;box-shadow:0 8px 16px #0003}.usuarios-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.usuario-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:5px}.usuario-foto[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;border:2px solid #2e4c6d}.fav-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#d1a054;border:none;border-radius:50%;cursor:pointer;padding:5px;font-size:16px;transition:background-color .3s,transform .2s,box-shadow .2s;position:relative}.fav-button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.fav-button[_ngcontent-%COMP%]:active{background-color:#132d49;transform:translateY(0);box-shadow:none}.fav-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;position:absolute;top:-20px;background:#00000080;color:#fff;border-radius:10px;padding:5px;font-size:14px}.historias-panel[_ngcontent-%COMP%]{width:100%;padding:20px;background-color:#f0e4d7;border-radius:15px;margin-top:20px;box-shadow:0 8px 16px #0003;max-height:300px;overflow-y:auto}.historia-clinica-container[_ngcontent-%COMP%]{background-color:#d1a054;border-radius:10px;padding:15px;margin-bottom:15px;box-shadow:0 4px 8px #0000001a}.panel-descarga[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.panel-descarga[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.panel-descarga[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.panel-descarga[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2e4c6d}.panel-descarga[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.panel-descarga[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.panel-descarga[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.panel-descarga[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.panel-descarga[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.panel-descarga[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#2e4c6d}']});let t=e;return t})();var y0=ma(Vh());Gd();var mz=ma(fz());var pz=(()=>{let e=class e{constructor(){this.unidades=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],this.decenas=["","diez","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"],this.especiales={11:"once",12:"doce",13:"trece",14:"catorce",15:"quince",16:"diecis\xE9is",17:"diecisiete",18:"dieciocho",19:"diecinueve"}}transform(i,...r){if(i<10)return this.unidades[i];if(i<20)return this.especiales[i]||this.unidades[i];if(i<100){let s=i%10,o=Math.floor(i/10);return this.decenas[o]+(s?" y "+this.unidades[s]:"")}else return"n\xFAmero muy grande"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=up({name:"numberToWords",type:e,pure:!0,standalone:!0});let t=e;return t})();function t1e(t,e){if(t&1&&(B(0,"div"),Ft(1,"img",6),B(2,"p"),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P(),B(10,"p"),G(11),Ga(12,"numberToWords"),P()()),t&2){let n=Pe().ngIf;Z(),ye("src",n==null||n.data==null?null:n.data.foto1,Ua),Z(2),it("Nombre: ",n==null||n.data==null?null:n.data.nombre,""),Z(2),it("Apellido: ",n==null||n.data==null?null:n.data.apellido,""),Z(2),it("DNI: ",n==null||n.data==null?null:n.data.DNI,""),Z(2),it("Correo: ",n==null||n.data==null?null:n.data.mail,""),Z(2),Is("Edad: ",n==null||n.data==null?null:n.data.edad," (",Wa(12,7,n==null||n.data==null?null:n.data.edad),")")}}function n1e(t,e){if(t&1){let n=Jt();B(0,"div"),Ft(1,"img",6),B(2,"p"),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P(),B(10,"p"),G(11),Ga(12,"numberToWords"),P(),B(13,"p"),G(14),P(),B(15,"div",7)(16,"div",8)(17,"input",9),Ye("change",function(r){vt(n);let s=Pe(2);return _t(s.toggleHorario("ma\xF1ana",r))}),P(),B(18,"label",10),G(19,"Ma\xF1ana"),P()(),B(20,"div",8)(21,"input",11),Ye("change",function(r){vt(n);let s=Pe(2);return _t(s.toggleHorario("tarde",r))}),P(),B(22,"label",12),G(23,"Tarde"),P()(),B(24,"button",13),Ye("click",function(){vt(n);let r=Pe(2);return _t(r.guardarHorarios())}),G(25,"Guardar Horarios"),P()()()}if(t&2){let n=Pe().ngIf;Z(),ye("src",n==null||n.data==null?null:n.data.foto1,Ua),Z(2),it("Nombre: ",n==null||n.data==null?null:n.data.nombre,""),Z(2),it("Apellido: ",n==null||n.data==null?null:n.data.apellido,""),Z(2),it("DNI: ",n==null||n.data==null?null:n.data.DNI,""),Z(2),it("Correo: ",n==null||n.data==null?null:n.data.mail,""),Z(2),Is("Edad: ",n==null||n.data==null?null:n.data.edad," (",Wa(12,8,n==null||n.data==null?null:n.data.edad),")"),Z(3),it("Especialidad: ",n==null||n.data==null?null:n.data.especialidad,"")}}function i1e(t,e){if(t&1&&(B(0,"div")(1,"p")(2,"strong"),G(3),P(),G(4),P()()),t&2){let n=e.$implicit;Z(3),it("",n.clave,":"),Z(),it(" ",n.valor,"")}}function r1e(t,e){if(t&1&&(B(0,"div",17)(1,"h3"),G(2,"Historia Cl\xEDnica"),P(),B(3,"p")(4,"strong"),G(5,"Altura:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Peso:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Temperatura:"),P(),G(14),P(),B(15,"p")(16,"strong"),G(17,"Presi\xF3n:"),P(),G(18),P(),B(19,"p")(20,"strong"),G(21,"Especialidad:"),P(),G(22),P(),tt(23,i1e,5,2,"div",18),P()),t&2){let n=e.$implicit;Z(6),it(" ",n.altura," cm"),Z(4),it(" ",n.peso," kg"),Z(4),it(" ",n.temperatura," \xB0C"),Z(4),it(" ",n.presion," mmHg"),Z(4),it(" ",n.especialidad,""),Z(),ye("ngForOf",n.datosDinamicos)}}function s1e(t,e){if(t&1){let n=Jt();B(0,"div")(1,"button",13),Ye("click",function(){vt(n);let r=Pe(3);return _t(r.abrirModalEspecialidades())}),G(2,"Descargar Historias Cl\xEDnicas"),P(),B(3,"div",15),tt(4,r1e,24,6,"div",16),P()()}if(t&2){let n=Pe(3);Z(4),ye("ngForOf",n.historiasClinicas)}}function o1e(t,e){t&1&&(B(0,"div")(1,"p"),G(2,"No hay historias cl\xEDnicas disponibles."),P()())}function a1e(t,e){if(t&1&&(B(0,"div",14),Ft(1,"img",6),B(2,"p"),G(3),P(),B(4,"p"),G(5),P(),B(6,"p"),G(7),P(),B(8,"p"),G(9),P(),B(10,"p"),G(11),Ga(12,"numberToWords"),P(),B(13,"p"),G(14),P(),tt(15,s1e,5,1,"div",4)(16,o1e,3,0,"div",4),P()),t&2){let n=Pe().ngIf,i=Pe();Z(),ye("src",n==null||n.data==null?null:n.data.foto1,Ua),Z(2),it("Nombre: ",n==null||n.data==null?null:n.data.nombre,""),Z(2),it("Apellido: ",n==null||n.data==null?null:n.data.apellido,""),Z(2),it("DNI: ",n==null||n.data==null?null:n.data.DNI,""),Z(2),it("Correo: ",n==null||n.data==null?null:n.data.mail,""),Z(2),Is("Edad: ",n==null||n.data==null?null:n.data.edad," (",Wa(12,10,n==null||n.data==null?null:n.data.edad),")"),Z(3),it("Obra social: ",n==null||n.data==null?null:n.data.obraSocial,""),Z(),ye("ngIf",i.historiasClinicas&&i.historiasClinicas.length>0),Z(),ye("ngIf",!i.historiasClinicas||i.historiasClinicas.length===0)}}function l1e(t,e){if(t&1&&(B(0,"div",3),tt(1,t1e,13,9,"div",4)(2,n1e,26,10,"div",4)(3,a1e,17,12,"div",5),P()),t&2){let n=e.ngIf;ye("@fadeInFromBottom",void 0),Z(),ye("ngIf",(n==null?null:n.role)==="admin"),Z(),ye("ngIf",(n==null?null:n.role)==="especialista"),Z(),ye("ngIf",(n==null?null:n.role)==="paciente")}}function c1e(t,e){if(t&1){let n=Jt();B(0,"div")(1,"label")(2,"input",24),ir("ngModelChange",function(r){vt(n);let s=Pe(2);return ur(s.especialidadSeleccionada,r)||(s.especialidadSeleccionada=r),_t(r)}),P(),G(3),P()()}if(t&2){let n=e.$implicit,i=Pe(2);Z(2),ye("id",n)("value",n),nr("ngModel",i.especialidadSeleccionada),Z(),it(" ",n," ")}}function u1e(t,e){if(t&1){let n=Jt();B(0,"div",19)(1,"div",20)(2,"h2"),G(3,"Seleccionar Especialidad"),P(),tt(4,c1e,4,4,"div",18),B(5,"div",21)(6,"button",22),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmarEspecialidad())}),G(7,"Confirmar"),P(),B(8,"button",23),Ye("click",function(){vt(n);let r=Pe();return _t(r.cerrarModal())}),G(9,"Cancelar"),P()()()()}if(t&2){let n=Pe();Z(4),ye("ngForOf",n.especialidades)}}var gz=(()=>{let e=class e{constructor(i,r,s){this.authService=i,this.afAuth=r,this.afs=s,this.historiasClinicas=[],this.especialidades=[],this.especialidadSeleccionada="",this.horarioMa\u00F1ana=!1,this.horarioTarde=!1,this.mostrarModal=!1,this.user$=Xt(null)}ngOnInit(){this.user$=this.authService.getCurrentUserData(),this.user$.subscribe(i=>{i?.role==="paciente"&&i.data?.uid&&this.loadHistoriasClinicas(i.data.uid)})}toggleHorario(i,r){let o=r.target.checked;i==="ma\xF1ana"?this.horarioMa\u00F1ana=o:i==="tarde"&&(this.horarioTarde=o)}guardarHorarios(){return Se(this,null,function*(){let i=[];this.horarioMa\u00F1ana&&i.push("Ma\xF1ana"),this.horarioTarde&&i.push("Tarde");try{let r=yield this.afAuth.currentUser;r?(yield this.afs.collection("especialistas").doc(r.uid).update({horarios:i}),y0.default.fire({position:"top-right",icon:"success",title:"Horarios guardados correctamente",showConfirmButton:!1,timer:1500})):y0.default.fire({position:"top-left",icon:"error",title:"Error al guardar horarios, no se encontr\xF3 el usuario",showConfirmButton:!1,timer:1500})}catch(r){console.error("Error al guardar los horarios:",r),y0.default.fire({position:"top-left",icon:"error",title:"Error al guardar los horarios",showConfirmButton:!1,timer:1500})}})}loadHistoriasClinicas(i){return Se(this,null,function*(){try{this.historiasClinicas=yield this.authService.getHistoriasClinicasByPaciente(i),this.especialidades=Array.from(new Set(this.historiasClinicas.map(r=>r.especialidad))),console.log(this.especialidades)}catch(r){console.error("Error al cargar las historias cl\xEDnicas:",r)}})}abrirModalEspecialidades(){this.mostrarModal=!0}cerrarModal(){this.mostrarModal=!1}confirmarEspecialidad(){this.cerrarModal(),this.especialidadSeleccionada&&this.descargarHistoriasClinicas()}descargarHistoriasClinicas(){return Se(this,null,function*(){let i=this.especialidadSeleccionada;i&&this.user$.pipe(xl(1)).subscribe(r=>{let s=r?.data?.nombre;if(s)try{let o=this.historiasClinicas.filter(a=>a.especialidad===i);if(o.length>0){let a=new il;a.addImage("assets/icono.png","PNG",10,10,50,15),a.setFontSize(18),a.text("Informe de Historias Cl\xEDnicas",70,20),a.setFontSize(12),a.text(`Fecha de emisi\xF3n: ${new Date().toLocaleDateString()}`,70,30),(0,mz.default)(a,{startY:40,head:[["Altura","Peso","Temperatura","Presi\xF3n","Datos Din\xE1micos"]],body:o.map(c=>[c.altura,c.peso,c.temperatura,c.presion,c.datosDinamicos.map(u=>`${u.clave}: ${u.valor}`).join(", ")])});let l=`historias_clinicas_${s}_${i}.pdf`;a.save(l)}else y0.default.fire("No hay historias cl\xEDnicas para la especialidad seleccionada.")}catch(o){console.error("Error al descargar las historias cl\xEDnicas:",o),y0.default.fire("Error al descargar las historias cl\xEDnicas.")}else y0.default.fire("No se pudo obtener el nombre del paciente.")})})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn),Je(Tp),Je(k_))},e.\u0275cmp=fn({type:e,selectors:[["app-mi-perfil"]],standalone:!0,features:[wn],decls:5,vars:5,consts:[[1,"app-container"],["class","user-profile",4,"ngIf"],["class","modal-container",4,"ngIf"],[1,"user-profile"],[4,"ngIf"],["class","usuarioDiv",4,"ngIf"],["alt","Usuario",3,"src"],[1,"horarios-selector"],[1,"horario-option"],["type","checkbox","id","ma\xF1ana",3,"change"],["for","ma\xF1ana"],["type","checkbox","id","tarde",3,"change"],["for","tarde"],[3,"click"],[1,"usuarioDiv"],[1,"historias-wrapper"],["class","historia-clinica-container",4,"ngFor","ngForOf"],[1,"historia-clinica-container"],[4,"ngFor","ngForOf"],[1,"modal-container"],[1,"modal"],[1,"buttons"],[1,"confirm",3,"click"],[1,"cancel",3,"click"],["type","radio","name","especialidad",3,"ngModelChange","id","value","ngModel"]],template:function(r,s){r&1&&(B(0,"body")(1,"div",0),tt(2,l1e,4,4,"div",1),Ga(3,"async"),tt(4,u1e,10,1,"div",2),P()()),r&2&&(Z(),ye("@fadeInFromBottom",void 0),Z(),ye("ngIf",Wa(3,3,s.user$)),Z(2),ye("ngIf",s.mostrarModal))},dependencies:[hr,Hr,Ur,r2,Ir,Jr,O1,Ms,_c,pz],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:90vh;margin:0;background-color:#d1a054;background-image:url("./media/fondo-perfil-WDAVYXRX.jpg");background-size:cover;background-position:center}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%}.navbar[_ngcontent-%COMP%]{width:100%;background-color:#ffffffe6;padding:10px 20px;box-shadow:0 2px 4px #0000001a;position:fixed;top:0;z-index:10}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.navbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;color:#2e4c6d;margin-left:10px}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;color:#555;transition:color .3s}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#000}.user-profile[_ngcontent-%COMP%]{background-color:#d1a054;padding:30px;border-radius:15px;box-shadow:0 8px 16px #0003;text-align:center;max-width:450px;width:90%;margin-top:50px;border:2px solid #2e4c6d;margin-bottom:50px;max-height:650px;height:650px;overflow-y:auto}.user-profile[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.user-profile[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.user-profile[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.user-profile[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2e4c6d}.user-profile[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.user-profile[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.user-profile[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.user-profile[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.user-profile[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.user-profile[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#2e4c6d}.user-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%;margin-bottom:20px;border:3px solid #2e4c6d}.user-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:18px;color:#2e4c6d}.user-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.footer[_ngcontent-%COMP%]{margin-top:auto;padding:20px;text-align:center;color:#fff;background-color:#00000080;width:100%}.horarios-selector[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;margin-top:20px;color:#2e4c6d}.horario-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.horarios-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;color:#fff;background-color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s}.horarios-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.horarios-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#132d49;transform:translateY(0);box-shadow:none}.usuarioDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;color:#fff;background-color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s;margin-bottom:20px}.usuarioDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.usuarioDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#132d49;transform:translateY(0);box-shadow:none}.historias-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;padding:15px;height:auto}.historia-clinica-container[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:#ffffff80;padding:15px;border-radius:8px;margin-bottom:20px;border:1px solid #2e4c6d;margin-right:25px}.historia-clinica-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px;color:#2e4c6d}.historia-clinica-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#2e4c6d}.historia-clinica-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#2e4c6d}.modal-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:20}.modal[_ngcontent-%COMP%]{background-color:#d1a054;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000004d;width:80%;max-width:400px;text-align:center}.modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s}.modal[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]:hover{background-color:#132d49}.modal[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s}.modal[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]:hover{background-color:#c9302c}'],data:{animation:[fu("fadeInFromBottom",[mu(":enter",[ds({opacity:0,transform:"translateY(100%)"}),pu("500ms ease-out",ds({opacity:1,transform:"translateY(0)"}))])])]}});let t=e;return t})();function Mi(t){let e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Co(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function vz(t,e){let n=Mi(t);return isNaN(e)?Co(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function _z(t){return Mi(t).getDay()===6}function yz(t){return Mi(t).getDay()===0}function xz(t,e){let n=+Mi(t);return Co(t,n+e)}var d1e=Math.pow(10,8)*24*60*60*1e3,nLe=-d1e,vT=6048e5,wz=864e5,bz=6e4;var h1e=3600;var Cz=h1e*24,iLe=Cz*7,f1e=Cz*365.2425,p1e=f1e/12,rLe=p1e*3;var m1e={};function Df(){return m1e}function Wd(t,e){let n=Df(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Mi(t),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function x0(t){return Wd(t,{weekStartsOn:1})}function _T(t){let e=Mi(t),n=e.getFullYear(),i=Co(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let r=x0(i),s=Co(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);let o=x0(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function uy(t){let e=Mi(t);return e.setHours(0,0,0,0),e}function RF(t){let e=Mi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tz(t,e){let n=uy(t),i=uy(e),r=+n-RF(n),s=+i-RF(i);return Math.round((r-s)/wz)}function Sz(t){let e=_T(t),n=Co(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),x0(n)}function Ez(t,e){return xz(t,e*bz)}function Az(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kz(t){if(!Az(t)&&typeof t!="number")return!1;let e=Mi(t);return!isNaN(Number(e))}function Dz(t){let e=Mi(t),n=Co(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}var g1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Iz=(t,e,n)=>{let i,r=g1e[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function If(t){return(e={})=>{let n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var v1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mz={date:If({formats:v1e,defaultWidth:"full"}),time:If({formats:_1e,defaultWidth:"full"}),dateTime:If({formats:y1e,defaultWidth:"full"})};var x1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pz=(t,e,n,i)=>x1e[t];function Ul(t){return(e,n)=>{let i=n?.context?String(n.context):"standalone",r;if(i==="formatting"&&t.formattingValues){let o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{let o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}let s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}var w1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A1e=(t,e)=>{let n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Fz={ordinalNumber:A1e,era:Ul({values:w1e,defaultWidth:"wide"}),quarter:Ul({values:b1e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ul({values:C1e,defaultWidth:"wide"}),day:Ul({values:T1e,defaultWidth:"wide"}),dayPeriod:Ul({values:S1e,defaultWidth:"wide",formattingValues:E1e,defaultFormattingWidth:"wide"})};function Hl(t){return(e,n={})=>{let i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;let o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?D1e(a,d=>d.test(o)):k1e(a,d=>d.test(o)),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;let u=e.slice(o.length);return{value:c,rest:u}}}function k1e(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function D1e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yT(t){return(e,n={})=>{let i=e.match(t.matchPattern);if(!i)return null;let r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;let a=e.slice(r.length);return{value:o,rest:a}}}var I1e=/^(\d+)(th|st|nd|rd)?/i,M1e=/\d+/i,P1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F1e={any:[/^b/i,/^(a|c)/i]},L1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N1e={any:[/1/i,/2/i,/3/i,/4/i]},O1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lz={ordinalNumber:yT({matchPattern:I1e,parsePattern:M1e,valueCallback:t=>parseInt(t,10)}),era:Hl({matchPatterns:P1e,defaultMatchWidth:"wide",parsePatterns:F1e,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:L1e,defaultMatchWidth:"wide",parsePatterns:N1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hl({matchPatterns:O1e,defaultMatchWidth:"wide",parsePatterns:R1e,defaultParseWidth:"any"}),day:Hl({matchPatterns:V1e,defaultMatchWidth:"wide",parsePatterns:B1e,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:j1e,defaultMatchWidth:"any",parsePatterns:U1e,defaultParseWidth:"any"})};var VF={code:"en-US",formatDistance:Iz,formatLong:Mz,formatRelative:Pz,localize:Fz,match:Lz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nz(t){let e=Mi(t);return Tz(e,Dz(e))+1}function Oz(t){let e=Mi(t),n=+x0(e)-+Sz(e);return Math.round(n/vT)+1}function xT(t,e){let n=Mi(t),i=n.getFullYear(),r=Df(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=Co(t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);let a=Wd(o,e),l=Co(t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);let c=Wd(l,e);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function Rz(t,e){let n=Df(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=xT(t,e),s=Co(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),Wd(s,e)}function Vz(t,e){let n=Mi(t),i=+Wd(n,e)-+Rz(n,e);return Math.round(i/vT)+1}function Si(t,e){let n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}var qd={y(t,e){let n=t.getFullYear(),i=n>0?n:1-n;return Si(e==="yy"?i%100:i,e.length)},M(t,e){let n=t.getMonth();return e==="M"?String(n+1):Si(n+1,2)},d(t,e){return Si(t.getDate(),e.length)},a(t,e){let n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Si(t.getHours()%12||12,e.length)},H(t,e){return Si(t.getHours(),e.length)},m(t,e){return Si(t.getMinutes(),e.length)},s(t,e){return Si(t.getSeconds(),e.length)},S(t,e){let n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Si(r,e.length)}};var cv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BF={G:function(t,e,n){let i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){let i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return qd.y(t,e)},Y:function(t,e,n,i){let r=xT(t,i),s=r>0?r:1-r;if(e==="YY"){let o=s%100;return Si(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Si(s,e.length)},R:function(t,e){let n=_T(t);return Si(n,e.length)},u:function(t,e){let n=t.getFullYear();return Si(n,e.length)},Q:function(t,e,n){let i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Si(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){let i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Si(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){let i=t.getMonth();switch(e){case"M":case"MM":return qd.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){let i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Si(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){let r=Vz(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Si(r,e.length)},I:function(t,e,n){let i=Oz(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Si(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qd.d(t,e)},D:function(t,e,n){let i=Nz(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Si(i,e.length)},E:function(t,e,n){let i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){let r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Si(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){let r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Si(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){let i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Si(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){let i=t.getHours(),r;switch(i===12?r=cv.noon:i===0?r=cv.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){let i=t.getHours(),r;switch(i>=17?r=cv.evening:i>=12?r=cv.afternoon:i>=4?r=cv.morning:r=cv.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return qd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qd.H(t,e)},K:function(t,e,n){let i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Si(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Si(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qd.s(t,e)},S:function(t,e){return qd.S(t,e)},X:function(t,e,n){let i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return jz(i);case"XXXX":case"XX":return w0(i);case"XXXXX":case"XXX":default:return w0(i,":")}},x:function(t,e,n){let i=t.getTimezoneOffset();switch(e){case"x":return jz(i);case"xxxx":case"xx":return w0(i);case"xxxxx":case"xxx":default:return w0(i,":")}},O:function(t,e,n){let i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Bz(i,":");case"OOOO":default:return"GMT"+w0(i,":")}},z:function(t,e,n){let i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Bz(i,":");case"zzzz":default:return"GMT"+w0(i,":")}},t:function(t,e,n){let i=Math.trunc(t.getTime()/1e3);return Si(i,e.length)},T:function(t,e,n){let i=t.getTime();return Si(i,e.length)}};function Bz(t,e=""){let n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Si(s,2)}function jz(t,e){return t%60===0?(t>0?"-":"+")+Si(Math.abs(t)/60,2):w0(t,e)}function w0(t,e=""){let n=t>0?"-":"+",i=Math.abs(t),r=Si(Math.trunc(i/60),2),s=Si(i%60,2);return n+r+e+s}var Uz=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hz=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H1e=(t,e)=>{let n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return Uz(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Uz(i,e)).replace("{{time}}",Hz(r,e))},zz={p:Hz,P:H1e};var z1e=/^D+$/,$1e=/^Y+$/,G1e=["D","DD","YY","YYYY"];function $z(t){return z1e.test(t)}function Gz(t){return $1e.test(t)}function Wz(t,e,n){let i=W1e(t,e,n);if(console.warn(i),G1e.includes(t))throw new RangeError(i)}function W1e(t,e,n){let i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var q1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y1e=/^'([^]*?)'?$/,K1e=/''/g,Q1e=/[a-zA-Z]/;function Mf(t,e,n){let i=Df(),r=n?.locale??i.locale??VF,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,a=Mi(t);if(!kz(a))throw new RangeError("Invalid time value");let l=e.match(X1e).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=zz[d];return f(u,r.formatLong)}return u}).join("").match(q1e).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:Z1e(u)};if(BF[d])return{isToken:!0,value:u};if(d.match(Q1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));let c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!n?.useAdditionalWeekYearTokens&&Gz(d)||!n?.useAdditionalDayOfYearTokens&&$z(d))&&Wz(d,e,String(t));let f=BF[d[0]];return f(a,d,r.localize,c)}).join("")}function Z1e(t){let e=t.match(Y1e);return e?e[1].replace(K1e,"'"):t}var J1e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},qz=(t,e,n)=>{let i,r=J1e[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+i:"hace "+i:i};var e_e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},t_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n_e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xz={date:If({formats:e_e,defaultWidth:"full"}),time:If({formats:t_e,defaultWidth:"full"}),dateTime:If({formats:n_e,defaultWidth:"full"})};var i_e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},r_e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Yz=(t,e,n,i)=>e.getHours()!==1?r_e[t]:i_e[t];var s_e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},o_e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},a_e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},l_e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},c_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},u_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},d_e=(t,e)=>Number(t)+"\xBA",Kz={ordinalNumber:d_e,era:Ul({values:s_e,defaultWidth:"wide"}),quarter:Ul({values:o_e,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ul({values:a_e,defaultWidth:"wide"}),day:Ul({values:l_e,defaultWidth:"wide"}),dayPeriod:Ul({values:c_e,defaultWidth:"wide",formattingValues:u_e,defaultFormattingWidth:"wide"})};var h_e=/^(\d+)(º)?/i,f_e=/\d+/i,p_e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},m_e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},g_e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},v_e={any:[/1/i,/2/i,/3/i,/4/i]},__e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},y_e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},x_e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},w_e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},b_e={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},C_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Qz={ordinalNumber:yT({matchPattern:h_e,parsePattern:f_e,valueCallback:function(t){return parseInt(t,10)}}),era:Hl({matchPatterns:p_e,defaultMatchWidth:"wide",parsePatterns:m_e,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:g_e,defaultMatchWidth:"wide",parsePatterns:v_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hl({matchPatterns:__e,defaultMatchWidth:"wide",parsePatterns:y_e,defaultParseWidth:"any"}),day:Hl({matchPatterns:x_e,defaultMatchWidth:"wide",parsePatterns:w_e,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:b_e,defaultMatchWidth:"any",parsePatterns:C_e,defaultParseWidth:"any"})};var Pf={code:"es",formatDistance:qz,formatLong:Xz,formatRelative:Yz,localize:Kz,match:Qz,options:{weekStartsOn:1,firstWeekContainsDate:1}};var jF=ma(Vh());function T_e(t,e){if(t&1){let n=Jt();B(0,"div",10)(1,"button",11),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.selectSpecialist(r))}),Ft(2,"img",12),B(3,"p"),G(4),P()()()}if(t&2){let n=e.$implicit;Z(2),t1("alt","",n.nombre," ",n.apellido,""),ye("src",n.foto1,Ua),Z(2),Is("",n.nombre," ",n.apellido,"")}}function S_e(t,e){if(t&1&&(B(0,"div",8),tt(1,T_e,5,6,"div",9),P()),t&2){let n=Pe();Z(),ye("ngForOf",n.specialists)}}function E_e(t,e){if(t&1){let n=Jt();B(0,"div",17)(1,"button",11),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.selectSpecialty(r))}),Ft(2,"img",18),B(3,"span"),G(4),P()()()}if(t&2){let n=e.$implicit,i=Pe(2);Z(2),vk("alt",n),ye("src",i.getEspecialidadImage(n),Ua),Z(2),uo(n)}}function A_e(t,e){if(t&1){let n=Jt();B(0,"div",13)(1,"div",14),Ft(2,"img",12),B(3,"p"),G(4),P(),B(5,"button",11),Ye("click",function(){vt(n);let r=Pe();return _t(r.deselectSpecialist())}),G(6,"Cambiar especialista"),P(),B(7,"p"),G(8,"Especialidades:"),P()(),B(9,"div",15),tt(10,E_e,5,3,"div",16),P()()}if(t&2){let n=Pe();Z(2),t1("alt","",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),ye("src",n.selectedSpecialist.foto1,Ua),Z(2),Is("",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),Z(6),ye("ngForOf",n.selectedSpecialist.especialidad)}}function k_e(t,e){if(t&1){let n=Jt();B(0,"div",21)(1,"button",11),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.selectDay(r))}),G(2),P()()}if(t&2){let n=e.$implicit,i=Pe(2);Z(),md("selected",n===i.selectedDay),Z(),it(" ",i.formatDate(n,"EEEE, d MMMM yyyy")," ")}}function D_e(t,e){if(t&1&&(B(0,"div",19)(1,"p"),G(2),P(),tt(3,k_e,3,3,"div",20),P()),t&2){let n=Pe();Z(2),it("D\xEDas disponibles para ",n.selectedSpecialty,":"),Z(),ye("ngForOf",n.availableDays)}}function I_e(t,e){if(t&1){let n=Jt();B(0,"div",24)(1,"button",11),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.selectHorario(r))}),G(2),P()()}if(t&2){let n=e.$implicit,i=Pe(2);Z(),md("selected",n===i.selectedHorario),Z(),it(" ",i.formatDate(n,"HH:mm")," ")}}function M_e(t,e){if(t&1&&(B(0,"div",22)(1,"p"),G(2),P(),tt(3,I_e,3,3,"div",23),P()),t&2){let n=Pe();Z(2),Is("Horarios disponibles para ",n.selectedSpecialty," el ",n.formatDate(n.selectedDay,"EEEE, d MMMM yyyy"),":"),Z(),ye("ngForOf",n.horariosDisponibles)}}function P_e(t,e){if(t&1&&Ft(0,"img",29),t&2){let n=Pe().$implicit;t1("alt","",n.nombre," ",n.apellido,""),ye("src",n.foto1,Ua)}}function F_e(t,e){if(t&1){let n=Jt();B(0,"div",27)(1,"button",11),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.selectedPaciente=r)}),tt(2,P_e,1,4,"img",28),B(3,"p"),G(4),P()()()}if(t&2){let n=e.$implicit,i=Pe(2);Z(),md("selected",n===i.selectedPaciente),Z(),ye("ngIf",n.foto1),Z(2),Is("",n.nombre," ",n.apellido,"")}}function L_e(t,e){if(t&1&&(B(0,"div",25)(1,"p"),G(2,"Selecciona un paciente:"),P(),tt(3,F_e,5,5,"div",26),P()),t&2){let n=Pe();Z(3),ye("ngForOf",n.pacientes)}}function N_e(t,e){if(t&1){let n=Jt();B(0,"div",30)(1,"button",11),Ye("click",function(){vt(n);let r=Pe();return _t(r.saveTurno())}),G(2,"Guardar Turno"),P()()}}function O_e(t,e){if(t&1&&(B(0,"div",31)(1,"p"),G(2),P()()),t&2){let n=Pe();Z(2),uo(n.errorMessage)}}var Zz=(()=>{let e=class e{constructor(i){this.authService=i,this.specialists=[],this.selectedSpecialist=null,this.selectedSpecialty=null,this.availableDays=[],this.selectedDay=null,this.selectedHorario=null,this.horariosDisponibles=[],this.errorMessage=null,this.isAdmin=!1,this.isPaciente=!1,this.pacientes=[],this.selectedPaciente=null}ngOnInit(){this.loadSpecialists(),this.authService.role$.subscribe(i=>{this.isAdmin=i.esAdmin,this.isPaciente=i.esPaciente,this.isAdmin&&this.loadPacientes()})}loadSpecialists(){this.authService.getAllEspecialistas().then(i=>{this.specialists=i.filter(r=>r.habilitado)})}loadPacientes(){this.authService.getAllPacientes().then(i=>{this.pacientes=i})}selectSpecialist(i){this.selectedSpecialist=i,typeof this.selectedSpecialist.especialidad=="string"&&(this.selectedSpecialist.especialidad=[this.selectedSpecialist.especialidad])}deselectSpecialist(){this.selectedSpecialist=null,this.selectedSpecialty=null,this.availableDays=[],this.selectedDay=null,this.selectedHorario=null,this.horariosDisponibles=[],this.errorMessage=null}getEspecialidadImage(i){switch(i.toLowerCase()){case"dermat\xF3logo":return"assets/dermatologo.png";case"kinesi\xF3logo":return"assets/kinesiologo.png";case"cardi\xF3logo":return"assets/cardiologo.png";case"neur\xF3logo":return"assets/neurologo.png";default:return"assets/default.png"}}selectSpecialty(i){this.selectedSpecialty=i,this.generateAvailableDays()}generateAvailableDays(){let i=new Date;this.availableDays=Array.from({length:15},(r,s)=>vz(i,s)).filter(r=>!yz(r))}selectDay(i){this.selectedDay=i,this.generateAvailableSlots(i)}generateAvailableSlots(i){if(!this.selectedSpecialist||!this.selectedSpecialist.horarios)return;let r=[];_z(i)?this.addSlotsForPeriod(i,8,14,r):(this.selectedSpecialist.horarios.includes("Ma\xF1ana")&&this.addSlotsForPeriod(i,8,12,r),this.selectedSpecialist.horarios.includes("Tarde")&&this.addSlotsForPeriod(i,12,19,r)),this.horariosDisponibles=r}addSlotsForPeriod(i,r,s,o){let a=uy(i);for(let l=r;l<s;l++)for(let c=0;c<60;c+=30)o.push(Ez(a,l*60+c))}selectHorario(i){this.selectedHorario=i,console.log("Horario seleccionado:",i)}formatDate(i,r){return Mf(i,r,{locale:Pf})}saveTurno(){return Se(this,null,function*(){if(this.selectedSpecialist&&this.selectedSpecialty&&this.selectedDay&&this.selectedHorario){if(yield this.authService.isTurnoTaken(this.selectedSpecialist.id,this.selectedDay,this.selectedHorario)){this.errorMessage="Este turno ya est\xE1 tomado. Por favor, elige otro horario.";return}let r="";if(this.isAdmin){if(!this.selectedPaciente){this.errorMessage="Por favor, selecciona un paciente.";return}r=this.selectedPaciente.id}else this.isPaciente&&(r=(yield this.authService.getCurrentUser())?.uid||"");this.authService.saveTurno({specialistId:this.selectedSpecialist.id,specialty:this.selectedSpecialty,date:this.selectedDay,time:this.selectedHorario,pacienteId:r}).then(()=>{jF.default.fire({position:"top-right",icon:"success",title:"Turno guardado con \xE9xito",showConfirmButton:!1,timer:1500}),this.errorMessage=null}).catch(s=>{jF.default.fire({position:"top-left",icon:"error",title:"Error al guardar turno",showConfirmButton:!1,timer:1500}),this.errorMessage="Ocurri\xF3 un error al guardar el turno. Int\xE9ntalo de nuevo."})}})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-solicitar-turnos"]],standalone:!0,features:[wn],decls:9,vars:7,consts:[[1,"content-wrapper"],["class","specialists-container",4,"ngIf"],["class","selected-specialist-container",4,"ngIf"],["class","available-days-container",4,"ngIf"],["class","horarios-container",4,"ngIf"],["class","select-paciente-container",4,"ngIf"],["class","save-turno-container",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"specialists-container"],["class","specialist-card",4,"ngFor","ngForOf"],[1,"specialist-card"],[3,"click"],[3,"src","alt"],[1,"selected-specialist-container"],[1,"selected-specialist"],[1,"specialties-container"],["class","specialty-card",4,"ngFor","ngForOf"],[1,"specialty-card"],[1,"specialty-image",3,"src","alt"],[1,"available-days-container"],["class","day-card",4,"ngFor","ngForOf"],[1,"day-card"],[1,"horarios-container"],["class","horario-card",4,"ngFor","ngForOf"],[1,"horario-card"],[1,"select-paciente-container"],["class","paciente-card",4,"ngFor","ngForOf"],[1,"paciente-card"],["class","paciente-image",3,"src","alt",4,"ngIf"],[1,"paciente-image",3,"src","alt"],[1,"save-turno-container"],[1,"error-message"]],template:function(r,s){r&1&&(B(0,"body")(1,"div",0),tt(2,S_e,2,1,"div",1)(3,A_e,11,7,"div",2)(4,D_e,4,2,"div",3)(5,M_e,4,3,"div",4)(6,L_e,4,1,"div",5)(7,N_e,3,0,"div",6)(8,O_e,3,1,"div",7),P()()),r&2&&(Z(2),ye("ngIf",!s.selectedSpecialist),Z(),ye("ngIf",s.selectedSpecialist),Z(),ye("ngIf",s.selectedSpecialty),Z(),ye("ngIf",s.selectedDay),Z(),ye("ngIf",s.isAdmin),Z(),ye("ngIf",s.selectedHorario),Z(),ye("ngIf",s.errorMessage))},dependencies:[Ur,hr,Hr],styles:['body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:170vh;margin:0;background-image:url("./media/fondo-perfil-WDAVYXRX.jpg");background-size:cover;background-position:center}.content-wrapper[_ngcontent-%COMP%]{background-color:#d1a054b3;border-radius:15px;padding:20px;box-shadow:0 4px 8px #0003;max-width:900px;width:100%;margin:20px;box-sizing:border-box}.specialists-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin-top:20px}.specialist-card[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;text-align:center}.specialist-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;border:1px solid #2e4c6d;border-radius:8px;padding:0;background-color:#2e4c6d;cursor:pointer;transition:transform .2s,box-shadow .2s;overflow:hidden;position:relative}.specialist-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #0003}.specialist-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.specialist-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;margin:0;font-size:14px;color:#2e4c6d;background-color:#fff9;padding:5px;box-sizing:border-box;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.selected-specialist-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:20px}.selected-specialist[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.selected-specialist[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;margin-bottom:10px;border:3px solid #2e4c6d}.selected-specialist[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:10px 0}.selected-specialist[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;border:none;border-radius:5px;background-color:#2e4c6d;color:#fff;cursor:pointer;transition:background-color .3s,transform .2s}.selected-specialist[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px)}.specialties-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.specialties-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.specialty-card[_ngcontent-%COMP%]{margin-top:10px}.specialty-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;border:1px solid #2e4c6d;border-radius:8px;background-color:#3e546b;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s;padding:10px;height:100px;overflow:hidden;color:#fff}.specialty-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2e4c6d;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.specialty-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;margin-right:10px}.specialty-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;margin-right:10px}.available-days-container[_ngcontent-%COMP%], .horarios-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin-top:20px}.available-days-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .horarios-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:700;width:100%;text-align:center;margin-bottom:10px}.day-card[_ngcontent-%COMP%], .horario-card[_ngcontent-%COMP%]{margin-top:10px}.day-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .horario-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;color:#fff;background-color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s}.day-card[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .horario-card[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#132d49}.day-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .horario-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.select-paciente-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.paciente-card[_ngcontent-%COMP%]{margin-top:10px}.paciente-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;border:1px solid #2e4c6d;border-radius:8px;background-color:#2e4c6d;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s;padding:10px;overflow:hidden;color:#fff}.paciente-card[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#132d49}.paciente-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.paciente-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;margin-right:10px;border-radius:50%}.paciente-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#fff}.save-turno-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.save-turno-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;color:#fff;background-color:#2e4c6d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s,box-shadow .2s}.save-turno-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.save-turno-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#132d49;transform:translateY(0);box-shadow:none}.error-message[_ngcontent-%COMP%]{text-align:center;color:red;margin-top:20px}']});let t=e;return t})();var R_e=(t,e,n,i,r)=>({"estado-pendiente":t,"estado-cancelado":e,"estado-rechazado":n,"estado-aceptado":i,"estado-realizado":r});function V_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Cancelaci\xF3n:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioCancelacion," ")}}function B_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Rechazo:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioRechazo," ")}}function j_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Rese\xF1a:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioFinalizacion," ")}}function U_e(t,e){if(t&1){let n=Jt();B(0,"button",9),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openCancelModal(r))}),G(1," Cancelar Turno "),P()}}function H_e(t,e){if(t&1&&(B(0,"div",5)(1,"p")(2,"strong"),G(3,"Especialista: "),P(),G(4),P(),B(5,"p")(6,"strong"),G(7,"Especialidad: "),P(),G(8),P(),B(9,"p")(10,"strong"),G(11,"Paciente: "),P(),G(12),P(),B(13,"p")(14,"strong"),G(15,"Estado: "),P(),B(16,"span",6),G(17),P()(),tt(18,V_e,4,1,"p",7)(19,B_e,4,1,"p",7)(20,j_e,4,1,"p",7),B(21,"p")(22,"strong"),G(23,"Fecha: "),P(),G(24),P(),B(25,"p")(26,"strong"),G(27,"Hora: "),P(),G(28),P(),tt(29,U_e,2,0,"button",8),P()),t&2){let n=e.$implicit,i=Pe(2);Z(4),it(" ",n.especialistaNombre," "),Z(4),it(" ",n.especialidad," "),Z(4),it(" ",n.pacienteNombre," "),Z(4),ye("ngClass",Tm(11,R_e,n.estado==="pendiente",n.estado==="cancelado",n.estado==="rechazado",n.estado==="aceptado",n.estado==="realizado")),Z(),it(" ",n.estado," "),Z(),ye("ngIf",n.estado==="cancelado"),Z(),ye("ngIf",n.estado==="rechazado"),Z(),ye("ngIf",n.estado==="realizado"),Z(4),it(" ",i.formatDate(n.turno.toDate(),"EEEE, d MMMM yyyy")," "),Z(4),it(" ",i.formatDate(n.turno.toDate(),"HH:mm")," "),Z(),ye("ngIf",n.estado!=="aceptado"&&n.estado!=="realizado"&&n.estado!=="rechazado"&&n.estado!=="cancelado")}}function z_e(t,e){if(t&1){let n=Jt();B(0,"div",2)(1,"input",3),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.filterText,r)||(s.filterText=r),_t(r)}),Ye("input",function(){vt(n);let r=Pe();return _t(r.filterTurnos())}),P(),tt(2,H_e,30,17,"div",4),P()}if(t&2){let n=Pe();Z(),nr("ngModel",n.filterText),Z(),ye("ngForOf",n.filteredTurnos)}}function $_e(t,e){if(t&1){let n=Jt();B(0,"div",10)(1,"div",11)(2,"span",12),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeCancelModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Cancelar Turno"),P(),B(6,"textarea",13),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToCancel.comentarioCancelacion,r)||(s.turnoToCancel.comentarioCancelacion=r),_t(r)}),P(),B(7,"button",9),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmCancelTurno())}),G(8,"Confirmar Cancelaci\xF3n"),P()()()}if(t&2){let n=Pe();Z(6),nr("ngModel",n.turnoToCancel.comentarioCancelacion)}}var Jz=(()=>{let e=class e{constructor(i){this.authService=i,this.isAdmin=!1,this.turnos=[],this.filteredTurnos=[],this.filterText="",this.showCancelModal=!1,this.turnoToCancel=null}ngOnInit(){this.authService.role$.subscribe(i=>{this.isAdmin=i.esAdmin,this.isAdmin&&this.loadTurnos()})}loadTurnos(){return Se(this,null,function*(){try{let i=yield this.authService.getAllTurnos();for(let r of i){let s=yield this.authService.getEspecialistaData(r.especialista),o=yield this.authService.getPacienteData(r.pacienteId);r.especialistaNombre=s?`${s.nombre} ${s.apellido}`:"Desconocido",r.pacienteNombre=o?`${o.nombre} ${o.apellido}`:"Desconocido",r.turnoDate=r.turno.toDate()}this.turnos=i,this.filteredTurnos=i}catch(i){console.error("Error al cargar turnos:",i)}})}filterTurnos(){let i=this.filterText.toLowerCase();this.filteredTurnos=this.turnos.filter(r=>Object.values(r).some(s=>{if(s instanceof Date){let o=this.formatDate(s,"EEEE, d MMMM yyyy"),a=this.formatDate(s,"HH:mm");return o.toLowerCase().includes(i)||a.toLowerCase().includes(i)}return typeof s=="string"||typeof s=="number"?s.toString().toLowerCase().includes(i):!1}))}openCancelModal(i){this.turnoToCancel=i,this.showCancelModal=!0}closeCancelModal(){this.showCancelModal=!1,this.turnoToCancel=null}confirmCancelTurno(){return Se(this,null,function*(){if(this.turnoToCancel&&this.turnoToCancel.comentarioCancelacion&&this.turnoToCancel.comentarioCancelacion.trim()!=="")try{yield this.authService.cancelarTurno(this.turnoToCancel.id,this.turnoToCancel.comentarioCancelacion),yield this.loadTurnos(),this.closeCancelModal()}catch(i){console.error("Error al cancelar el turno:",i)}else console.error("Debe proporcionar un comentario para cancelar el turno")})}formatDate(i,r){return Mf(i,r,{locale:Pf})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-turnos"]],standalone:!0,features:[wn],decls:3,vars:2,consts:[["class","turnos-container",4,"ngIf"],["id","cancelModal","class","modal",4,"ngIf"],[1,"turnos-container"],["type","text","placeholder","Filtrar turnos",1,"filter-input",3,"ngModelChange","input","ngModel"],["class","turno",4,"ngFor","ngForOf"],[1,"turno"],[3,"ngClass"],[4,"ngIf"],["class","btn-cancelar",3,"click",4,"ngIf"],[1,"btn-cancelar",3,"click"],["id","cancelModal",1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["placeholder","Comentario de cancelaci\xF3n",3,"ngModelChange","ngModel"]],template:function(r,s){r&1&&(B(0,"body"),tt(1,z_e,3,2,"div",0)(2,$_e,9,1,"div",1),P()),r&2&&(Z(),ye("ngIf",s.isAdmin),Z(),ye("ngIf",s.showCancelModal))},dependencies:[hr,Ir,Jr,Ms,_c,Hr,Em,Ur],styles:['body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:90vh;margin:0;background-image:url("./media/fondo-usuarios-2G6PD2YQ.jpg");background-size:cover;background-position:center;font-family:Arial,Helvetica,sans-serif}.turnos-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#d1a054b3;border-radius:8px;box-shadow:0 4px 8px #0000001a;overflow-y:auto;max-height:80vh}.turnos-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:97.5%;padding:8px;margin-bottom:20px;border:1px solid #2e4c6d;border-radius:4px;font-size:14px;text-align:center;background-color:#d2691eb3;color:#2e4c6d}.turno[_ngcontent-%COMP%]{background-color:#d2691eb3;padding:15px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-wrap:wrap;align-items:center}.turno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:16px;color:#2e4c6d;flex:1 1 45%}.turno[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s;flex:1 1 100%;margin:5px}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.btn-cancelar[_ngcontent-%COMP%], .btn-rechazar[_ngcontent-%COMP%]{background-color:#d9534f}.btn-aceptar[_ngcontent-%COMP%]{background-color:#aae7aa}.btn-finalizar[_ngcontent-%COMP%]{background-color:#528052}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#d1a054;margin:15% auto;padding:20px;border:1px solid #2e4c6d;width:80%;max-width:500px;border-radius:8px;box-shadow:0 5px 10px #0003;color:#2e4c6d}.close[_ngcontent-%COMP%]{color:#2e4c6d;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#132d49;text-decoration:none;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100px;padding:10px;margin-top:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s}.btn-cancelar[_ngcontent-%COMP%]:hover, .btn-rechazar[_ngcontent-%COMP%]:hover{background-color:#c9302c}.btn-aceptar[_ngcontent-%COMP%]:hover{background-color:#90c890}.btn-finalizar[_ngcontent-%COMP%]:hover{background-color:#3c643c}.estado-pendiente[_ngcontent-%COMP%]{background-color:#f0f074;padding:0 4px}.estado-cancelado[_ngcontent-%COMP%], .estado-rechazado[_ngcontent-%COMP%]{background-color:#a02d2d;padding:0 4px}.estado-aceptado[_ngcontent-%COMP%]{background-color:#aae7aa;padding:0 4px}.estado-realizado[_ngcontent-%COMP%]{background-color:#528052;padding:0 4px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#2e4c6d}']});let t=e;return t})();var G_e=(t,e,n,i,r)=>({"estado-pendiente":t,"estado-cancelado":e,"estado-rechazado":n,"estado-aceptado":i,"estado-realizado":r});function W_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Cancelaci\xF3n:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioCancelacion," ")}}function q_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Rechazo:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioRechazo," ")}}function X_e(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Rese\xF1a:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioFinalizacion," ")}}function Y_e(t,e){if(t&1&&(B(0,"div")(1,"p")(2,"strong"),G(3),P(),G(4),P()()),t&2){let n=e.$implicit;Z(3),it("",n.clave,":"),Z(),it(" ",n.valor,"")}}function K_e(t,e){if(t&1&&(B(0,"div",22)(1,"h3"),G(2,"Historia Cl\xEDnica"),P(),B(3,"p")(4,"strong"),G(5,"Altura:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Peso:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Temperatura:"),P(),G(14),P(),B(15,"p")(16,"strong"),G(17,"Presi\xF3n:"),P(),G(18),P(),tt(19,Y_e,5,2,"div",23),P()),t&2){let n=Pe(2).$implicit;Z(6),it(" ",n.historiaClinica.altura," cm"),Z(4),it(" ",n.historiaClinica.peso," kg"),Z(4),it(" ",n.historiaClinica.temperatura," \xB0C"),Z(4),it(" ",n.historiaClinica.presion," mmHg"),Z(),ye("ngForOf",n.historiaClinica.datosDinamicos)}}function Q_e(t,e){if(t&1&&(B(0,"div",20),tt(1,K_e,20,5,"div",21),P()),t&2){let n=Pe().$implicit;Z(),ye("ngIf",n.historiaClinicaCargada)}}function Z_e(t,e){if(t&1){let n=Jt();B(0,"button",24),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openEncuestaModal(r))}),G(1," Completar Encuesta "),P()}}function J_e(t,e){if(t&1){let n=Jt();B(0,"button",25),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openCalificarModal(r))}),G(1," Calificar Atenci\xF3n "),P()}}function eye(t,e){if(t&1){let n=Jt();B(0,"button",26),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openVerEncuestaModal(r))}),G(1," Ver Encuesta "),P()}}function tye(t,e){if(t&1){let n=Jt();B(0,"button",27),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openVerCalificacionModal(r))}),G(1," Ver Calificaci\xF3n "),P()}}function nye(t,e){if(t&1){let n=Jt();B(0,"button",28),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openCancelModal(r))}),G(1," Cancelar Turno "),P()}}function iye(t,e){if(t&1&&(B(0,"div",10)(1,"p")(2,"strong"),G(3,"Especialista:"),P(),G(4),P(),B(5,"p")(6,"strong"),G(7,"Especialidad:"),P(),G(8),P(),B(9,"p")(10,"strong"),G(11,"Estado: "),P(),B(12,"span",11),G(13),P()(),tt(14,W_e,4,1,"p",12)(15,q_e,4,1,"p",12)(16,X_e,4,1,"p",12),B(17,"p")(18,"strong"),G(19,"Fecha:"),P(),G(20),P(),B(21,"p")(22,"strong"),G(23,"Hora:"),P(),G(24),P(),tt(25,Q_e,2,1,"div",13),B(26,"div",14),tt(27,Z_e,2,0,"button",15)(28,J_e,2,0,"button",16)(29,eye,2,0,"button",17)(30,tye,2,0,"button",18)(31,nye,2,0,"button",19),P()()),t&2){let n=e.$implicit,i=Pe(2);Z(4),it(" ",n.especialistaNombre," "),Z(4),it(" ",n.especialidad," "),Z(4),ye("ngClass",Tm(15,G_e,n.estado==="pendiente",n.estado==="cancelado",n.estado==="rechazado",n.estado==="aceptado",n.estado==="realizado")),Z(),it(" ",n.estado," "),Z(),ye("ngIf",n.estado==="cancelado"),Z(),ye("ngIf",n.estado==="rechazado"),Z(),ye("ngIf",n.estado==="realizado"),Z(4),it(" ",i.formatDate(n.turno.toDate(),"EEEE, d MMMM yyyy")," "),Z(4),it(" ",i.formatDate(n.turno.toDate(),"HH:mm")," "),Z(),ye("ngIf",n.estado==="realizado"),Z(2),ye("ngIf",n.estado==="realizado"&&!n.encuestaCompleta),Z(),ye("ngIf",n.estado==="realizado"&&!n.calificacionAtencionCompleta),Z(),ye("ngIf",n.estado==="realizado"&&n.encuestaCompleta),Z(),ye("ngIf",n.estado==="realizado"&&n.calificacionAtencionCompleta),Z(),ye("ngIf",n.estado==="pendiente"||n.estado==="aceptado")}}function rye(t,e){if(t&1){let n=Jt();B(0,"div",7)(1,"input",8),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.filterText,r)||(s.filterText=r),_t(r)}),Ye("input",function(){vt(n);let r=Pe();return _t(r.filterTurnos())}),P(),tt(2,iye,32,21,"div",9),P()}if(t&2){let n=Pe();Z(),nr("ngModel",n.filterText),Z(),ye("ngForOf",n.filteredTurnos)}}function sye(t,e){if(t&1){let n=Jt();B(0,"div",29)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Cancelar Turno"),P(),B(6,"textarea",32),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.comentarioCancelacion,r)||(s.turnoToModify.comentarioCancelacion=r),_t(r)}),P(),B(7,"button",28),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmCancelTurno())}),G(8,"Confirmar Cancelaci\xF3n"),P()()()}if(t&2){let n=Pe();Z(6),nr("ngModel",n.turnoToModify.comentarioCancelacion)}}function oye(t,e){if(t&1){let n=Jt();B(0,"div",33)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Completar Encuesta"),P(),B(6,"form",34,0),Ye("ngSubmit",function(){vt(n);let r=Pe();return _t(r.confirmarEncuesta())}),B(8,"div")(9,"label"),G(10,"\xBFC\xF3mo calificar\xEDa la puntualidad del especialista?"),P(),B(11,"select",35),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.encuestaComentario.puntualidad,r)||(s.turnoToModify.encuestaComentario.puntualidad=r),_t(r)}),B(12,"option",36),G(13,"Seleccione una opci\xF3n"),P(),B(14,"option",37),G(15,"Excelente"),P(),B(16,"option",38),G(17,"Bueno"),P(),B(18,"option",39),G(19,"Regular"),P(),B(20,"option",40),G(21,"Malo"),P()()(),B(22,"div")(23,"label"),G(24,"\xBFEl especialista explic\xF3 claramente su diagn\xF3stico y tratamiento?"),P(),B(25,"select",41),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.encuestaComentario.diagnostico,r)||(s.turnoToModify.encuestaComentario.diagnostico=r),_t(r)}),B(26,"option",36),G(27,"Seleccione una opci\xF3n"),P(),B(28,"option",42),G(29,"Totalmente de acuerdo"),P(),B(30,"option",43),G(31,"De acuerdo"),P(),B(32,"option",44),G(33,"En desacuerdo"),P(),B(34,"option",45),G(35,"Totalmente en desacuerdo"),P()()(),B(36,"div")(37,"label"),G(38,"\xBFQu\xE9 le pareci\xF3 la limpieza y el orden del establecimiento?"),P(),B(39,"select",46),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.encuestaComentario.limpieza,r)||(s.turnoToModify.encuestaComentario.limpieza=r),_t(r)}),B(40,"option",36),G(41,"Seleccione una opci\xF3n"),P(),B(42,"option",37),G(43,"Excelente"),P(),B(44,"option",38),G(45,"Bueno"),P(),B(46,"option",39),G(47,"Regular"),P(),B(48,"option",40),G(49,"Malo"),P()()(),B(50,"div")(51,"label"),G(52,"\xBFSe sinti\xF3 c\xF3modo y atendido durante su consulta?"),P(),B(53,"select",47),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.encuestaComentario.comodidad,r)||(s.turnoToModify.encuestaComentario.comodidad=r),_t(r)}),B(54,"option",36),G(55,"Seleccione una opci\xF3n"),P(),B(56,"option",48),G(57,"S\xED, completamente"),P(),B(58,"option",49),G(59,"S\xED, en su mayor\xEDa"),P(),B(60,"option",50),G(61,"No mucho"),P(),B(62,"option",51),G(63,"No, para nada"),P()()(),B(64,"div")(65,"label"),G(66,"\xBFQu\xE9 tan satisfecho est\xE1 con la atenci\xF3n recibida en general?"),P(),B(67,"select",52),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.encuestaComentario.satisfaccion,r)||(s.turnoToModify.encuestaComentario.satisfaccion=r),_t(r)}),B(68,"option",36),G(69,"Seleccione una opci\xF3n"),P(),B(70,"option",53),G(71,"Muy satisfecho"),P(),B(72,"option",54),G(73,"Satisfecho"),P(),B(74,"option",55),G(75,"Insatisfecho"),P(),B(76,"option",56),G(77,"Muy insatisfecho"),P()()(),B(78,"button",57),G(79,"Enviar Encuesta"),P()()()()}if(t&2){let n=Pe();Z(11),nr("ngModel",n.turnoToModify.encuestaComentario.puntualidad),Z(14),nr("ngModel",n.turnoToModify.encuestaComentario.diagnostico),Z(14),nr("ngModel",n.turnoToModify.encuestaComentario.limpieza),Z(14),nr("ngModel",n.turnoToModify.encuestaComentario.comodidad),Z(14),nr("ngModel",n.turnoToModify.encuestaComentario.satisfaccion)}}function aye(t,e){if(t&1){let n=Jt();B(0,"div",58)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Calificar Atenci\xF3n"),P(),B(6,"div",59)(7,"label")(8,"input",60),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.calificacionAtencion,r)||(s.turnoToModify.calificacionAtencion=r),_t(r)}),P(),G(9," 1 "),P(),B(10,"label")(11,"input",61),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.calificacionAtencion,r)||(s.turnoToModify.calificacionAtencion=r),_t(r)}),P(),G(12," 2 "),P(),B(13,"label")(14,"input",62),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.calificacionAtencion,r)||(s.turnoToModify.calificacionAtencion=r),_t(r)}),P(),G(15," 3 "),P(),B(16,"label")(17,"input",63),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.calificacionAtencion,r)||(s.turnoToModify.calificacionAtencion=r),_t(r)}),P(),G(18," 4 "),P(),B(19,"label")(20,"input",64),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.calificacionAtencion,r)||(s.turnoToModify.calificacionAtencion=r),_t(r)}),P(),G(21," 5 "),P()(),B(22,"button",25),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmarCalificacion())}),G(23,"Enviar Calificaci\xF3n"),P()()()}if(t&2){let n=Pe();Z(8),nr("ngModel",n.turnoToModify.calificacionAtencion),Z(3),nr("ngModel",n.turnoToModify.calificacionAtencion),Z(3),nr("ngModel",n.turnoToModify.calificacionAtencion),Z(3),nr("ngModel",n.turnoToModify.calificacionAtencion),Z(3),nr("ngModel",n.turnoToModify.calificacionAtencion)}}function lye(t,e){if(t&1){let n=Jt();B(0,"div",65)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Ver Encuesta"),P(),B(6,"p")(7,"strong"),G(8,"Puntualidad:"),P(),G(9),P(),B(10,"p")(11,"strong"),G(12,"Diagn\xF3stico:"),P(),G(13),P(),B(14,"p")(15,"strong"),G(16,"Limpieza:"),P(),G(17),P(),B(18,"p")(19,"strong"),G(20,"Comodidad:"),P(),G(21),P(),B(22,"p")(23,"strong"),G(24,"Satisfacci\xF3n:"),P(),G(25),P()()()}if(t&2){let n=Pe();Z(9),it(" ",n.turnoToModify.encuestaComentario.puntualidad,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.diagnostico,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.limpieza,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.comodidad,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.satisfaccion,"")}}function cye(t,e){if(t&1){let n=Jt();B(0,"div",66)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Ver Calificaci\xF3n"),P(),B(6,"p")(7,"strong"),G(8,"Calificaci\xF3n de Atenci\xF3n:"),P(),G(9),P()()()}if(t&2){let n=Pe();Z(9),it(" ",n.turnoToModify.calificacionAtencion,"")}}var e$=(()=>{let e=class e{constructor(i){this.authService=i,this.isPaciente=!1,this.turnos=[],this.filteredTurnos=[],this.filterText="",this.showCancelModal=!1,this.showEncuestaModal=!1,this.showCalificarModal=!1,this.showVerEncuestaModal=!1,this.showVerCalificacionModal=!1,this.showHistoriaClinicaModal=!1,this.turnoToModify=null}ngOnInit(){this.authService.role$.subscribe(i=>Se(this,null,function*(){this.isPaciente=i.esPaciente,this.isPaciente&&(yield this.loadTurnos())}))}loadTurnos(){return Se(this,null,function*(){try{let i=yield this.authService.getCurrentUser();if(i){let r=yield this.authService.getTurnosByPaciente(i.uid);for(let s of r){let o=yield this.authService.getEspecialistaData(s.especialista);s.especialistaNombre=o?`${o.nombre} ${o.apellido}`:"Desconocido",s.turnoDate=s.turno.toDate(),s.encuestaComentario||(s.encuestaComentario={puntualidad:"",diagnostico:"",limpieza:"",comodidad:"",satisfaccion:""}),s.historiaClinica||(s.historiaClinica={}),s.historiaClinicaCargada=!!s.historiaClinica.altura}this.turnos=r,this.filteredTurnos=r}}catch(i){console.error("Error al cargar turnos:",i)}})}filterTurnos(){let i=this.filterText.toLowerCase();this.filteredTurnos=this.turnos.filter(r=>Object.values(r).some(s=>{if(s instanceof Date){let o=this.formatDate(s,"EEEE, d MMMM yyyy"),a=this.formatDate(s,"HH:mm");return o.toLowerCase().includes(i)||a.toLowerCase().includes(i)}if(typeof s=="string"||typeof s=="number")return s.toString().toLowerCase().includes(i);if(typeof s=="object"&&s!==null)if("altura"in s||"peso"in s||"temperatura"in s||"presion"in s){let o=s;return o.altura?.toString().toLowerCase().includes(i)||o.peso?.toString().toLowerCase().includes(i)||o.temperatura?.toString().toLowerCase().includes(i)||o.presion?.toString().toLowerCase().includes(i)||o.datosDinamicos&&o.datosDinamicos.some(a=>a.clave.toLowerCase().includes(i)||a.valor.toLowerCase().includes(i))}else return Object.values(s).some(o=>typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(i):!1);return!1}))}openCancelModal(i){this.turnoToModify=i,this.showCancelModal=!0}openEncuestaModal(i){this.turnoToModify=i,this.turnoToModify.encuestaComentario||(this.turnoToModify.encuestaComentario={puntualidad:"",diagnostico:"",limpieza:"",comodidad:"",satisfaccion:""}),this.showEncuestaModal=!0}openCalificarModal(i){this.turnoToModify=i,this.turnoToModify.calificacionAtencion=null,this.showCalificarModal=!0}openVerEncuestaModal(i){this.turnoToModify=i,this.turnoToModify.encuestaComentario||(this.turnoToModify.encuestaComentario={puntualidad:"",diagnostico:"",limpieza:"",comodidad:"",satisfaccion:""}),this.showVerEncuestaModal=!0}openVerCalificacionModal(i){this.turnoToModify=i,this.showVerCalificacionModal=!0}openHistoriaClinicaModal(i){this.turnoToModify=i,this.showHistoriaClinicaModal=!0}closeModal(){this.showCancelModal=!1,this.showEncuestaModal=!1,this.showCalificarModal=!1,this.showVerEncuestaModal=!1,this.showVerCalificacionModal=!1,this.showHistoriaClinicaModal=!1,this.turnoToModify=null}confirmCancelTurno(){return Se(this,null,function*(){if(this.turnoToModify&&this.turnoToModify.comentarioCancelacion&&this.turnoToModify.comentarioCancelacion.trim()!=="")try{yield this.authService.cancelarTurno(this.turnoToModify.id,this.turnoToModify.comentarioCancelacion),this.turnoToModify.estado="cancelado",this.turnoToModify.comentarioCancelacion="",yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al cancelar el turno:",i)}else console.error("Debe proporcionar un comentario para cancelar el turno")})}confirmarEncuesta(){return Se(this,null,function*(){if(this.turnoToModify.encuestaComentario.puntualidad&&this.turnoToModify.encuestaComentario.diagnostico&&this.turnoToModify.encuestaComentario.limpieza&&this.turnoToModify.encuestaComentario.comodidad&&this.turnoToModify.encuestaComentario.satisfaccion)try{yield this.authService.completarEncuesta(this.turnoToModify.id,this.turnoToModify.encuestaComentario),this.turnoToModify.encuestaCompleta=!0,yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al enviar la encuesta:",i)}else console.error("Debe completar todos los campos de la encuesta")})}confirmarCalificacion(){return Se(this,null,function*(){if(this.turnoToModify.calificacionAtencion)try{yield this.authService.calificarAtencion(this.turnoToModify.id,this.turnoToModify.calificacionAtencion),this.turnoToModify.calificacionAtencionCompleta=!0,yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al enviar la calificaci\xF3n:",i)}else console.error("Debe seleccionar una calificaci\xF3n")})}formatDate(i,r){return Mf(i,r,{locale:Pf})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-mis-turnos-pac"]],standalone:!0,features:[wn],decls:7,vars:6,consts:[["encuestaForm","ngForm"],["class","turnos-container",4,"ngIf"],["id","cancelModal","class","modal",4,"ngIf"],["id","encuestaModal","class","modal",4,"ngIf"],["id","calificarModal","class","modal",4,"ngIf"],["id","verEncuestaModal","class","modal",4,"ngIf"],["id","verCalificacionModal","class","modal",4,"ngIf"],[1,"turnos-container"],["type","text","placeholder","Filtrar turnos",1,"filter-input",3,"ngModelChange","input","ngModel"],["class","turno",4,"ngFor","ngForOf"],[1,"turno"],[3,"ngClass"],[4,"ngIf"],["class","historia-clinica-container",4,"ngIf"],[1,"button-group"],["class","btn-encuesta",3,"click",4,"ngIf"],["class","btn-calificar",3,"click",4,"ngIf"],["class","btn-ver-encuesta",3,"click",4,"ngIf"],["class","btn-ver-calificacion",3,"click",4,"ngIf"],["class","btn-cancelar",3,"click",4,"ngIf"],[1,"historia-clinica-container"],["class","historia-clinica",4,"ngIf"],[1,"historia-clinica"],[4,"ngFor","ngForOf"],[1,"btn-encuesta",3,"click"],[1,"btn-calificar",3,"click"],[1,"btn-ver-encuesta",3,"click"],[1,"btn-ver-calificacion",3,"click"],[1,"btn-cancelar",3,"click"],["id","cancelModal",1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["placeholder","Comentario de cancelaci\xF3n",3,"ngModelChange","ngModel"],["id","encuestaModal",1,"modal"],[3,"ngSubmit"],["name","puntualidad","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","Excelente"],["value","Bueno"],["value","Regular"],["value","Malo"],["name","diagnostico","required","",3,"ngModelChange","ngModel"],["value","Totalmente de acuerdo"],["value","De acuerdo"],["value","En desacuerdo"],["value","Totalmente en desacuerdo"],["name","limpieza","required","",3,"ngModelChange","ngModel"],["name","comodidad","required","",3,"ngModelChange","ngModel"],["value","S\xED, completamente"],["value","S\xED, en su mayor\xEDa"],["value","No mucho"],["value","No, para nada"],["name","satisfaccion","required","",3,"ngModelChange","ngModel"],["value","Muy satisfecho"],["value","Satisfecho"],["value","Insatisfecho"],["value","Muy insatisfecho"],["type","submit",1,"btn-encuesta"],["id","calificarModal",1,"modal"],[1,"calificacion"],["type","radio","name","rating","value","1",3,"ngModelChange","ngModel"],["type","radio","name","rating","value","2",3,"ngModelChange","ngModel"],["type","radio","name","rating","value","3",3,"ngModelChange","ngModel"],["type","radio","name","rating","value","4",3,"ngModelChange","ngModel"],["type","radio","name","rating","value","5",3,"ngModelChange","ngModel"],["id","verEncuestaModal",1,"modal"],["id","verCalificacionModal",1,"modal"]],template:function(r,s){r&1&&(B(0,"body"),tt(1,rye,3,2,"div",1)(2,sye,9,1,"div",2)(3,oye,80,5,"div",3)(4,aye,24,5,"div",4)(5,lye,26,5,"div",5)(6,cye,10,1,"div",6),P()),r&2&&(Z(),ye("ngIf",s.isPaciente),Z(),ye("ngIf",s.showCancelModal),Z(),ye("ngIf",s.showEncuestaModal),Z(),ye("ngIf",s.showCalificarModal),Z(),ye("ngIf",s.showVerEncuestaModal),Z(),ye("ngIf",s.showVerCalificacionModal))},dependencies:[hr,Ir,Ml,B2,j2,Jr,zm,O1,Ms,Il,xc,_c,HD,Hr,Em,Ur],styles:['body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:90vh;margin:0;background-image:url("./media/fondo-usuarios-2G6PD2YQ.jpg");background-size:cover;background-position:center;font-family:Arial,Helvetica,sans-serif}.turnos-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#d1a054b3;border-radius:8px;box-shadow:0 4px 8px #0000001a;overflow-y:auto;max-height:80vh}.turnos-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:97.5%;padding:8px;margin-bottom:20px;border:1px solid #2e4c6d;border-radius:4px;font-size:14px;text-align:center;background-color:#d2691eb3;color:#2e4c6d}.turno[_ngcontent-%COMP%]{background-color:#d2691eb3;padding:15px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-wrap:wrap;align-items:center}.turno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:16px;color:#2e4c6d;flex:1 1 45%}.turno[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s;margin:5px}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.turno[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]{background-color:#d9534f}.turno[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c9302c}.turno[_ngcontent-%COMP%]   .btn-rechazar[_ngcontent-%COMP%]{background-color:#d9534f}.turno[_ngcontent-%COMP%]   .btn-aceptar[_ngcontent-%COMP%]{background-color:#aae7aa}.turno[_ngcontent-%COMP%]   .btn-finalizar[_ngcontent-%COMP%]{background-color:#528052}.turno[_ngcontent-%COMP%]   .btn-encuesta[_ngcontent-%COMP%], .btn-calificar[_ngcontent-%COMP%], .btn-ver-encuesta[_ngcontent-%COMP%], .btn-ver-calificacion[_ngcontent-%COMP%]{background-color:plum}.turno[_ngcontent-%COMP%]   .btn-encuesta[_ngcontent-%COMP%]:hover, .btn-calificar[_ngcontent-%COMP%]:hover, .btn-ver-encuesta[_ngcontent-%COMP%]:hover, .btn-ver-calificacion[_ngcontent-%COMP%]:hover{background-color:#cbacba}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#d1a054;margin:auto;padding:20px;border:1px solid #2e4c6d;width:80%;max-width:500px;border-radius:8px;box-shadow:0 5px 10px #0003;color:#2e4c6d;text-align:left}.close[_ngcontent-%COMP%]{color:#2e4c6d;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#132d49;text-decoration:none;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;text-align:center}.modal-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s;display:block;margin-left:auto;margin-right:auto;background-color:#d2691e}.btn-cancelar[_ngcontent-%COMP%]:hover, .btn-rechazar[_ngcontent-%COMP%]:hover{background-color:#b52b27}.btn-aceptar[_ngcontent-%COMP%]:hover{background-color:#90c890}.btn-finalizar[_ngcontent-%COMP%]:hover{background-color:#3c643c}.estado-pendiente[_ngcontent-%COMP%]{background-color:#f0f074;padding:0 4px}.estado-cancelado[_ngcontent-%COMP%], .estado-rechazado[_ngcontent-%COMP%]{background-color:#a02d2d;padding:0 4px}.estado-aceptado[_ngcontent-%COMP%]{background-color:#aae7aa;padding:0 4px}.estado-realizado[_ngcontent-%COMP%]{background-color:#528052;padding:0 4px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#2e4c6d}.modal-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.modal-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0 5px}.btn-eliminar-dato[_ngcontent-%COMP%]{background-color:#d9b51c;margin-left:10px}.btn-eliminar-dato[_ngcontent-%COMP%]:hover{background-color:#bfa311}.historia-clinica-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.historia-clinica[_ngcontent-%COMP%]{border:1px solid #2e4c6d;padding:15px;border-radius:8px;background-color:#ffffff80;width:100%;max-width:400px;margin-bottom:20px}.historia-clinica[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px;color:#2e4c6d}.historia-clinica[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#2e4c6d}.historia-clinica[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#2e4c6d}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;min-width:150px;max-width:200px;margin-bottom:10px}']});let t=e;return t})();var uye=(t,e,n,i,r)=>({"estado-pendiente":t,"estado-cancelado":e,"estado-rechazado":n,"estado-aceptado":i,"estado-realizado":r});function dye(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Cancelaci\xF3n:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioCancelacion," ")}}function hye(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Comentario de Rechazo:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioRechazo," ")}}function fye(t,e){if(t&1&&(B(0,"p")(1,"strong"),G(2,"Rese\xF1a:"),P(),G(3),P()),t&2){let n=Pe().$implicit;Z(3),it(" ",n.comentarioFinalizacion," ")}}function pye(t,e){if(t&1){let n=Jt();B(0,"div")(1,"button",18),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openCancelModal(r))}),G(2," Cancelar turno "),P(),B(3,"button",19),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openRejectModal(r))}),G(4," Rechazar turno "),P(),B(5,"button",20),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.aceptarTurno(r))}),G(6," Aceptar turno "),P()()}}function mye(t,e){if(t&1){let n=Jt();B(0,"div")(1,"button",18),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openCancelModal(r))}),G(2," Cancelar turno "),P(),B(3,"button",21),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openFinishModal(r))}),G(4," Finalizar turno "),P()()}}function gye(t,e){if(t&1&&(B(0,"div")(1,"p")(2,"strong"),G(3),P(),G(4),P()()),t&2){let n=e.$implicit;Z(3),it("",n.clave,":"),Z(),it(" ",n.valor,"")}}function vye(t,e){if(t&1&&(B(0,"div",24)(1,"h3"),G(2,"Historia Cl\xEDnica"),P(),B(3,"p")(4,"strong"),G(5,"Altura:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Peso:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Temperatura:"),P(),G(14),P(),B(15,"p")(16,"strong"),G(17,"Presi\xF3n:"),P(),G(18),P(),tt(19,gye,5,2,"div",25),P()),t&2){let n=Pe(2).$implicit;Z(6),it(" ",n.historiaClinica.altura," cm"),Z(4),it(" ",n.historiaClinica.peso," kg"),Z(4),it(" ",n.historiaClinica.temperatura," \xB0C"),Z(4),it(" ",n.historiaClinica.presion," mmHg"),Z(),ye("ngForOf",n.historiaClinica.datosDinamicos)}}function _ye(t,e){if(t&1&&(B(0,"div",22),tt(1,vye,20,5,"div",23),P()),t&2){let n=Pe().$implicit;Z(),ye("ngIf",n.historiaClinicaCargada)}}function yye(t,e){if(t&1){let n=Jt();B(0,"button",26),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openHistoriaClinicaModal(r))}),G(1," Cargar historia cl\xEDnica "),P()}}function xye(t,e){if(t&1){let n=Jt();B(0,"button",27),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openVerEncuestaModal(r))}),G(1," Ver Encuesta "),P()}}function wye(t,e){if(t&1){let n=Jt();B(0,"button",28),Ye("click",function(){vt(n);let r=Pe().$implicit,s=Pe(2);return _t(s.openVerCalificacionModal(r))}),G(1," Ver Calificaci\xF3n "),P()}}function bye(t,e){if(t&1&&(B(0,"div",10)(1,"p")(2,"strong"),G(3,"Paciente:"),P(),G(4),P(),B(5,"p")(6,"strong"),G(7,"Especialidad:"),P(),G(8),P(),B(9,"p")(10,"strong"),G(11,"Estado: "),P(),B(12,"span",11),G(13),P()(),tt(14,dye,4,1,"p",12)(15,hye,4,1,"p",12)(16,fye,4,1,"p",12),B(17,"p")(18,"strong"),G(19,"Fecha:"),P(),G(20),P(),B(21,"p")(22,"strong"),G(23,"Hora:"),P(),G(24),P(),tt(25,pye,7,0,"div",12)(26,mye,5,0,"div",12)(27,_ye,2,1,"div",13),B(28,"div",14),tt(29,yye,2,0,"button",15)(30,xye,2,0,"button",16)(31,wye,2,0,"button",17),P()()),t&2){let n=e.$implicit,i=Pe(2);Z(4),it(" ",n.pacienteNombre," "),Z(4),it(" ",n.especialidad," "),Z(4),ye("ngClass",Tm(15,uye,n.estado==="pendiente",n.estado==="cancelado",n.estado==="rechazado",n.estado==="aceptado",n.estado==="realizado")),Z(),it(" ",n.estado," "),Z(),ye("ngIf",n.estado==="cancelado"),Z(),ye("ngIf",n.estado==="rechazado"),Z(),ye("ngIf",n.estado==="realizado"),Z(4),it(" ",i.formatDate(n.turno.toDate(),"EEEE, d MMMM yyyy")," "),Z(4),it(" ",i.formatDate(n.turno.toDate(),"HH:mm")," "),Z(),ye("ngIf",n.estado==="pendiente"),Z(),ye("ngIf",n.estado==="aceptado"),Z(),ye("ngIf",n.estado==="realizado"),Z(2),ye("ngIf",n.estado==="realizado"&&!n.historiaClinicaCargada),Z(),ye("ngIf",n.encuestaCompleta),Z(),ye("ngIf",n.calificacionAtencionCompleta)}}function Cye(t,e){if(t&1){let n=Jt();B(0,"div",7)(1,"input",8),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.filterText,r)||(s.filterText=r),_t(r)}),Ye("input",function(){vt(n);let r=Pe();return _t(r.filterTurnos())}),P(),tt(2,bye,32,21,"div",9),P()}if(t&2){let n=Pe();Z(),nr("ngModel",n.filterText),Z(),ye("ngForOf",n.filteredTurnos)}}function Tye(t,e){if(t&1){let n=Jt();B(0,"div",29)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Cancelar Turno"),P(),B(6,"textarea",32),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.comentarioCancelacion,r)||(s.turnoToModify.comentarioCancelacion=r),_t(r)}),P(),B(7,"button",18),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmCancelTurno())}),G(8,"Confirmar cancelaci\xF3n"),P()()()}if(t&2){let n=Pe();Z(6),nr("ngModel",n.turnoToModify.comentarioCancelacion)}}function Sye(t,e){if(t&1){let n=Jt();B(0,"div",33)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Rechazar Turno"),P(),B(6,"textarea",34),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.comentarioRechazo,r)||(s.turnoToModify.comentarioRechazo=r),_t(r)}),P(),B(7,"button",19),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmRejectTurno())}),G(8,"Confirmar rechazo"),P()()()}if(t&2){let n=Pe();Z(6),nr("ngModel",n.turnoToModify.comentarioRechazo)}}function Eye(t,e){if(t&1){let n=Jt();B(0,"div",35)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Finalizar Turno"),P(),B(6,"textarea",36),ir("ngModelChange",function(r){vt(n);let s=Pe();return ur(s.turnoToModify.comentarioFinalizacion,r)||(s.turnoToModify.comentarioFinalizacion=r),_t(r)}),P(),B(7,"button",21),Ye("click",function(){vt(n);let r=Pe();return _t(r.confirmFinishTurno())}),G(8,"Confirmar finalizaci\xF3n"),P()()()}if(t&2){let n=Pe();Z(6),nr("ngModel",n.turnoToModify.comentarioFinalizacion)}}function Aye(t,e){if(t&1){let n=Jt();B(0,"div",47),Ft(1,"input",48)(2,"input",49),B(3,"button",50),Ye("click",function(){let r=vt(n).index,s=Pe(2);return _t(s.eliminarDatoDinamico(r))}),G(4,"Eliminar dato din\xE1mico"),P()()}if(t&2){let n=e.index;ye("formGroupName",n)}}function kye(t,e){if(t&1){let n=Jt();B(0,"div",37)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Cargar Historia Cl\xEDnica"),P(),B(6,"form",38),Ye("ngSubmit",function(){vt(n);let r=Pe();return _t(r.confirmHistoriaClinica())}),Ft(7,"input",39)(8,"input",40)(9,"input",41)(10,"input",42),B(11,"div",43),tt(12,Aye,5,1,"div",44),P(),B(13,"div",14)(14,"button",45),Ye("click",function(){vt(n);let r=Pe();return _t(r.agregarDatoDinamico())}),G(15,"Agregar dato din\xE1mico"),P(),B(16,"button",46),G(17,"Confirmar historia cl\xEDnica"),P()()()()()}if(t&2){let n=Pe();Z(6),ye("formGroup",n.historiaClinicaForm),Z(6),ye("ngForOf",n.datosDinamicos.controls)}}function Dye(t,e){if(t&1){let n=Jt();B(0,"div",51)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Ver Encuesta"),P(),B(6,"p")(7,"strong"),G(8,"Puntualidad:"),P(),G(9),P(),B(10,"p")(11,"strong"),G(12,"Diagn\xF3stico:"),P(),G(13),P(),B(14,"p")(15,"strong"),G(16,"Limpieza:"),P(),G(17),P(),B(18,"p")(19,"strong"),G(20,"Comodidad:"),P(),G(21),P(),B(22,"p")(23,"strong"),G(24,"Satisfacci\xF3n:"),P(),G(25),P()()()}if(t&2){let n=Pe();Z(9),it(" ",n.turnoToModify.encuestaComentario.puntualidad,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.diagnostico,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.limpieza,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.comodidad,""),Z(4),it(" ",n.turnoToModify.encuestaComentario.satisfaccion,"")}}function Iye(t,e){if(t&1){let n=Jt();B(0,"div",52)(1,"div",30)(2,"span",31),Ye("click",function(){vt(n);let r=Pe();return _t(r.closeModal())}),G(3,"\xD7"),P(),B(4,"h2"),G(5,"Ver calificaci\xF3n"),P(),B(6,"p")(7,"strong"),G(8,"Calificaci\xF3n de Atenci\xF3n:"),P(),G(9),P()()()}if(t&2){let n=Pe();Z(9),it(" ",n.turnoToModify.calificacionAtencion,"")}}var t$=(()=>{let e=class e{constructor(i,r){this.authService=i,this.formBuilder=r,this.isEspecialista=!1,this.turnos=[],this.filteredTurnos=[],this.filterText="",this.showCancelModal=!1,this.showRejectModal=!1,this.showFinishModal=!1,this.showVerEncuestaModal=!1,this.showVerCalificacionModal=!1,this.showHistoriaClinicaModal=!1,this.turnoToModify=null,this.historiaClinicaForm=this.formBuilder.group({altura:["",[on.required,on.pattern("^[0-9]*$")]],peso:["",[on.required,on.pattern("^[0-9]*$")]],temperatura:["",[on.required,on.pattern("^[0-9]*$")]],presion:["",[on.required,on.pattern("^[0-9]*$")]],datosDinamicos:this.formBuilder.array([])})}ngOnInit(){this.authService.role$.subscribe(i=>Se(this,null,function*(){this.isEspecialista=i.esEspecialista,this.isEspecialista&&(yield this.loadTurnos())}))}get datosDinamicos(){return this.historiaClinicaForm.get("datosDinamicos")}agregarDatoDinamico(){this.datosDinamicos.length<3&&this.datosDinamicos.push(this.formBuilder.group({clave:["",on.required],valor:["",on.required]}))}eliminarDatoDinamico(i){this.datosDinamicos.removeAt(i)}loadTurnos(){return Se(this,null,function*(){try{let i=yield this.authService.getCurrentUser();if(i){let r=yield this.authService.getTurnosByEspecialista(i.uid);for(let s of r){let o=yield this.authService.getPacienteData(s.pacienteId);s.pacienteNombre=o?`${o.nombre} ${o.apellido}`:"Desconocido",s.turnoDate=s.turno.toDate(),s.encuestaComentario||(s.encuestaComentario={puntualidad:"",diagnostico:"",limpieza:"",comodidad:"",satisfaccion:""}),s.historiaClinica||(s.historiaClinica={}),s.historiaClinicaCargada=!!s.historiaClinica.altura}this.turnos=r,this.filteredTurnos=r}}catch(i){console.error("Error al cargar turnos:",i)}})}filterTurnos(){let i=this.filterText.toLowerCase();this.filteredTurnos=this.turnos.filter(r=>Object.values(r).some(s=>{if(s instanceof Date){let o=this.formatDate(s,"EEEE, d MMMM yyyy"),a=this.formatDate(s,"HH:mm");return o.toLowerCase().includes(i)||a.toLowerCase().includes(i)}if(typeof s=="string"||typeof s=="number")return s.toString().toLowerCase().includes(i);if(typeof s=="object"&&s!==null)if("altura"in s||"peso"in s||"temperatura"in s||"presion"in s){let o=s;return o.altura?.toString().toLowerCase().includes(i)||o.peso?.toString().toLowerCase().includes(i)||o.temperatura?.toString().toLowerCase().includes(i)||o.presion?.toString().toLowerCase().includes(i)||o.datosDinamicos&&o.datosDinamicos.some(a=>a.clave.toLowerCase().includes(i)||a.valor.toLowerCase().includes(i))}else return Object.values(s).some(o=>typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(i):!1);return!1}))}openCancelModal(i){this.turnoToModify=i,this.showCancelModal=!0}openRejectModal(i){this.turnoToModify=i,this.showRejectModal=!0}openFinishModal(i){this.turnoToModify=i,this.showFinishModal=!0}openVerEncuestaModal(i){this.turnoToModify=i,this.showVerEncuestaModal=!0}openVerCalificacionModal(i){this.turnoToModify=i,this.showVerCalificacionModal=!0}openHistoriaClinicaModal(i){this.turnoToModify=i,this.showHistoriaClinicaModal=!0}closeModal(){this.showCancelModal=!1,this.showRejectModal=!1,this.showFinishModal=!1,this.showVerEncuestaModal=!1,this.showVerCalificacionModal=!1,this.showHistoriaClinicaModal=!1,this.turnoToModify=null}confirmCancelTurno(){return Se(this,null,function*(){if(this.turnoToModify&&this.turnoToModify.comentarioCancelacion&&this.turnoToModify.comentarioCancelacion.trim()!=="")try{yield this.authService.cancelarTurno(this.turnoToModify.id,this.turnoToModify.comentarioCancelacion),this.turnoToModify.estado="cancelado",this.turnoToModify.comentarioCancelacion="",yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al cancelar el turno:",i)}else console.error("Debe proporcionar un comentario para cancelar el turno")})}confirmRejectTurno(){return Se(this,null,function*(){if(this.turnoToModify&&this.turnoToModify.comentarioRechazo&&this.turnoToModify.comentarioRechazo.trim()!=="")try{yield this.authService.rechazarTurno(this.turnoToModify.id,this.turnoToModify.comentarioRechazo),this.turnoToModify.estado="rechazado",this.turnoToModify.comentarioRechazo="",yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al rechazar el turno:",i)}else console.error("Debe proporcionar un comentario para rechazar el turno")})}confirmFinishTurno(){return Se(this,null,function*(){if(this.turnoToModify&&this.turnoToModify.comentarioFinalizacion&&this.turnoToModify.comentarioFinalizacion.trim()!=="")try{yield this.authService.finalizarTurno(this.turnoToModify.id,this.turnoToModify.comentarioFinalizacion),this.turnoToModify.estado="realizado",this.turnoToModify.comentarioFinalizacion="",yield this.loadTurnos(),this.closeModal()}catch(i){console.error("Error al finalizar el turno:",i)}else console.error("Debe proporcionar un comentario para finalizar el turno")})}aceptarTurno(i){return Se(this,null,function*(){try{yield this.authService.aceptarTurno(i.id),i.estado="aceptado",yield this.loadTurnos()}catch(r){console.error("Error al aceptar el turno:",r)}})}confirmHistoriaClinica(){return Se(this,null,function*(){if(this.historiaClinicaForm.valid&&this.turnoToModify)try{let i=this.historiaClinicaForm.value;yield this.authService.cargarHistoriaClinica(this.turnoToModify.id,i),this.turnoToModify.historiaClinica=i,this.turnoToModify.historiaClinicaCargada=!0,this.filteredTurnos=this.turnos.map(r=>r.id===this.turnoToModify.id?this.turnoToModify:r),this.closeModal()}catch(i){console.error("Error al cargar la historia cl\xEDnica:",i)}else console.error("Debe completar todos los campos de la historia cl\xEDnica")})}formatDate(i,r){return Mf(i,r,{locale:Pf})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn),Je(du))},e.\u0275cmp=fn({type:e,selectors:[["app-mis-turnos-esp"]],standalone:!0,features:[wn],decls:8,vars:7,consts:[["class","turnos-container",4,"ngIf"],["id","cancelModal","class","modal",4,"ngIf"],["id","rejectModal","class","modal",4,"ngIf"],["id","finishModal","class","modal",4,"ngIf"],["id","cargarHistoriaClinicaModal","class","modal",4,"ngIf"],["id","verEncuestaModal","class","modal",4,"ngIf"],["id","verCalificacionModal","class","modal",4,"ngIf"],[1,"turnos-container"],["type","text","placeholder","Filtrar turnos",1,"filter-input",3,"ngModelChange","input","ngModel"],["class","turno",4,"ngFor","ngForOf"],[1,"turno"],[3,"ngClass"],[4,"ngIf"],["class","historia-clinica-container",4,"ngIf"],[1,"button-group"],["class","btn-cargar-historia-clinica",3,"click",4,"ngIf"],["class","btn-ver-encuesta",3,"click",4,"ngIf"],["class","btn-ver-calificacion",3,"click",4,"ngIf"],[1,"btn-cancelar",3,"click"],[1,"btn-rechazar",3,"click"],[1,"btn-aceptar",3,"click"],[1,"btn-finalizar",3,"click"],[1,"historia-clinica-container"],["class","historia-clinica",4,"ngIf"],[1,"historia-clinica"],[4,"ngFor","ngForOf"],[1,"btn-cargar-historia-clinica",3,"click"],[1,"btn-ver-encuesta",3,"click"],[1,"btn-ver-calificacion",3,"click"],["id","cancelModal",1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["placeholder","Comentario de cancelaci\xF3n",3,"ngModelChange","ngModel"],["id","rejectModal",1,"modal"],["placeholder","Comentario de rechazo",3,"ngModelChange","ngModel"],["id","finishModal",1,"modal"],["placeholder","Comentario de finalizaci\xF3n",3,"ngModelChange","ngModel"],["id","cargarHistoriaClinicaModal",1,"modal"],[3,"ngSubmit","formGroup"],["formControlName","altura","type","number","placeholder","Altura (cm)"],["formControlName","peso","type","number","placeholder","Peso (kg)"],["formControlName","temperatura","type","number","placeholder","Temperatura (\xB0C)"],["formControlName","presion","type","number","placeholder","Presi\xF3n (mmHg)"],["formArrayName","datosDinamicos"],["class","dato-dinamico",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn-dato",3,"click"],["type","submit",1,"btn-finalizar"],[1,"dato-dinamico",3,"formGroupName"],["formControlName","clave","placeholder","Clave"],["formControlName","valor","placeholder","Valor"],["type","button",1,"btn-eliminar-dato",3,"click"],["id","verEncuestaModal",1,"modal"],["id","verCalificacionModal",1,"modal"]],template:function(r,s){r&1&&(B(0,"body"),tt(1,Cye,3,2,"div",0)(2,Tye,9,1,"div",1)(3,Sye,9,1,"div",2)(4,Eye,9,1,"div",3)(5,kye,18,2,"div",4)(6,Dye,26,5,"div",5)(7,Iye,10,1,"div",6),P()),r&2&&(Z(),ye("ngIf",s.isEspecialista),Z(),ye("ngIf",s.showCancelModal),Z(),ye("ngIf",s.showRejectModal),Z(),ye("ngIf",s.showFinishModal),Z(),ye("ngIf",s.showHistoriaClinicaModal),Z(),ye("ngIf",s.showVerEncuestaModal),Z(),ye("ngIf",s.showVerCalificacionModal))},dependencies:[hr,Ir,Ml,Jr,bd,Ms,Il,_c,Fl,Pl,yc,R2,V2,Hr,Em,Ur],styles:['body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:90vh;margin:0;background-image:url("./media/fondo-usuarios-2G6PD2YQ.jpg");background-size:cover;background-position:center;font-family:Arial,Helvetica,sans-serif}.turnos-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#d1a054b3;border-radius:8px;box-shadow:0 4px 8px #0000001a;overflow-y:auto;max-height:80vh}.turnos-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:97.5%;padding:8px;margin-bottom:20px;border:1px solid #2e4c6d;border-radius:4px;font-size:14px;text-align:center;background-color:#d2691eb3;color:#2e4c6d}.turno[_ngcontent-%COMP%]{background-color:#d2691eb3;padding:15px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-wrap:wrap;align-items:center}.turno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:16px;color:#2e4c6d;flex:1 1 45%}.turno[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s;margin:5px}.turno[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.btn-cancelar[_ngcontent-%COMP%], .btn-rechazar[_ngcontent-%COMP%]{background-color:#d9534f}.btn-aceptar[_ngcontent-%COMP%]{background-color:#aae7aa}.btn-finalizar[_ngcontent-%COMP%]{background-color:#528052}.btn-encuesta[_ngcontent-%COMP%], .btn-calificar[_ngcontent-%COMP%], .btn-dato[_ngcontent-%COMP%]{background-color:plum;margin:5px}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#d1a054;margin:15% auto;padding:20px;border:1px solid #2e4c6d;width:80%;max-width:500px;border-radius:8px;box-shadow:0 5px 10px #0003;color:#2e4c6d}.close[_ngcontent-%COMP%]{color:#2e4c6d;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#132d49;text-decoration:none;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box;justify-content:center}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s}.btn-cancelar[_ngcontent-%COMP%]:hover, .btn-rechazar[_ngcontent-%COMP%]:hover{background-color:#c9302c}.btn-aceptar[_ngcontent-%COMP%]:hover{background-color:#90c890}.btn-finalizar[_ngcontent-%COMP%]:hover{background-color:#3c643c}.btn-ver-encuesta[_ngcontent-%COMP%], .btn-ver-calificacion[_ngcontent-%COMP%], .btn-cargar-historia-clinica[_ngcontent-%COMP%]{background-color:plum}.btn-ver-encuesta[_ngcontent-%COMP%]:hover, .btn-ver-calificacion[_ngcontent-%COMP%]:hover, .btn-cargar-historia-clinica[_ngcontent-%COMP%]:hover{background-color:#cbacba}.estado-pendiente[_ngcontent-%COMP%]{background-color:#f0f074;padding:0 4px}.estado-cancelado[_ngcontent-%COMP%], .estado-rechazado[_ngcontent-%COMP%]{background-color:#a02d2d;padding:0 4px}.estado-aceptado[_ngcontent-%COMP%]{background-color:#aae7aa;padding:0 4px}.estado-realizado[_ngcontent-%COMP%]{background-color:#528052;padding:0 4px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.turnos-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#2e4c6d}.modal-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.modal-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0 5px}.btn-eliminar-dato[_ngcontent-%COMP%]{background-color:#d9b51c;margin-left:10px}.btn-eliminar-dato[_ngcontent-%COMP%]:hover{background-color:#bfa311}.historia-clinica-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.historia-clinica[_ngcontent-%COMP%]{border:1px solid #2e4c6d;padding:15px;border-radius:8px;background-color:#ffffff80;width:100%;max-width:400px;margin-bottom:20px}.historia-clinica[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px;color:#2e4c6d}.historia-clinica[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#2e4c6d}.historia-clinica[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#2e4c6d}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;min-width:150px;max-width:200px;margin-bottom:10px}']});let t=e;return t})();function Mye(t,e){if(t&1&&(B(0,"div",10)(1,"h4"),G(2,"Consulta"),P(),B(3,"p")(4,"strong"),G(5,"Fecha:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Especialidad:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Comentario:"),P(),G(14),P()()),t&2){let n=e.$implicit;Z(6),it(" ",n.fecha,""),Z(4),it(" ",n.especialidad,""),Z(4),it(" ",n.comentario,"")}}function Pye(t,e){if(t&1){let n=Jt();B(0,"div",5),Ft(1,"img",6),B(2,"h3"),G(3),P(),B(4,"div",7),tt(5,Mye,15,3,"div",8),P(),B(6,"button",9),Ye("click",function(){let r=vt(n).$implicit,s=Pe(2);return _t(s.verHistoriaClinica(r))}),G(7,"Ver Historia Cl\xEDnica"),P()()}if(t&2){let n=e.$implicit;Z(),Cm("alt","Foto de ",n.nombre,""),ye("src",n.foto1,Ua),Z(2),uo(n.nombre),Z(2),ye("ngForOf",n.consultas)}}function Fye(t,e){if(t&1&&(B(0,"div",3),tt(1,Pye,8,5,"div",4),P()),t&2){let n=Pe();Z(),ye("ngForOf",n.pacientes)}}function Lye(t,e){if(t&1&&(B(0,"div")(1,"p")(2,"strong"),G(3),P(),G(4),P()()),t&2){let n=e.$implicit;Z(3),it("",n.clave,":"),Z(),it(" ",n.valor,"")}}function Nye(t,e){if(t&1&&(B(0,"div",15)(1,"h4"),G(2),P(),B(3,"p")(4,"strong"),G(5,"Altura:"),P(),G(6),P(),B(7,"p")(8,"strong"),G(9,"Peso:"),P(),G(10),P(),B(11,"p")(12,"strong"),G(13,"Temperatura:"),P(),G(14),P(),B(15,"p")(16,"strong"),G(17,"Presi\xF3n:"),P(),G(18),P(),tt(19,Lye,5,2,"div",16),P()),t&2){let n=e.$implicit;Z(2),it("Especialidad: ",n.especialidad,""),Z(4),it(" ",n.altura," cm"),Z(4),it(" ",n.peso," kg"),Z(4),it(" ",n.temperatura," \xB0C"),Z(4),it(" ",n.presion," mmHg"),Z(),ye("ngForOf",n.datosDinamicos)}}function Oye(t,e){if(t&1){let n=Jt();B(0,"div",11)(1,"div",12)(2,"span",13),Ye("click",function(){vt(n);let r=Pe();return _t(r.mostrarHistoriaClinica=!1)}),G(3,"\xD7"),P(),B(4,"h3"),G(5,"Historia Cl\xEDnica"),P(),tt(6,Nye,20,6,"div",14),P()()}if(t&2){let n=Pe();Z(6),ye("ngForOf",n.historiaClinica)}}var n$=(()=>{let e=class e{constructor(i){this.authService=i,this.pacientes=[],this.historiaClinica=null,this.mostrarHistoriaClinica=!1}ngOnInit(){this.cargarPacientesAtendidos()}cargarPacientesAtendidos(){return Se(this,null,function*(){try{this.authService.getCurrentUserData().subscribe(i=>Se(this,null,function*(){if(i?.role==="especialista"&&i.data?.uid){let r=i.data.uid,s=yield this.authService.getPacientesAtendidosPorEspecialista(r);this.pacientes=s.map(o=>hn(ut({},o),{consultas:o.consultas.sort((a,l)=>new Date(l.fecha).getTime()-new Date(a.fecha).getTime()).map(a=>hn(ut({},a),{fecha:PR(a.fecha,"dd/MM/yyyy","en-US")})).slice(0,3)}))}}))}catch(i){console.error("Error al cargar pacientes atendidos:",i)}})}verHistoriaClinica(i){return Se(this,null,function*(){try{let r=yield this.authService.getHistoriasClinicasByPaciente(i.id);r?(this.historiaClinica=r,this.mostrarHistoriaClinica=!0):console.error("No se encontr\xF3 la historia cl\xEDnica para el paciente:",i.id)}catch(r){console.error("Error al obtener la historia cl\xEDnica:",r)}})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-seccion-pacientes"]],standalone:!0,features:[wn],decls:4,vars:2,consts:[[1,"container"],["class","pacientes-wrapper",4,"ngIf"],["class","modal",4,"ngIf"],[1,"pacientes-wrapper"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"paciente-foto",3,"src","alt"],[1,"consultas"],["class","consulta",4,"ngFor","ngForOf"],[3,"click"],[1,"consulta"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["class","historia",4,"ngFor","ngForOf"],[1,"historia"],[4,"ngFor","ngForOf"]],template:function(r,s){r&1&&(B(0,"body")(1,"div",0),tt(2,Fye,2,1,"div",1)(3,Oye,7,1,"div",2),P()()),r&2&&(Z(2),ye("ngIf",s.pacientes.length>0),Z(),ye("ngIf",s.mostrarHistoriaClinica))},dependencies:[Ur,hr],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:115vh;margin:0;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.container[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054b3;font-family:Arial,Helvetica,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;color:#2e4c6d}h3[_ngcontent-%COMP%]{color:#2e4c6d}p[_ngcontent-%COMP%]{text-align:center;color:#2e4c6d}.pacientes-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.card[_ngcontent-%COMP%]{background-color:#d2691eb3;border-radius:15px;box-shadow:0 8px 16px #0003;padding:20px;width:300px;text-align:center}.paciente-foto[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:15px;border:2px solid #2e4c6d}.consultas[_ngcontent-%COMP%]{margin-top:15px;text-align:left}.consulta[_ngcontent-%COMP%]{background-color:#d1a054b3;border-radius:10px;padding:10px;margin-bottom:10px;color:#2e4c6d}button[_ngcontent-%COMP%]{border:1px solid #2e4c6d;background-color:#2e4c6d;color:#d2691e;border-radius:50px;padding:10px 20px;margin-top:10px;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#1f3548;transform:scale(1.05)}button[_ngcontent-%COMP%]:active{background-color:#162738;transform:scale(.95)}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#d2691e;margin:auto;padding:20px;border:1px solid #2e4c6d;width:80%;max-width:500px;border-radius:15px;box-shadow:0 8px 16px #0003}.close[_ngcontent-%COMP%]{color:#2e4c6d;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.historia[_ngcontent-%COMP%]{background-color:#d1a054b3;border-radius:10px;padding:15px;margin-bottom:15px;box-shadow:0 4px 8px #0000001a;color:#2e4c6d}.historia[_ngcontent-%COMP%]:last-child{margin-bottom:0}']});let t=e;return t})();var r$=ma(Dv());var UF=class{constructor(){this.subject=new vh(1),this.subscriptions=new xr}doFilter(e){this.subject.next(e)}dispose(){this.subscriptions.unsubscribe()}notEmpty(e,n){this.subscriptions.add(this.subject.subscribe(i=>{if(i[e]){let r=i[e].currentValue;r!=null&&n(r)}}))}has(e,n){this.subscriptions.add(this.subject.subscribe(i=>{if(i[e]){let r=i[e].currentValue;n(r)}}))}notFirst(e,n){this.subscriptions.add(this.subject.subscribe(i=>{if(i[e]&&!i[e].isFirstChange()){let r=i[e].currentValue;n(r)}}))}notFirstAndEmpty(e,n){this.subscriptions.add(this.subject.subscribe(i=>{if(i[e]&&!i[e].isFirstChange()){let r=i[e].currentValue;r!=null&&n(r)}}))}},i$=new Nt("NGX_ECHARTS_CONFIG"),Ru=(()=>{let e=class e{constructor(i,r,s){this.el=r,this.ngZone=s,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new ri,this.optionsError=new ri,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new vh(1),this.resize$=new cr,this.changeFilter=new UF,this.resizeObFired=!1,this.echarts=i.echarts,this.theme=i.theme||null}ngOnChanges(i){this.changeFilter.doFilter(i)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(vE(100,_l,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(i=>{for(let r of i)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",i=>this.onOptionsChange(i)),this.changeFilter.notFirstAndEmpty("merge",i=>this.setOption(i)),this.changeFilter.has("loading",i=>this.toggleLoading(!!i)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(i){this.chart?i?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>i?r.showLoading(this.loadingType,this.loadingOpts):r.hideLoading())}setOption(i,r){if(this.chart)try{this.chart.setOption(i,r)}catch(s){console.error(s),this.optionsError.emit(s)}}refreshChart(){return Se(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let i=this.el.nativeElement;if(window&&window.getComputedStyle){let r=window.getComputedStyle(i,null).getPropertyValue("height");(!r||r==="0px")&&(!i.style.height||i.style.height==="0px")&&(i.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:s})=>s(i,this.theme,this.initOpts)))}initChart(){return Se(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(i){return Se(this,null,function*(){i&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(i){return this.chartInit.pipe(fi(r=>new An(s=>(r.on(i,o=>this.ngZone.run(()=>s.next(o))),()=>{this.chart&&(this.chart.isDisposed()||r.off(i))}))))}};e.\u0275fac=function(r){return new(r||e)(Je(i$),Je(Gi),Je(zn))},e.\u0275dir=Bn({type:e,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[ja]});let t=e;return t})();var Rye=t=>({provide:i$,useValue:t}),zl=(()=>{let e=class e{static forRoot(i){return{ngModule:e,providers:[Rye(i)]}}static forChild(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({});let t=e;return t})();Gd();var Vye=["chartContainer"];function Bye(t,e){if(t&1&&(B(0,"div",12)(1,"span"),G(2),P(),B(3,"span"),G(4),P()()),t&2){let n=e.$implicit;Z(2),Is("",n.nombre," ",n.apellido,""),Z(2),Is("",n.dia," ",n.horario,"")}}var wT=(()=>{let e=class e{constructor(i){this.authService=i,this.ingresos=[],this.selectedDay="",this.selectedIngresos=[]}ngOnInit(){this.cargarIngresos()}cargarIngresos(){this.authService.getIngresos().subscribe(i=>{this.ingresos=i,this.updateChart()})}updateChart(){let i=[...new Set(this.ingresos.map(s=>s.dia))].sort((s,o)=>new Date(s).getTime()-new Date(o).getTime()),r=i.map(s=>this.ingresos.filter(o=>o.dia===s).length);this.option={xAxis:{type:"category",boundaryGap:!1,data:i},yAxis:{type:"value"},series:[{data:r,type:"line",areaStyle:{}}]},this.countsTotales=r.reduce((s,o)=>s+o,0)}onChartClick(i){i.name&&(this.selectedDay=i.name,this.selectedIngresos=this.ingresos.filter(r=>r.dia===this.selectedDay))}onPdfDownload(){(0,r$.default)(this.chartContainer.nativeElement,{scale:4}).then(i=>{let r=i.toDataURL("image/png"),s=new il("landscape","mm",[i.width*.264583,i.height*.264583]),o=s.internal.pageSize.getWidth(),a=i.height*o/i.width;s.addImage(r,"PNG",0,0,o,a),s.save("grafico_ingresos.pdf")})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-grafico-ingresos"]],viewQuery:function(r,s){if(r&1&&El(Vye,5),r&2){let o;za(o=$a())&&(s.chartContainer=o.first)}},standalone:!0,features:[wn],decls:19,vars:4,consts:[["chartContainer",""],[1,"background"],[1,"row"],[1,"col-md-12","mb-2","title"],[1,"btn",3,"click"],[1,"bi","bi-download"],[1,"col-md-12"],["id","chart","echarts","",3,"chartClick","options"],[1,"row","users-container"],[1,"col-md-12","d-flex","justify-content-center"],[1,"container"],["class","user",4,"ngFor","ngForOf"],[1,"user"]],template:function(r,s){if(r&1){let o=Jt();B(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),G(4),P(),B(5,"button",4),Ye("click",function(){return vt(o),_t(s.onPdfDownload())}),B(6,"span"),G(7,"Descargar "),P(),Ft(8,"i",5),P()()(),B(9,"div",2)(10,"div",6)(11,"div",7,0),Ye("chartClick",function(l){return vt(o),_t(s.onChartClick(l))}),P()()(),B(13,"div",8)(14,"div",9)(15,"h1"),G(16),P()(),B(17,"div",10),tt(18,Bye,5,4,"div",11),P()()()}r&2&&(Z(4),it("Inicios de sesi\xF3n totales: ",s.countsTotales,""),Z(7),ye("options",s.option),Z(5),uo(s.selectedDay),Z(2),ye("ngForOf",s.selectedIngresos))},dependencies:[zl,Ru,Ur],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.background[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054;border-radius:8px;margin:20px auto;max-width:1200px;color:#2e4c6d;box-shadow:0 8px 16px #0003}.title[_ngcontent-%COMP%]{background-color:#d2691e;padding:20px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s;margin-left:10px}.btn[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:scale(1.05)}.chart[_ngcontent-%COMP%]{background-color:#d2691e;border-radius:8px;padding:20px;margin-top:20px}.users-container[_ngcontent-%COMP%]{padding:30px;background-color:#d2691e;border-radius:8px;margin-top:10px;flex-direction:column;max-height:75px;overflow-y:auto}.user[_ngcontent-%COMP%]{background-color:#d1a054;color:#2e4c6d;display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;margin-bottom:10px}.container[_ngcontent-%COMP%]{overflow-y:auto;max-height:200px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#132d49}.users-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#132d49}h1[_ngcontent-%COMP%]{font-size:24px}h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}span[_ngcontent-%COMP%]{font-size:16px}']});let t=e;return t})();var s$=ma(Dv());Gd();var jye=["chartContainer"],bT=(()=>{let e=class e{constructor(i){this.authService=i,this.turnos=[]}ngOnInit(){this.cargarTurnos()}cargarTurnos(){this.authService.getTurnosPorDia().subscribe(i=>{this.turnos=i,this.updateChart()})}updateChart(){let i=[...new Set(this.turnos.map(s=>s.dia))].sort((s,o)=>{let[a,l,c]=s.split("/").map(Number),[u,d,f]=o.split("/").map(Number);return new Date(c,l-1,a).getTime()-new Date(f,d-1,u).getTime()}),r=i.map(s=>this.turnos.filter(o=>o.dia===s).length);this.option={xAxis:{type:"category",data:i,axisLabel:{rotate:90,formatter:function(s){let[o,a]=s.split("/");return`${o}/${a}`}}},yAxis:{type:"value"},series:[{data:r,type:"bar",barWidth:"60%",itemStyle:{color:"#2e4c6d"}}]},this.countsTotales=r.reduce((s,o)=>s+o,0)}onPdfDownload(){(0,s$.default)(this.chartContainer.nativeElement,{scale:3}).then(i=>{let r=i.toDataURL("image/png"),s=new il("landscape","mm","a4"),o=s.internal.pageSize.getWidth(),a=i.height*o/i.width,l=s.internal.pageSize.getHeight(),c=a,u=0;for(s.addImage(r,"PNG",0,u,o,a),c-=l;c>=0;)u=c-a,s.addPage(),s.addImage(r,"PNG",0,u,o,a),c-=l;s.save("grafico_turnos_por_dia.pdf")})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-grafico-turnos-dia"]],viewQuery:function(r,s){if(r&1&&El(jye,5),r&2){let o;za(o=$a())&&(s.chartContainer=o.first)}},standalone:!0,features:[wn],decls:13,vars:2,consts:[["chartContainer",""],[1,"background"],[1,"row"],[1,"col-md-12","mb-2","title"],[1,"btn",3,"click"],[1,"bi","bi-download"],[1,"col-md-12"],["id","chart","echarts","",3,"options"]],template:function(r,s){if(r&1){let o=Jt();B(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),G(4),P(),B(5,"button",4),Ye("click",function(){return vt(o),_t(s.onPdfDownload())}),B(6,"span"),G(7,"Descargar "),P(),Ft(8,"i",5),P()()(),B(9,"div",2)(10,"div",6),Ft(11,"div",7,0),P()()()}r&2&&(Z(4),it("Turnos por D\xEDa: ",s.countsTotales,""),Z(7),ye("options",s.option))},dependencies:[zl,Ru],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.background[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054;border-radius:8px;margin:20px auto;max-width:1200px;color:#2e4c6d;box-shadow:0 8px 16px #0003}.title[_ngcontent-%COMP%]{background-color:#d2691e;padding:20px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s;margin-left:10px}.btn[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:scale(1.05)}.chart[_ngcontent-%COMP%]{background-color:#d2691e;border-radius:8px;padding:20px;margin-top:20px}.users-container[_ngcontent-%COMP%]{padding:30px;background-color:#d2691e;border-radius:8px;margin-top:10px;flex-direction:column;max-height:75px;overflow-y:auto}.user[_ngcontent-%COMP%]{background-color:#d1a054;color:#2e4c6d;display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;margin-bottom:10px}.container[_ngcontent-%COMP%]{overflow-y:auto;max-height:200px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#132d49}.users-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#132d49}h1[_ngcontent-%COMP%]{font-size:24px}h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}span[_ngcontent-%COMP%]{font-size:16px}']});let t=e;return t})();var o$=ma(Dv());Gd();var Uye=["chartContainer"],CT=(()=>{let e=class e{constructor(i){this.authService=i,this.turnos=[]}ngOnInit(){this.cargarTurnos()}cargarTurnos(){this.authService.getTurnosPorEspecialidad().subscribe(i=>{this.turnos=i,this.updateChart()})}updateChart(){let i=[...new Set(this.turnos.map(o=>o.especialidad))],r=i.map(o=>this.turnos.filter(a=>a.especialidad===o).length),s=i.map((o,a)=>({name:o,value:r[a]}));this.option={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",data:i},series:[{name:"Turnos por Especialidad",type:"pie",radius:"50%",data:s,itemStyle:{color:function(o){let a=["#2e4c6d","#132d49","#d2691e","#a0522d","#8b4513"];return a[o.dataIndex%a.length]}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.countsTotales=r.reduce((o,a)=>o+a,0)}onPdfDownload(){(0,o$.default)(this.chartContainer.nativeElement,{scale:3}).then(i=>{let r=i.toDataURL("image/png"),s=new il("landscape","mm","a4"),o=s.internal.pageSize.getWidth(),a=i.height*o/i.width,l=s.internal.pageSize.getHeight(),c=a,u=0;for(s.addImage(r,"PNG",0,u,o,a),c-=l;c>=0;)u=c-a,s.addPage(),s.addImage(r,"PNG",0,u,o,a),c-=l;s.save("grafico_turnos_por_especialidad.pdf")})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-grafico-turnos-esp"]],viewQuery:function(r,s){if(r&1&&El(Uye,5),r&2){let o;za(o=$a())&&(s.chartContainer=o.first)}},standalone:!0,features:[wn],decls:13,vars:2,consts:[["chartContainer",""],[1,"background"],[1,"row"],[1,"col-md-12","mb-2","title"],[1,"btn",3,"click"],[1,"bi","bi-download"],[1,"col-md-12"],["id","chart","echarts","",3,"options"]],template:function(r,s){if(r&1){let o=Jt();B(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),G(4),P(),B(5,"button",4),Ye("click",function(){return vt(o),_t(s.onPdfDownload())}),B(6,"span"),G(7,"Descargar "),P(),Ft(8,"i",5),P()()(),B(9,"div",2)(10,"div",6),Ft(11,"div",7,0),P()()()}r&2&&(Z(4),it("Turnos por Especialidad: ",s.countsTotales,""),Z(7),ye("options",s.option))},dependencies:[zl,Ru],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.background[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054;border-radius:8px;margin:20px auto;max-width:1200px;color:#2e4c6d;box-shadow:0 8px 16px #0003}.title[_ngcontent-%COMP%]{background-color:#d2691e;padding:20px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s;margin-left:10px}.btn[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:scale(1.05)}.chart[_ngcontent-%COMP%]{background-color:#d2691e;border-radius:8px;padding:20px;margin-top:20px}.users-container[_ngcontent-%COMP%]{padding:30px;background-color:#d2691e;border-radius:8px;margin-top:10px;flex-direction:column;max-height:75px;overflow-y:auto}.user[_ngcontent-%COMP%]{background-color:#d1a054;color:#2e4c6d;display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;margin-bottom:10px}.container[_ngcontent-%COMP%]{overflow-y:auto;max-height:200px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#132d49}.users-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#132d49}h1[_ngcontent-%COMP%]{font-size:24px}h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}span[_ngcontent-%COMP%]{font-size:16px}']});let t=e;return t})();var a$=ma(Dv());Gd();var Hye=["chartContainer"],TT=(()=>{let e=class e{constructor(i){this.authService=i,this.turnos=[]}ngOnInit(){this.cargarTurnos()}cargarTurnos(){this.authService.getTurnosSolicitadosPorMedico().subscribe(i=>{this.turnos=i,this.updateChart()})}updateChart(){let i=this.turnos.filter(a=>{let l=new Date(a.dia.split("/").reverse().join("-"));return(!this.startDate||l>=this.startDate)&&(!this.endDate||l<=this.endDate)}),r=[...new Set(i.map(a=>a.medico))],s=[...new Set(i.map(a=>a.dia))];s.sort((a,l)=>{let[c,u,d]=a.split("/").map(Number),[f,h,_]=l.split("/").map(Number),g=new Date(d,u-1,c),y=new Date(_,h-1,f);return g.getTime()-y.getTime()});let o=r.map(a=>{let l=s.map(c=>i.filter(u=>u.medico===a&&u.dia===c).length);return{name:a,type:"line",stack:"total",areaStyle:{},data:l}});this.option={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:r},xAxis:{type:"category",data:s,axisLabel:{rotate:90,formatter:function(a){let[l,c]=a.split("/");return`${l}/${c}`}}},yAxis:{type:"value"},series:o},this.countsTotales=i.length}onStartDateChange(i){let r=i.target;this.startDate=r.valueAsDate,this.endMinDate=r.value,this.endDate&&this.startDate>this.endDate&&(this.endDate=void 0),this.updateChart()}onEndDateChange(i){let r=i.target;this.endDate=r.valueAsDate,this.startMaxDate=r.value,this.startDate&&this.endDate<this.startDate&&(this.startDate=void 0),this.updateChart()}onPdfDownload(){(0,a$.default)(this.chartContainer.nativeElement,{scale:3}).then(i=>{let r=i.toDataURL("image/png"),s=new il("landscape","mm","a4"),o=s.internal.pageSize.getWidth(),a=i.height*o/i.width,l=s.internal.pageSize.getHeight(),c=a,u=0;for(s.addImage(r,"PNG",0,u,o,a),c-=l;c>=0;)u=c-a,s.addPage(),s.addImage(r,"PNG",0,u,o,a),c-=l;s.save("grafico_turnos_solicitados.pdf")})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-grafico-turnos-sol"]],viewQuery:function(r,s){if(r&1&&El(Hye,5),r&2){let o;za(o=$a())&&(s.chartContainer=o.first)}},standalone:!0,features:[wn],decls:20,vars:3,consts:[["chartContainer",""],[1,"background"],[1,"row"],[1,"col-md-12","mb-2","title"],[1,"date-picker"],["for","start-date"],["type","date","id","start-date",3,"change","max"],["for","end-date"],["type","date","id","end-date",3,"change","min"],[1,"btn",3,"click"],[1,"bi","bi-download"],[1,"col-md-12"],["id","chart","echarts","",3,"options"]],template:function(r,s){if(r&1){let o=Jt();B(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),G(4,"Turnos Solicitados por M\xE9dico"),P(),B(5,"div",4)(6,"label",5),G(7,"Desde: "),P(),B(8,"input",6),Ye("change",function(l){return vt(o),_t(s.onStartDateChange(l))}),P(),B(9,"label",7),G(10,"Hasta: "),P(),B(11,"input",8),Ye("change",function(l){return vt(o),_t(s.onEndDateChange(l))}),P()(),B(12,"button",9),Ye("click",function(){return vt(o),_t(s.onPdfDownload())}),B(13,"span"),G(14,"Descargar "),P(),Ft(15,"i",10),P()()(),B(16,"div",2)(17,"div",11),Ft(18,"div",12,0),P()()()}r&2&&(Z(8),ye("max",s.startMaxDate),Z(3),ye("min",s.endMinDate),Z(7),ye("options",s.option))},dependencies:[zl,Ru],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.background[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054;border-radius:8px;margin:20px auto;max-width:1200px;color:#2e4c6d;box-shadow:0 8px 16px #0003}.title[_ngcontent-%COMP%]{background-color:#d2691e;padding:20px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s;margin-left:10px}.btn[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:scale(1.05)}.chart[_ngcontent-%COMP%]{background-color:#d2691e;border-radius:8px;padding:20px;margin-top:20px}.users-container[_ngcontent-%COMP%]{padding:30px;background-color:#d2691e;border-radius:8px;margin-top:10px;flex-direction:column;max-height:75px;overflow-y:auto}.user[_ngcontent-%COMP%]{background-color:#d1a054;color:#2e4c6d;display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;margin-bottom:10px}.container[_ngcontent-%COMP%]{overflow-y:auto;max-height:200px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#132d49}.users-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#132d49}h1[_ngcontent-%COMP%]{font-size:24px}h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}span[_ngcontent-%COMP%]{font-size:16px}.date-picker[_ngcontent-%COMP%]{margin:5px}']});let t=e;return t})();var l$=ma(Dv());Gd();var zye=["chartContainer"],ST=(()=>{let e=class e{constructor(i){this.authService=i,this.turnos=[]}ngOnInit(){this.cargarTurnos()}cargarTurnos(){this.authService.getTurnosRealizadosPorMedico().subscribe(i=>{this.turnos=i.filter(r=>r.estado==="realizado"),this.updateChart()})}updateChart(){let i=this.turnos.filter(a=>{let l=new Date(a.dia.split("/").reverse().join("-"));return(!this.startDate||l>=this.startDate)&&(!this.endDate||l<=this.endDate)}),r=[...new Set(i.map(a=>a.medico))],s=[...new Set(i.map(a=>a.dia))];s.sort((a,l)=>{let[c,u,d]=a.split("/").map(Number),[f,h,_]=l.split("/").map(Number),g=new Date(d,u-1,c),y=new Date(_,h-1,f);return g.getTime()-y.getTime()});let o=r.map(a=>{let l=s.map(c=>i.filter(u=>u.medico===a&&u.dia===c).length);return{name:a,type:"line",stack:"total",areaStyle:{},data:l}});this.option={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:r},xAxis:{type:"category",data:s,axisLabel:{rotate:90,formatter:function(a){let[l,c]=a.split("/");return`${l}/${c}`}}},yAxis:{type:"value"},series:o},this.countsTotales=i.length}onStartDateChange(i){let r=i.target;this.startDate=r.valueAsDate,this.endMinDate=r.value,this.endDate&&this.startDate>this.endDate&&(this.endDate=void 0),this.updateChart()}onEndDateChange(i){let r=i.target;this.endDate=r.valueAsDate,this.startMaxDate=r.value,this.startDate&&this.endDate<this.startDate&&(this.startDate=void 0),this.updateChart()}onPdfDownload(){(0,l$.default)(this.chartContainer.nativeElement,{scale:3}).then(i=>{let r=i.toDataURL("image/png"),s=new il("landscape","mm","a4"),o=s.internal.pageSize.getWidth(),a=i.height*o/i.width,l=s.internal.pageSize.getHeight(),c=a,u=0;for(s.addImage(r,"PNG",0,u,o,a),c-=l;c>=0;)u=c-a,s.addPage(),s.addImage(r,"PNG",0,u,o,a),c-=l;s.save("grafico_turnos_realizados.pdf")})}};e.\u0275fac=function(r){return new(r||e)(Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-grafico-turnos-fin"]],viewQuery:function(r,s){if(r&1&&El(zye,5),r&2){let o;za(o=$a())&&(s.chartContainer=o.first)}},standalone:!0,features:[wn],decls:20,vars:3,consts:[["chartContainer",""],[1,"background"],[1,"row"],[1,"col-md-12","mb-2","title"],[1,"date-picker"],["for","start-date"],["type","date","id","start-date",3,"change","max"],["for","end-date"],["type","date","id","end-date",3,"change","min"],[1,"btn",3,"click"],[1,"bi","bi-download"],[1,"col-md-12"],["id","chart","echarts","",3,"options"]],template:function(r,s){if(r&1){let o=Jt();B(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),G(4,"Turnos Realizados por M\xE9dico"),P(),B(5,"div",4)(6,"label",5),G(7,"Desde: "),P(),B(8,"input",6),Ye("change",function(l){return vt(o),_t(s.onStartDateChange(l))}),P(),B(9,"label",7),G(10,"Hasta: "),P(),B(11,"input",8),Ye("change",function(l){return vt(o),_t(s.onEndDateChange(l))}),P()(),B(12,"button",9),Ye("click",function(){return vt(o),_t(s.onPdfDownload())}),B(13,"span"),G(14,"Descargar "),P(),Ft(15,"i",10),P()()(),B(16,"div",2)(17,"div",11),Ft(18,"div",12,0),P()()()}r&2&&(Z(8),ye("max",s.startMaxDate),Z(3),ye("min",s.endMinDate),Z(7),ye("options",s.option))},dependencies:[zl,Ru],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.background[_ngcontent-%COMP%]{padding:20px;background-color:#d1a054;border-radius:8px;margin:20px auto;max-width:1200px;color:#2e4c6d;box-shadow:0 8px 16px #0003}.title[_ngcontent-%COMP%]{background-color:#d2691e;padding:20px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{background-color:#2e4c6d;color:#fff;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s;margin-left:10px}.btn[_ngcontent-%COMP%]:hover{background-color:#132d49;transform:scale(1.05)}.chart[_ngcontent-%COMP%]{background-color:#d2691e;border-radius:8px;padding:20px;margin-top:20px}.users-container[_ngcontent-%COMP%]{padding:30px;background-color:#d2691e;border-radius:8px;margin-top:10px;flex-direction:column;max-height:75px;overflow-y:auto}.user[_ngcontent-%COMP%]{background-color:#d1a054;color:#2e4c6d;display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;margin-bottom:10px}.container[_ngcontent-%COMP%]{overflow-y:auto;max-height:200px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#132d49}.users-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#2e4c6d rgba(209,160,84,.7)}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-ms-overflow-style:none}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar{width:12px;height:12px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-track{background:#2e4c6d}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb{background:#2e4c6d;border-radius:6px}.users-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::-ms-scrollbar-thumb:hover{background:#132d49}h1[_ngcontent-%COMP%]{font-size:24px}h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}span[_ngcontent-%COMP%]{font-size:16px}.date-picker[_ngcontent-%COMP%]{margin:5px}']});let t=e;return t})();var c$=(()=>{let e=class e{constructor(i,r){this.el=i,this.renderer=r,this.backgrounds=["../../../assets/fondo-pacientes.jpg","../../../assets/fondo2.jpg","../../../assets/fondo3.jpg","../../../assets/fondo4.jpg","../../../assets/fondo5.jpg"]}ngOnInit(){this.changeBackground()}changeBackground(){let i=Math.floor(Math.random()*this.backgrounds.length),r=this.backgrounds[i];this.renderer.setStyle(this.el.nativeElement,"background-image",`url(${r})`)}};e.\u0275fac=function(r){return new(r||e)(Je(Gi),Je(Ds))},e.\u0275dir=Bn({type:e,selectors:[["","appChangeBackground",""]],standalone:!0});let t=e;return t})();function $ye(t,e){t&1&&Ft(0,"app-grafico-ingresos")}function Gye(t,e){t&1&&Ft(0,"app-grafico-turnos-dia")}function Wye(t,e){t&1&&Ft(0,"app-grafico-turnos-esp")}function qye(t,e){t&1&&Ft(0,"app-grafico-turnos-sol")}function Xye(t,e){t&1&&Ft(0,"app-grafico-turnos-fin")}var u$=(()=>{let e=class e{constructor(){this.selectedGrafico=""}selectGrafico(i){this.selectedGrafico=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fn({type:e,selectors:[["app-graficos"]],standalone:!0,features:[wn],decls:19,vars:6,consts:[["appChangeBackground",""],[1,"button-container"],[3,"click"],[1,"grafico-container"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(r,s){r&1&&(B(0,"body",0)(1,"div",1)(2,"button",2),Ye("click",function(){return s.selectGrafico("ingresos")}),G(3,"Ingresos"),P(),B(4,"button",2),Ye("click",function(){return s.selectGrafico("turnos-dia")}),G(5,"Turnos por D\xEDa"),P(),B(6,"button",2),Ye("click",function(){return s.selectGrafico("turnos-esp")}),G(7,"Turnos por Especialista"),P(),B(8,"button",2),Ye("click",function(){return s.selectGrafico("turnos-sol")}),G(9,"Turnos Solicitados"),P(),B(10,"button",2),Ye("click",function(){return s.selectGrafico("turnos-fin")}),G(11,"Turnos Finalizados"),P()(),B(12,"div",3),Ph(13,4),tt(14,$ye,1,0,"app-grafico-ingresos",5)(15,Gye,1,0,"app-grafico-turnos-dia",5)(16,Wye,1,0,"app-grafico-turnos-esp",5)(17,qye,1,0,"app-grafico-turnos-sol",5)(18,Xye,1,0,"app-grafico-turnos-fin",5),Fh(),P()()),r&2&&(Z(13),ye("ngSwitch",s.selectedGrafico),Z(),ye("ngSwitchCase","ingresos"),Z(),ye("ngSwitchCase","turnos-dia"),Z(),ye("ngSwitchCase","turnos-esp"),Z(),ye("ngSwitchCase","turnos-sol"),Z(),ye("ngSwitchCase","turnos-fin"))},dependencies:[c$,Hr,Ok,OR,wT,bT,CT,TT,ST],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;height:90vh;margin:0;background-color:#d1a054;background-image:url("./media/fondo-pacientes-RJJVIQKX.jpg");background-size:cover;background-position:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin-top:20px;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;cursor:pointer;border:none;border-radius:5px;background-color:#2e4c6d;color:#fff;transition:background-color .3s,transform .2s}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1f3b52;transform:scale(1.05)}.grafico-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-grow:1;width:100%}']});let t=e;return t})();var d$=[{path:"bienvenida",component:D6},{path:"",redirectTo:"/bienvenida",pathMatch:"full"},{path:"login",component:ij},{path:"registro",component:aj},{path:"registro_especialistas",component:EC},{path:"registro_pacientes",component:AC},{path:"especialidades",component:SC},{path:"botones",component:H2},{path:"seccion-usuarios",component:AH},{path:"registro_admins",component:DC},{path:"habilitar-especialistas",component:kC},{path:"mi-perfil",component:gz},{path:"solicitar-turnos",component:Zz},{path:"turnos",component:Jz},{path:"mis-turnos-pac",component:e$},{path:"mis-turnos-esp",component:t$},{path:"seccion-pacientes",component:n$},{path:"graficos",component:u$},{path:"grafico-ingresos",component:wT},{path:"grafico-turnos-esp",component:CT},{path:"grafico-turnos-dia",component:bT},{path:"grafico-turnos-sol",component:TT},{path:"grafico-turnos-fin",component:ST}];function h$(t){return new Et(3e3,!1)}function Yye(){return new Et(3100,!1)}function Kye(){return new Et(3101,!1)}function Qye(t){return new Et(3001,!1)}function Zye(t){return new Et(3003,!1)}function Jye(t){return new Et(3004,!1)}function exe(t,e){return new Et(3005,!1)}function txe(){return new Et(3006,!1)}function nxe(){return new Et(3007,!1)}function ixe(t,e){return new Et(3008,!1)}function rxe(t){return new Et(3002,!1)}function sxe(t,e,n,i,r){return new Et(3010,!1)}function oxe(){return new Et(3011,!1)}function axe(){return new Et(3012,!1)}function lxe(){return new Et(3200,!1)}function cxe(){return new Et(3202,!1)}function uxe(){return new Et(3013,!1)}function dxe(t){return new Et(3014,!1)}function hxe(t){return new Et(3015,!1)}function fxe(t){return new Et(3016,!1)}function pxe(t,e){return new Et(3404,!1)}function mxe(t){return new Et(3502,!1)}function gxe(t){return new Et(3503,!1)}function vxe(){return new Et(3300,!1)}function _xe(t){return new Et(3504,!1)}function yxe(t){return new Et(3301,!1)}function xxe(t,e){return new Et(3302,!1)}function wxe(t){return new Et(3303,!1)}function bxe(t,e){return new Et(3400,!1)}function Cxe(t){return new Et(3401,!1)}function Txe(t){return new Et(3402,!1)}function Sxe(t,e){return new Et(3505,!1)}function Ff(t){switch(t.length){case 0:return new Hh;case 1:return t[0];default:return new R1(t)}}function E$(t,e,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let _=h,g=f;if(h!=="offset")switch(_=t.normalizePropertyName(_,r),g){case U2:g=n.get(h);break;case hu:g=i.get(h);break;default:g=t.normalizeStyleValue(h,_,g,r);break}d.set(_,g)}),u||s.push(d),a=d,o=c}),r.length)throw mxe(r);return s}function u4(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&HF(n,"start",t)));break;case"done":t.onDone(()=>i(n&&HF(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&HF(n,"destroy",t)));break}}function HF(t,e,n){let i=n.totalTime,r=!!n.disabled,s=d4(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function d4(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function sl(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function f$(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Exe=typeof document>"u"?null:document.documentElement;function h4(t){let e=t.parentNode||t.host||null;return e===Exe?null:e}function Axe(t){return t.substring(1,6)=="ebkit"}var b0=null,p$=!1;function kxe(t){b0||(b0=Dxe()||{},p$=b0.style?"WebkitAppearance"in b0.style:!1);let e=!0;return b0.style&&!Axe(t)&&(e=t in b0.style,!e&&p$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in b0.style)),e}function Dxe(){return typeof document<"u"?document.body:null}function A$(t,e){for(;e;){if(e===t)return!0;e=h4(e)}return!1}function k$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var f4=(()=>{let e=class e{validateStyleProperty(i){return kxe(i)}containsElement(i,r){return A$(i,r)}getParentElement(i){return h4(i)}query(i,r,s){return k$(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new Hh(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})(),v4=class v4{};v4.NOOP=new f4;var S0=v4,E0=class{};var Ixe=1e3,D$="{{",Mxe="}}",I$="ng-enter",XF="ng-leave",ET="ng-trigger",MT=".ng-trigger",m$="ng-animating",YF=".ng-animating";function Xd(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KF(parseFloat(e[1]),e[2])}function KF(t,e){switch(e){case"s":return t*Ixe;default:return t}}function PT(t,e,n){return t.hasOwnProperty("duration")?t:Pxe(t,e,n)}function Pxe(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(h$(t)),{duration:0,delay:0,easing:""};r=KF(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=KF(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=t;if(!n){let a=!1,l=e.length;r<0&&(e.push(Yye()),a=!0),s<0&&(e.push(Kye()),a=!0),a&&e.splice(l,0,h$(t))}return{duration:r,delay:s,easing:o}}function Fxe(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Vu(t,e,n){e.forEach((i,r)=>{let s=p4(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function T0(t,e){e.forEach((n,i)=>{let r=p4(i);t.style[r]=""})}function hy(t){return Array.isArray(t)?t.length==1?t[0]:c8(t):t}function Lxe(t,e,n){let i=e.params||{},r=M$(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(Qye(s))})}var QF=new RegExp(`${D$}\\s*(.+?)\\s*${Mxe}`,"g");function M$(t){let e=[];if(typeof t=="string"){let n;for(;n=QF.exec(t);)e.push(n[1]);QF.lastIndex=0}return e}function py(t,e,n){let i=`${t}`,r=i.replace(QF,(s,o)=>{let a=e[o];return a==null&&(n.push(Zye(o)),a=""),a.toString()});return r==i?t:r}var Nxe=/-+([a-z0-9])/g;function p4(t){return t.replace(Nxe,(...e)=>e[1].toUpperCase())}function Oxe(t,e){return t===0||e===0}function Rxe(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,m4(t,a)))}}return e}function rl(t,e,n){switch(e.type){case Ln.Trigger:return t.visitTrigger(e,n);case Ln.State:return t.visitState(e,n);case Ln.Transition:return t.visitTransition(e,n);case Ln.Sequence:return t.visitSequence(e,n);case Ln.Group:return t.visitGroup(e,n);case Ln.Animate:return t.visitAnimate(e,n);case Ln.Keyframes:return t.visitKeyframes(e,n);case Ln.Style:return t.visitStyle(e,n);case Ln.Reference:return t.visitReference(e,n);case Ln.AnimateChild:return t.visitAnimateChild(e,n);case Ln.AnimateRef:return t.visitAnimateRef(e,n);case Ln.Query:return t.visitQuery(e,n);case Ln.Stagger:return t.visitStagger(e,n);default:throw Jye(e.type)}}function m4(t,e){return window.getComputedStyle(t)[e]}var Vxe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),FT=class extends E0{normalizePropertyName(e,n){return p4(e)}normalizeStyleValue(e,n,i,r){let s="",o=i.toString().trim();if(Vxe.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(exe(e,i))}return o+s}};var LT="*";function Bxe(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>jxe(i,n,e)):n.push(t),n}function jxe(t,e,n){if(t[0]==":"){let l=Uxe(t,n);if(typeof l=="function"){e.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(hxe(t)),e;let r=i[1],s=i[2],o=i[3];e.push(g$(r,o));let a=r==LT&&o==LT;s[0]=="<"&&!a&&e.push(g$(o,r))}function Uxe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(fxe(t)),"* => *"}}var AT=new Set(["true","1"]),kT=new Set(["false","0"]);function g$(t,e){let n=AT.has(t)||kT.has(t),i=AT.has(e)||kT.has(e);return(r,s)=>{let o=t==LT||t==r,a=e==LT||e==s;return!o&&n&&typeof r=="boolean"&&(o=r?AT.has(t):kT.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?AT.has(e):kT.has(e)),o&&a}}var P$=":self",Hxe=new RegExp(`s*${P$}s*,?`,"g");function F$(t,e,n,i){return new ZF(t).build(e,n,i)}var v$="",ZF=class{constructor(e){this._driver=e}build(e,n,i){let r=new JF(n);return this._resetContextStyleTimingState(r),rl(this,hy(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=v$,e.collectedStyles=new Map,e.collectedStyles.set(v$,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(txe()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Ln.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==Ln.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(nxe())}),{type:Ln.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{M$(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(ixe(e.name,[...s.values()]))}return{type:Ln.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=rl(this,hy(e.animation),n),r=Bxe(e.expr,n.errors);return{type:Ln.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:C0(e.options)}}visitSequence(e,n){return{type:Ln.Sequence,steps:e.steps.map(i=>rl(this,i,n)),options:C0(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,s=e.steps.map(o=>{n.currentTime=i;let a=rl(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:Ln.Group,steps:s,options:C0(e.options)}}visitAnimate(e,n){let i=Wxe(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:ds({});if(s.type==Ln.Keyframes)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=ds(c)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:Ln.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===hu?i.push(a):n.errors.push(rxe(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(D$)>=0){s=!0;break}}}),{type:Ln.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(sxe(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),n.options&&Lxe(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ln.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(oxe()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(b=>{let E=this._makeStyleAst(b,n),F=E.offset!=null?E.offset:Gxe(E.styles),U=0;return F!=null&&(s++,U=E.offset=F),l=l||U<0||U>1,a=a||U<c,c=U,o.push(U),E});l&&n.errors.push(axe()),a&&n.errors.push(lxe());let d=e.steps.length,f=0;s>0&&s<d?n.errors.push(cxe()):s==0&&(f=r/(d-1));let h=d-1,_=n.currentTime,g=n.currentAnimateTimings,y=g.duration;return u.forEach((b,E)=>{let F=f>0?E==h?1:f*E:o[E],U=F*y;n.currentTime=_+g.delay+U,g.duration=U,this._validateStyleAst(b,n),b.offset=F,i.styles.push(b)}),i}visitReference(e,n){return{type:Ln.Reference,animation:rl(this,hy(e.animation),n),options:C0(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ln.AnimateChild,options:C0(e.options)}}visitAnimateRef(e,n){return{type:Ln.AnimateRef,animation:this.visitReference(e.animation,n),options:C0(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=zxe(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,sl(n.collectedStyles,n.currentQuerySelector,new Map);let a=rl(this,hy(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ln.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:C0(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(uxe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:PT(e.timings,n.errors,!0);return{type:Ln.Stagger,animation:rl(this,hy(e.animation),n),timings:i,options:null}}};function zxe(t){let e=!!t.split(/\s*,\s*/).find(n=>n==P$);return e&&(t=t.replace(Hxe,"")),t=t.replace(/@\*/g,MT).replace(/@\w+/g,n=>MT+"-"+n.slice(1)).replace(/:animating/g,YF),[t,e]}function $xe(t){return t?ut({},t):null}var JF=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Gxe(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Wxe(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=PT(t,e).duration;return zF(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=zF(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=PT(n,e);return zF(r.duration,r.delay,r.easing)}function C0(t){return t?(t=ut({},t),t.params&&(t.params=$xe(t.params))):t={},t}function zF(t,e,n){return{duration:t,delay:e,easing:n}}function g4(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var my=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},qxe=1,Xxe=":enter",Yxe=new RegExp(Xxe,"g"),Kxe=":leave",Qxe=new RegExp(Kxe,"g");function L$(t,e,n,i,r,s=new Map,o=new Map,a,l,c=[]){return new e4().buildKeyframes(t,e,n,i,r,s,o,a,l,c)}var e4=class{buildKeyframes(e,n,i,r,s,o,a,l,c,u=[]){c=c||new my;let d=new t4(e,n,c,r,s,u,[]);d.options=l;let f=l.delay?Xd(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),rl(this,i,d);let h=d.timelines.filter(_=>_.containsAnimation());if(h.length&&a.size){let _;for(let g=h.length-1;g>=0;g--){let y=h[g];if(y.element===n){_=y;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,l)}return h.length?h.map(_=>_.buildKeyframes()):[g4(n,[],[],[],0,f,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Xd(py(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?Xd(i.duration):null,a=i.delay!=null?Xd(i.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),rl(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ln.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=NT);let o=Xd(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>rl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Xd(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),rl(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?py(i,n.params,n.errors):i;return PT(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Ln.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?Xd(r.delay):0;s&&(n.previousNode.type===Ln.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=NT);let o=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),rl(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;rl(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},NT={},t4=class t{constructor(e,n,i,r,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new OT(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Xd(i.duration)),i.delay!=null&&(r.delay=Xd(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=py(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=NT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new n4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Yxe,"."+this._enterClassName),e=e.replace(Qxe,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(dxe(n)),a}},OT=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=qxe,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||hu),this._currentKeyframe.set(n,hu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=Zxe(e,this._globalTimelineStyles);for(let[a,l]of o){let c=py(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??hu),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===U2?e.add(d):u===hu&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return g4(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},n4=class extends OT{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",_$(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),_=n+h*i;f.set("offset",_$(_/o)),s.push(f)}i=o,n=0,r="",e=s}return g4(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function _$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Zxe(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)n.set(s,hu)}else for(let[s,o]of r)n.set(s,o)}),n}function y$(t,e,n,i,r,s,o,a,l,c,u,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var $F={},RT=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Jxe(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||$F,h=a&&a.params||$F,_=this.buildStyles(i,h,d),g=l&&l.params||$F,y=this.buildStyles(r,g,d),b=new Set,E=new Map,F=new Map,U=r==="void",W={params:N$(g,f),delay:this.ast.options?.delay},te=u?[]:L$(e,n,this.ast.animation,s,o,_,y,W,c,d),I=0;return te.forEach(T=>{I=Math.max(T.duration+T.delay,I)}),d.length?y$(n,this._triggerName,i,r,U,_,y,[],[],E,F,I,d):(te.forEach(T=>{let L=T.element,N=sl(E,L,new Set);T.preStyleProps.forEach(M=>N.add(M));let D=sl(F,L,new Set);T.postStyleProps.forEach(M=>D.add(M)),L!==n&&b.add(L)}),y$(n,this._triggerName,i,r,U,_,y,te,[...b.values()],E,F,I))}};function Jxe(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}function N$(t,e){let n=ut({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var i4=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=N$(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=py(o,r,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}};function ewe(t,e,n){return new r4(t,e,n)}var r4=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new i4(r.style,s,i))}),x$(this.states,"true","1"),x$(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new RT(e,r,this.states))}),this.fallbackTransition=twe(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function twe(t,e,n){let i=[(o,a)=>!0],r={type:Ln.Sequence,steps:[],options:null},s={type:Ln.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new RT(t,s,e)}function x$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var nwe=new my,s4=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],s=F$(this._driver,n,i,r);if(i.length)throw gxe(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,i){let r=e.element,s=E$(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=L$(this._driver,n,s,I$,XF,new Map,new Map,i,nwe,r),o.forEach(u=>{let d=sl(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(vxe()),o=[]),r.length)throw _xe(r);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,hu))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ff(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw yxe(e);return n}listen(e,n,i,r){let s=d4(n,"","","");return u4(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},w$="ng-animate-queued",iwe=".ng-animate-queued",GF="ng-animate-disabled",rwe=".ng-animate-disabled",swe="ng-star-inserted",owe=".ng-star-inserted",awe=[],O$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lwe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oc="__ng_removed",gy=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=uwe(r),i){let s=e,{value:o}=s,a=o3(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},fy="void",WF=new gy(fy),o4=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$l(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw xxe(i,n);if(i==null||i.length==0)throw wxe(n);if(!dwe(i))throw bxe(i,n);let s=sl(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);let a=sl(this._engine.statesByElement,e,new Map);return a.has(n)||($l(e,ET),$l(e,ET+"-"+n),a.set(n,WF)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Cxe(e);return n}trigger(e,n,i,r=!0){let s=this._getTrigger(n),o=new vy(this.id,n,e),a=this._engine.statesByElement.get(e);a||($l(e,ET),$l(e,ET+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new gy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=WF),!(c.value===fy)&&l.value===c.value){if(!pwe(l.params,c.params)){let g=[],y=s.matchStyles(l.value,l.params,g),b=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{T0(e,y),Vu(e,b)})}return}let f=sl(this._engine.playersByElement,e,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let h=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!h){if(!r)return;h=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:_}),_||($l(e,w$),o.onStart(()=>{uv(e,w$)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let y=this._engine.playersByElement.get(e);if(y){let b=y.indexOf(o);b>=0&&y.splice(b,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,MT,!0);i.forEach(r=>{if(r[Oc])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,fy,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&Ff(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||WF,u=new gy(fy),d=new vy(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Oc];(!s||s===O$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){$l(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=d4(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,u4(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},a4=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new o4(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,r){if(DT(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!DT(n))return;let s=n[Oc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$l(e,GF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uv(e,GF))}removeNode(e,n,i){if(DT(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[Oc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return DT(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,MT,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,YF,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ff(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Oc];if(n&&n.setForRemoval){if(e[Oc]=O$,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(GF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rwe,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];$l(r,swe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ff(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Txe(e)}_flushAnimations(e,n){let i=new my,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(le=>{u.add(le);let ie=this.driver.query(le,iwe,!0);for(let fe=0;fe<ie.length;fe++)u.add(ie[fe])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=T$(f,this.collectedEnterElements),_=new Map,g=0;h.forEach((le,ie)=>{let fe=I$+g++;_.set(ie,fe),le.forEach(be=>$l(be,fe))});let y=[],b=new Set,E=new Set;for(let le=0;le<this.collectedLeaveElements.length;le++){let ie=this.collectedLeaveElements[le],fe=ie[Oc];fe&&fe.setForRemoval&&(y.push(ie),b.add(ie),fe.hasAnimation?this.driver.query(ie,owe,!0).forEach(be=>b.add(be)):E.add(ie))}let F=new Map,U=T$(f,Array.from(b));U.forEach((le,ie)=>{let fe=XF+g++;F.set(ie,fe),le.forEach(be=>$l(be,fe))}),e.push(()=>{h.forEach((le,ie)=>{let fe=_.get(ie);le.forEach(be=>uv(be,fe))}),U.forEach((le,ie)=>{let fe=F.get(ie);le.forEach(be=>uv(be,fe))}),y.forEach(le=>{this.processLeaveNode(le)})});let W=[],te=[];for(let le=this._namespaceList.length-1;le>=0;le--)this._namespaceList[le].drainQueuedTransitions(n).forEach(fe=>{let be=fe.player,Ce=fe.element;if(W.push(be),this.collectedEnterElements.length){let xe=Ce[Oc];if(xe&&xe.setForMove){if(xe.previousTriggersValues&&xe.previousTriggersValues.has(fe.triggerName)){let Ee=xe.previousTriggersValues.get(fe.triggerName),Te=this.statesByElement.get(fe.element);if(Te&&Te.has(fe.triggerName)){let Fe=Te.get(fe.triggerName);Fe.value=Ee,Te.set(fe.triggerName,Fe)}}be.destroy();return}}let Ue=!d||!this.driver.containsElement(d,Ce),C=F.get(Ce),q=_.get(Ce),j=this._buildInstruction(fe,i,q,C,Ue);if(j.errors&&j.errors.length){te.push(j);return}if(Ue){be.onStart(()=>T0(Ce,j.fromStyles)),be.onDestroy(()=>Vu(Ce,j.toStyles)),r.push(be);return}if(fe.isFallbackTransition){be.onStart(()=>T0(Ce,j.fromStyles)),be.onDestroy(()=>Vu(Ce,j.toStyles)),r.push(be);return}let X=[];j.timelines.forEach(xe=>{xe.stretchStartingKeyframe=!0,this.disabledNodes.has(xe.element)||X.push(xe)}),j.timelines=X,i.append(Ce,j.timelines);let de={instruction:j,player:be,element:Ce};o.push(de),j.queriedElements.forEach(xe=>sl(a,xe,[]).push(be)),j.preStyleProps.forEach((xe,Ee)=>{if(xe.size){let Te=l.get(Ee);Te||l.set(Ee,Te=new Set),xe.forEach((Fe,et)=>Te.add(et))}}),j.postStyleProps.forEach((xe,Ee)=>{let Te=c.get(Ee);Te||c.set(Ee,Te=new Set),xe.forEach((Fe,et)=>Te.add(et))})});if(te.length){let le=[];te.forEach(ie=>{le.push(Sxe(ie.triggerName,ie.errors))}),W.forEach(ie=>ie.destroy()),this.reportError(le)}let I=new Map,T=new Map;o.forEach(le=>{let ie=le.element;i.has(ie)&&(T.set(ie,ie),this._beforeAnimationBuild(le.player.namespaceId,le.instruction,I))}),r.forEach(le=>{let ie=le.element;this._getPreviousPlayers(ie,!1,le.namespaceId,le.triggerName,null).forEach(be=>{sl(I,ie,[]).push(be),be.destroy()})});let L=y.filter(le=>S$(le,l,c)),N=new Map;C$(N,this.driver,E,c,hu).forEach(le=>{S$(le,l,c)&&L.push(le)});let M=new Map;h.forEach((le,ie)=>{C$(M,this.driver,new Set(le),l,U2)}),L.forEach(le=>{let ie=N.get(le),fe=M.get(le);N.set(le,new Map([...ie?.entries()??[],...fe?.entries()??[]]))});let R=[],Q=[],oe={};o.forEach(le=>{let{element:ie,player:fe,instruction:be}=le;if(i.has(ie)){if(u.has(ie)){fe.onDestroy(()=>Vu(ie,be.toStyles)),fe.disabled=!0,fe.overrideTotalTime(be.totalTime),r.push(fe);return}let Ce=oe;if(T.size>1){let C=ie,q=[];for(;C=C.parentNode;){let j=T.get(C);if(j){Ce=j;break}q.push(C)}q.forEach(j=>T.set(j,Ce))}let Ue=this._buildAnimation(fe.namespaceId,be,I,s,M,N);if(fe.setRealPlayer(Ue),Ce===oe)R.push(fe);else{let C=this.playersByElement.get(Ce);C&&C.length&&(fe.parentPlayer=Ff(C)),r.push(fe)}}else T0(ie,be.fromStyles),fe.onDestroy(()=>Vu(ie,be.toStyles)),Q.push(fe),u.has(ie)&&r.push(fe)}),Q.forEach(le=>{let ie=s.get(le.element);if(ie&&ie.length){let fe=Ff(ie);le.setRealPlayer(fe)}}),r.forEach(le=>{le.parentPlayer?le.syncPlayerEvents(le.parentPlayer):le.destroy()});for(let le=0;le<y.length;le++){let ie=y[le],fe=ie[Oc];if(uv(ie,XF),fe&&fe.hasAnimation)continue;let be=[];if(a.size){let Ue=a.get(ie);Ue&&Ue.length&&be.push(...Ue);let C=this.driver.query(ie,YF,!0);for(let q=0;q<C.length;q++){let j=a.get(C[q]);j&&j.length&&be.push(...j)}}let Ce=be.filter(Ue=>!Ue.destroyed);Ce.length?hwe(this,ie,Ce):this.processLeaveNode(ie)}return y.length=0,R.forEach(le=>{this.players.push(le),le.onDone(()=>{le.destroy();let ie=this.players.indexOf(le);this.players.splice(ie,1)}),le.play()}),R}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==fy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let c=l.element,u=c!==s,d=sl(i,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(h=>{let _=h.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),h.destroy(),d.push(h)})}T0(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,f=n.timelines.map(_=>{let g=_.element;u.add(g);let y=g[Oc];if(y&&y.removedBeforeQueried)return new Hh(_.duration,_.delay);let b=g!==l,E=fwe((i.get(g)||awe).map(I=>I.getRealPlayer())).filter(I=>{let T=I;return T.element?T.element===g:!1}),F=s.get(g),U=o.get(g),W=E$(this._normalizer,_.keyframes,F,U),te=this._buildPlayer(_,W,E);if(_.subTimeline&&r&&d.add(g),b){let I=new vy(e,a,g);I.setRealPlayer(te),c.push(I)}return te});c.forEach(_=>{sl(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>cwe(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>$l(_,m$));let h=Ff(f);return h.onDestroy(()=>{u.forEach(_=>uv(_,m$)),Vu(l,n.toStyles)}),d.forEach(_=>{sl(r,_,[]).push(h)}),h}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Hh(e.duration,e.delay)}},vy=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Hh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>u4(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){sl(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function cwe(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function uwe(t){return t??null}function DT(t){return t&&t.nodeType===1}function dwe(t){return t=="start"||t=="done"}function b$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function C$(t,e,n,i,r){let s=[];n.forEach(l=>s.push(b$(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=e.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[Oc]=lwe,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>b$(l,s[a++])),o}function T$(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&n.get(l).push(a)}),n}function $l(t,e){t.classList?.add(e)}function uv(t,e){t.classList?.remove(e)}function hwe(t,e,n){Ff(n).onDone(()=>t.processLeaveNode(e))}function fwe(t){let e=[];return R$(t,e),e}function R$(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof R1?R$(i.players,e):e.push(i)}}function pwe(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function S$(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}var hv=class{constructor(e,n,i){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new a4(e.body,n,i),this._timelineEngine=new s4(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,n,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=F$(this._driver,s,l,c);if(l.length)throw pxe(r,l);c.length&&void 0,a=ewe(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[s,o]=f$(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=f$(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mwe(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=qF(e[0]),e.length>1&&(i=qF(e[e.length-1]))):e instanceof Map&&(n=qF(e)),n||i?new l4(t,n,i):null}var dv=class dv{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=dv.initialStylesByElement.get(e);r||dv.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Vu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vu(this._element,this._initialStyles),this._endStyles&&(Vu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(dv.initialStylesByElement.delete(this._element),this._startStyles&&(T0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(T0(this._element,this._endStyles),this._endStyles=null),Vu(this._element,this._initialStyles),this._state=3)}};dv.initialStylesByElement=new WeakMap;var l4=dv;function qF(t){let e=null;return t.forEach((n,i)=>{gwe(i)&&(e=e||new Map,e.set(i,n))}),e}function gwe(t){return t==="display"||t==="position"}var VT=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:m4(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},BT=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return A$(e,n)}getParentElement(e){return h4(e)}query(e,n,i){return k$(e,n,i)}computeStyle(e,n,i){return m4(e,n)}animate(e,n,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(h=>h instanceof VT);Oxe(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((_,g)=>c.set(g,_))});let d=Fxe(n).map(h=>new Map(h));d=Rxe(e,d,c);let f=mwe(e,d);return new VT(e,d,l,f)}};var IT="@",V$="@.disabled",jT=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==IT&&n==V$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},c4=class extends jT{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==IT?n.charAt(1)=="."&&n==V$?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==IT){let r=vwe(e),s=n.slice(1),o="";return s.charAt(0)!=IT&&([s,o]=_we(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,n,i)}};function vwe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function _we(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var UT=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new jT(i,r,this.engine,d),c.set(r,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new c4(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var xwe=(()=>{let e=class e extends hv{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(ct(Ho),ct(S0),ct(E0))},e.\u0275prov=$t({token:e,factory:e.\u0275fac});let t=e;return t})();function wwe(){return new FT}function bwe(t,e,n){return new UT(t,e,n)}var j$=[{provide:E0,useFactory:wwe},{provide:hv,useClass:xwe},{provide:kh,useFactory:bwe,deps:[a2,hv,zn]}],B$=[{provide:S0,useFactory:()=>new BT},{provide:YA,useValue:"BrowserAnimations"},...j$],Cwe=[{provide:S0,useClass:f4},{provide:YA,useValue:"NoopAnimations"},...j$],U$=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?Cwe:B$}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Rn({providers:B$,imports:[c2]});let t=e;return t})();var _y=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},yy=class extends _y{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},_4=class extends _y{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},y4=class extends _y{constructor(e){super(),this.element=e instanceof Gi?e.nativeElement:e}},x4=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof yy)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof _4)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof y4)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var HT=class extends x4{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ba.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var zT="http://www.w3.org/1999/xhtml",w4={svg:"http://www.w3.org/2000/svg",xhtml:zT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yd(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),w4.hasOwnProperty(e)?{space:w4[e],local:t}:t}function Twe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===zT&&e.documentElement.namespaceURI===zT?e.createElement(t):e.createElementNS(n,t)}}function Swe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $T(t){var e=Yd(t);return(e.local?Swe:Twe)(e)}function Ewe(){}function A0(t){return t==null?Ewe:function(){return this.querySelector(t)}}function H$(t){typeof t!="function"&&(t=A0(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new ms(i,this._parents)}function b4(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Awe(){return[]}function xy(t){return t==null?Awe:function(){return this.querySelectorAll(t)}}function kwe(t){return function(){return b4(t.apply(this,arguments))}}function z$(t){typeof t=="function"?t=kwe(t):t=xy(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(t.call(l,l.__data__,c,o)),r.push(l));return new ms(i,r)}function wy(t){return function(){return this.matches(t)}}function GT(t){return function(e){return e.matches(t)}}var Dwe=Array.prototype.find;function Iwe(t){return function(){return Dwe.call(this.children,t)}}function Mwe(){return this.firstElementChild}function $$(t){return this.select(t==null?Mwe:Iwe(typeof t=="function"?t:GT(t)))}var Pwe=Array.prototype.filter;function Fwe(){return Array.from(this.children)}function Lwe(t){return function(){return Pwe.call(this.children,t)}}function G$(t){return this.selectAll(t==null?Fwe:Lwe(typeof t=="function"?t:GT(t)))}function W$(t){typeof t!="function"&&(t=wy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new ms(i,this._parents)}function WT(t){return new Array(t.length)}function q$(){return new ms(this._enter||this._groups.map(WT),this._parents)}function by(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}by.prototype={constructor:by,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function X$(t){return function(){return t}}function Nwe(t,e,n,i,r,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):n[o]=new by(t,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function Owe(t,e,n,i,r,s,o){var a,l,c=new Map,u=e.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=e[a])&&(f[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?r[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(t,s[a],a,s)+"",(l=c.get(h))?(i[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new by(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(r[a]=l)}function Rwe(t){return t.__data__}function Y$(t,e){if(!arguments.length)return Array.from(this,Rwe);var n=e?Owe:Nwe,i=this._parents,r=this._groups;typeof t!="function"&&(t=X$(t));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],f=d.length,h=Vwe(t.call(u,u&&u.__data__,c,i)),_=h.length,g=a[c]=new Array(_),y=o[c]=new Array(_),b=l[c]=new Array(f);n(u,d,g,y,b,h,e);for(var E=0,F=0,U,W;E<_;++E)if(U=g[E]){for(E>=F&&(F=E+1);!(W=y[F])&&++F<_;);U._next=W||null}}return o=new ms(o,i),o._enter=a,o._exit=l,o}function Vwe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K$(){return new ms(this._exit||this._groups.map(WT),this._parents)}function Q$(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Z$(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,f=a[l]=new Array(d),h,_=0;_<d;++_)(h=c[_]||u[_])&&(f[_]=h);for(;l<r;++l)a[l]=n[l];return new ms(a,this._parents)}function J$(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function eG(t){t||(t=Bwe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new ms(r,this._parents).order()}function Bwe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function tG(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nG(){return Array.from(this)}function iG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function rG(){let t=0;for(let e of this)++t;return t}function sG(){return!this.node()}function oG(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&t.call(a,a.__data__,s,r);return this}function jwe(t){return function(){this.removeAttribute(t)}}function Uwe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hwe(t,e){return function(){this.setAttribute(t,e)}}function zwe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $we(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gwe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aG(t,e){var n=Yd(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Uwe:jwe:typeof e=="function"?n.local?Gwe:$we:n.local?zwe:Hwe)(n,e))}function qT(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Wwe(t){return function(){this.style.removeProperty(t)}}function qwe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xwe(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function lG(t,e,n){return arguments.length>1?this.each((e==null?Wwe:typeof e=="function"?Xwe:qwe)(t,e,n??"")):Lf(this.node(),t)}function Lf(t,e){return t.style.getPropertyValue(e)||qT(t).getComputedStyle(t,null).getPropertyValue(e)}function Ywe(t){return function(){delete this[t]}}function Kwe(t,e){return function(){this[t]=e}}function Qwe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function cG(t,e){return arguments.length>1?this.each((e==null?Ywe:typeof e=="function"?Qwe:Kwe)(t,e)):this.node()[t]}function uG(t){return t.trim().split(/^|\s+/)}function C4(t){return t.classList||new dG(t)}function dG(t){this._node=t,this._names=uG(t.getAttribute("class")||"")}dG.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hG(t,e){for(var n=C4(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function fG(t,e){for(var n=C4(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Zwe(t){return function(){hG(this,t)}}function Jwe(t){return function(){fG(this,t)}}function e2e(t,e){return function(){(e.apply(this,arguments)?hG:fG)(this,t)}}function pG(t,e){var n=uG(t+"");if(arguments.length<2){for(var i=C4(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?e2e:e?Zwe:Jwe)(n,e))}function t2e(){this.textContent=""}function n2e(t){return function(){this.textContent=t}}function i2e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function mG(t){return arguments.length?this.each(t==null?t2e:(typeof t=="function"?i2e:n2e)(t)):this.node().textContent}function r2e(){this.innerHTML=""}function s2e(t){return function(){this.innerHTML=t}}function o2e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gG(t){return arguments.length?this.each(t==null?r2e:(typeof t=="function"?o2e:s2e)(t)):this.node().innerHTML}function a2e(){this.nextSibling&&this.parentNode.appendChild(this)}function vG(){return this.each(a2e)}function l2e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _G(){return this.each(l2e)}function yG(t){var e=typeof t=="function"?t:$T(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function c2e(){return null}function xG(t,e){var n=typeof t=="function"?t:$T(t),i=e==null?c2e:typeof e=="function"?e:A0(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function u2e(){var t=this.parentNode;t&&t.removeChild(this)}function wG(){return this.each(u2e)}function d2e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function h2e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bG(t){return this.select(t?h2e:d2e)}function CG(t){return arguments.length?this.property("__data__",t):this.node().__data__}function f2e(t){return function(e){t.call(this,e,this.__data__)}}function p2e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function m2e(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function g2e(t,e,n){return function(){var i=this.__on,r,s=f2e(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function TG(t,e,n){var i=p2e(t+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?g2e:m2e,r=0;r<s;++r)this.each(a(i[r],e,n));return this}function SG(t,e,n){var i=qT(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function v2e(t,e){return function(){return SG(this,t,e)}}function _2e(t,e){return function(){return SG(this,t,e.apply(this,arguments))}}function EG(t,e){return this.each((typeof e=="function"?_2e:v2e)(t,e))}function*AG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var y2e=[null];function ms(t,e){this._groups=t,this._parents=e}function kG(){return new ms([[document.documentElement]],y2e)}function x2e(){return this}ms.prototype=kG.prototype={constructor:ms,select:H$,selectAll:z$,selectChild:$$,selectChildren:G$,filter:W$,data:Y$,enter:q$,exit:K$,join:Q$,merge:Z$,selection:x2e,order:J$,sort:eG,call:tG,nodes:nG,node:iG,size:rG,empty:sG,each:oG,attr:aG,style:lG,property:cG,classed:pG,text:mG,html:gG,raise:vG,lower:_G,append:yG,insert:xG,remove:wG,clone:bG,datum:CG,on:TG,dispatch:EG,[Symbol.iterator]:AG};var Kd=kG;var w2e={value:()=>{}};function IG(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new XT(n)}function XT(t){this._=t}function b2e(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}XT.prototype=IG.prototype={constructor:XT,on:function(t,e){var n=this._,i=b2e(t+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=C2e(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(t=i[s]).type)n[r]=DG(n[r],t.name,e);else if(e==null)for(r in n)n[r]=DG(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new XT(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function C2e(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function DG(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=w2e,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var T4=IG;function YT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S4(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Sy(){}var Cy=.7,ZT=1/Cy,fv="\\s*([+-]?\\d+)\\s*",Ty="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T2e=/^#([0-9a-f]{3,8})$/,S2e=new RegExp(`^rgb\\(${fv},${fv},${fv}\\)$`),E2e=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),A2e=new RegExp(`^rgba\\(${fv},${fv},${fv},${Ty}\\)$`),k2e=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Ty}\\)$`),D2e=new RegExp(`^hsl\\(${Ty},${Bu},${Bu}\\)$`),I2e=new RegExp(`^hsla\\(${Ty},${Bu},${Bu},${Ty}\\)$`),MG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YT(Sy,Nf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PG,formatHex:PG,formatHex8:M2e,formatHsl:P2e,formatRgb:FG,toString:FG});function PG(){return this.rgb().formatHex()}function M2e(){return this.rgb().formatHex8()}function P2e(){return BG(this).formatHsl()}function FG(){return this.rgb().formatRgb()}function Nf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=T2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?LG(e):n===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?KT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?KT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=S2e.exec(t))?new Sa(e[1],e[2],e[3],1):(e=E2e.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=A2e.exec(t))?KT(e[1],e[2],e[3],e[4]):(e=k2e.exec(t))?KT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=D2e.exec(t))?RG(e[1],e[2]/100,e[3]/100,1):(e=I2e.exec(t))?RG(e[1],e[2]/100,e[3]/100,e[4]):MG.hasOwnProperty(t)?LG(MG[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function LG(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function KT(t,e,n,i){return i<=0&&(t=e=n=NaN),new Sa(t,e,n,i)}function F2e(t){return t instanceof Sy||(t=Nf(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function pv(t,e,n,i){return arguments.length===1?F2e(t):new Sa(t,e,n,i??1)}function Sa(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}YT(Sa,pv,S4(Sy,{brighter(t){return t=t==null?ZT:Math.pow(ZT,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cy:Math.pow(Cy,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(D0(this.r),D0(this.g),D0(this.b),JT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NG,formatHex:NG,formatHex8:L2e,formatRgb:OG,toString:OG}));function NG(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}`}function L2e(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}${k0((isNaN(this.opacity)?1:this.opacity)*255)}`}function OG(){let t=JT(this.opacity);return`${t===1?"rgb(":"rgba("}${D0(this.r)}, ${D0(this.g)}, ${D0(this.b)}${t===1?")":`, ${t})`}`}function JT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function D0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function k0(t){return t=D0(t),(t<16?"0":"")+t.toString(16)}function RG(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rc(t,e,n,i)}function BG(t){if(t instanceof Rc)return new Rc(t.h,t.s,t.l,t.opacity);if(t instanceof Sy||(t=Nf(t)),!t)return new Rc;if(t instanceof Rc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Rc(o,a,l,t.opacity)}function jG(t,e,n,i){return arguments.length===1?BG(t):new Rc(t,e,n,i??1)}function Rc(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}YT(Rc,jG,S4(Sy,{brighter(t){return t=t==null?ZT:Math.pow(ZT,t),new Rc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cy:Math.pow(Cy,t),new Rc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Sa(E4(t>=240?t-240:t+120,r,i),E4(t,r,i),E4(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Rc(VG(this.h),QT(this.s),QT(this.l),JT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=JT(this.opacity);return`${t===1?"hsl(":"hsla("}${VG(this.h)}, ${QT(this.s)*100}%, ${QT(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VG(t){return t=(t||0)%360,t<0?t+360:t}function QT(t){return Math.max(0,Math.min(1,t||0))}function E4(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function A4(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}function UG(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1],o=i>0?t[i-1]:2*r-s,a=i<e-1?t[i+2]:2*s-r;return A4((n-i/e)*e,o,r,s,a)}}function HG(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],s=t[i%e],o=t[(i+1)%e],a=t[(i+2)%e];return A4((n-i/e)*e,r,s,o,a)}}var k4=t=>()=>t;function N2e(t,e){return function(n){return t+n*e}}function O2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function zG(t){return(t=+t)==1?eS:function(e,n){return n-e?O2e(e,n,t):k4(isNaN(e)?n:e)}}function eS(t,e){var n=e-t;return n?N2e(t,n):k4(isNaN(t)?e:t)}var tS=function t(e){var n=zG(e);function i(r,s){var o=n((r=pv(r)).r,(s=pv(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),c=eS(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=t,i}(1);function $G(t){return function(e){var n=e.length,i=new Array(n),r=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=pv(e[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=t(i),r=t(r),s=t(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var R2e=$G(UG),V2e=$G(HG);function Gl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var I4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D4=new RegExp(I4.source,"g");function B2e(t){return function(){return t}}function j2e(t){return function(e){return t(e)+""}}function M4(t,e){var n=I4.lastIndex=D4.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(i=I4.exec(t))&&(r=D4.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Gl(i,r)})),n=D4.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?j2e(l[0].x):B2e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var GG=180/Math.PI,nS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function P4(t,e,n,i,r,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*GG,skewX:Math.atan(l)*GG,scaleX:o,scaleY:a}}var iS;function WG(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nS:P4(e.a,e.b,e.c,e.d,e.e,e.f)}function qG(t){return t==null?nS:(iS||(iS=document.createElementNS("http://www.w3.org/2000/svg","g")),iS.setAttribute("transform",t),(t=iS.transform.baseVal.consolidate())?(t=t.matrix,P4(t.a,t.b,t.c,t.d,t.e,t.f)):nS)}function XG(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,_){if(c!==d||u!==f){var g=h.push("translate(",null,e,null,n);_.push({i:g-4,x:Gl(c,d)},{i:g-2,x:Gl(u,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Gl(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}function a(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Gl(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}function l(c,u,d,f,h,_){if(c!==d||u!==f){var g=h.push(r(h)+"scale(",null,",",null,")");_.push({i:g-4,x:Gl(c,d)},{i:g-2,x:Gl(u,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var _=-1,g=f.length,y;++_<g;)d[(y=f[_]).i]=y.x(h);return d.join("")}}}var F4=XG(WG,"px, ","px)","deg)"),L4=XG(qG,", ",")",")");var mv=0,Ay=0,Ey=0,KG=1e3,rS,ky,sS=0,I0=0,oS=0,Dy=typeof performance=="object"&&performance.now?performance:Date,QG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function My(){return I0||(QG(U2e),I0=Dy.now()+oS)}function U2e(){I0=0}function Iy(){this._call=this._time=this._next=null}Iy.prototype=aS.prototype={constructor:Iy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?My():+n)+(e==null?0:+e),!this._next&&ky!==this&&(ky?ky._next=this:rS=this,ky=this),this._call=t,this._time=n,N4()},stop:function(){this._call&&(this._call=null,this._time=1/0,N4())}};function aS(t,e,n){var i=new Iy;return i.restart(t,e,n),i}function ZG(){My(),++mv;for(var t=rS,e;t;)(e=I0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mv}function YG(){I0=(sS=Dy.now())+oS,mv=Ay=0;try{ZG()}finally{mv=0,z2e(),I0=0}}function H2e(){var t=Dy.now(),e=t-sS;e>KG&&(oS-=e,sS=t)}function z2e(){for(var t,e=rS,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:rS=n);ky=t,N4(i)}function N4(t){if(!mv){Ay&&(Ay=clearTimeout(Ay));var e=t-I0;e>24?(t<1/0&&(Ay=setTimeout(YG,t-Dy.now()-oS)),Ey&&(Ey=clearInterval(Ey))):(Ey||(sS=Dy.now(),Ey=setInterval(H2e,KG)),mv=1,QG(YG))}}function lS(t,e,n){var i=new Iy;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var $2e=T4("start","end","cancel","interrupt"),G2e=[],tW=0,JG=1,uS=2,cS=3,eW=4,dS=5,Py=6;function Of(t,e,n,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;W2e(t,n,{name:e,index:i,group:r,on:$2e,tween:G2e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tW})}function Fy(t,e){var n=gs(t,e);if(n.state>tW)throw new Error("too late; already scheduled");return n}function no(t,e){var n=gs(t,e);if(n.state>cS)throw new Error("too late; already running");return n}function gs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function W2e(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=aS(s,0,n.time);function s(c){n.state=JG,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==JG)return l();for(u in i)if(h=i[u],h.name===n.name){if(h.state===cS)return lS(o);h.state===eW?(h.state=Py,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<e&&(h.state=Py,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(lS(function(){n.state===cS&&(n.state=eW,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=uS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===uS){for(n.state=cS,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=dS,1),d=-1,f=r.length;++d<f;)r[d].call(t,u);n.state===dS&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Py,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function O4(t,e){var n=t.__transition,i,r,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}r=i.state>uS&&i.state<dS,i.state=Py,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}s&&delete t.__transition}}function nW(t){return this.each(function(){O4(this,t)})}function q2e(t,e){var n,i;return function(){var r=no(this,t),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function X2e(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=no(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function iW(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=gs(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?q2e:X2e)(n,t,e))}function gv(t,e,n){var i=t._id;return t.each(function(){var r=no(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return gs(r,i).value[e]}}function hS(t,e){var n;return(typeof e=="number"?Gl:e instanceof Nf?tS:(n=Nf(e))?(e=n,tS):M4)(t,e)}function Y2e(t){return function(){this.removeAttribute(t)}}function K2e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Q2e(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=e(i=o,n)}}function Z2e(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=e(i=o,n)}}function J2e(t,e,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function ebe(t,e,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function rW(t,e){var n=Yd(t),i=n==="transform"?L4:hS;return this.attrTween(t,typeof e=="function"?(n.local?ebe:J2e)(n,i,gv(this,"attr."+t,e)):e==null?(n.local?K2e:Y2e)(n):(n.local?Z2e:Q2e)(n,i,e))}function tbe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function nbe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ibe(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&nbe(t,s)),n}return r._value=e,r}function rbe(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&tbe(t,s)),n}return r._value=e,r}function sW(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Yd(t);return this.tween(n,(i.local?ibe:rbe)(i,e))}function sbe(t,e){return function(){Fy(this,t).delay=+e.apply(this,arguments)}}function obe(t,e){return e=+e,function(){Fy(this,t).delay=e}}function oW(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sbe:obe)(e,t)):gs(this.node(),e).delay}function abe(t,e){return function(){no(this,t).duration=+e.apply(this,arguments)}}function lbe(t,e){return e=+e,function(){no(this,t).duration=e}}function aW(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?abe:lbe)(e,t)):gs(this.node(),e).duration}function cbe(t,e){if(typeof e!="function")throw new Error;return function(){no(this,t).ease=e}}function lW(t){var e=this._id;return arguments.length?this.each(cbe(e,t)):gs(this.node(),e).ease}function ube(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;no(this,t).ease=n}}function cW(t){if(typeof t!="function")throw new Error;return this.each(ube(this._id,t))}function uW(t){typeof t!="function"&&(t=wy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Jo(i,this._parents,this._name,this._id)}function dW(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<i;++a)o[a]=e[a];return new Jo(o,this._parents,this._name,this._id)}function dbe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hbe(t,e,n){var i,r,s=dbe(e)?Fy:no;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}function hW(t,e){var n=this._id;return arguments.length<2?gs(this.node(),n).on.on(t):this.each(hbe(n,t,e))}function fbe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fW(){return this.on("end.remove",fbe(this._id))}function pW(t){var e=this._name,n=this._id;typeof t!="function"&&(t=A0(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=t.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Of(c[f],e,n,f,c,gs(u,n)));return new Jo(s,this._parents,e,n)}function mW(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xy(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=t.call(u,u.__data__,d,l),h,_=gs(u,n),g=0,y=f.length;g<y;++g)(h=f[g])&&Of(h,e,n,g,f,_);s.push(f),o.push(u)}return new Jo(s,o,e,n)}var pbe=Kd.prototype.constructor;function gW(){return new pbe(this._groups,this._parents)}function mbe(t,e){var n,i,r;return function(){var s=Lf(this,t),o=(this.style.removeProperty(t),Lf(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}function vW(t){return function(){this.style.removeProperty(t)}}function gbe(t,e,n){var i,r=n+"",s;return function(){var o=Lf(this,t);return o===r?null:o===i?s:s=e(i=o,n)}}function vbe(t,e,n){var i,r,s;return function(){var o=Lf(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Lf(this,t))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function _be(t,e){var n,i,r,s="style."+e,o="end."+s,a;return function(){var l=no(this,t),c=l.on,u=l.value[s]==null?a||(a=vW(e)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i}}function _W(t,e,n){var i=(t+="")=="transform"?F4:hS;return e==null?this.styleTween(t,mbe(t,i)).on("end.style."+t,vW(t)):typeof e=="function"?this.styleTween(t,vbe(t,i,gv(this,"style."+t,e))).each(_be(this._id,t)):this.styleTween(t,gbe(t,i,e),n).on("end.style."+t,null)}function ybe(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function xbe(t,e,n){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&ybe(t,o,n)),i}return s._value=e,s}function yW(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,xbe(t,e,n??""))}function wbe(t){return function(){this.textContent=t}}function bbe(t){return function(){var e=t(this);this.textContent=e??""}}function xW(t){return this.tween("text",typeof t=="function"?bbe(gv(this,"text",t)):wbe(t==null?"":t+""))}function Cbe(t){return function(e){this.textContent=t.call(this,e)}}function Tbe(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Cbe(r)),e}return i._value=t,i}function wW(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Tbe(t))}function bW(){for(var t=this._name,e=this._id,n=fS(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=gs(l,e);Of(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Jo(i,this._parents,t,n)}function CW(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};n.each(function(){var c=no(this,i),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&s()})}var Sbe=0;function Jo(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function TW(t){return Kd().transition(t)}function fS(){return++Sbe}var Qd=Kd.prototype;Jo.prototype=TW.prototype={constructor:Jo,select:pW,selectAll:mW,selectChild:Qd.selectChild,selectChildren:Qd.selectChildren,filter:uW,merge:dW,selection:gW,transition:bW,call:Qd.call,nodes:Qd.nodes,node:Qd.node,size:Qd.size,empty:Qd.empty,each:Qd.each,on:hW,attr:rW,attrTween:sW,style:_W,styleTween:yW,text:xW,textTween:wW,remove:fW,tween:iW,delay:oW,duration:aW,ease:lW,easeVarying:cW,end:CW,[Symbol.iterator]:Qd[Symbol.iterator]};function pS(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ebe={time:null,delay:0,duration:250,ease:pS};function Abe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function SW(t){var e,n;t instanceof Jo?(e=t._id,t=t._name):(e=fS(),(n=Ebe).time=My(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Of(l,t,e,c,o,n||Abe(l,e));return new Jo(i,this._parents,t,e)}Kd.prototype.interrupt=nW;Kd.prototype.transition=SW;var{abs:Y7e,max:K7e,min:Q7e}=Math;function EW(t){return[+t[0],+t[1]]}function kbe(t){return[EW(t[0]),EW(t[1])]}var Z7e={name:"x",handles:["w","e"].map(R4),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},J7e={name:"y",handles:["n","s"].map(R4),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},e9e={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(R4),input:function(t){return t==null?null:kbe(t)},output:function(t){return t}};function R4(t){return{type:t}}var FW=ma(kW(),1);var Obe=["caretElm"],Rbe=t=>({model:t});function Vbe(t,e){}function Bbe(t,e){if(t&1&&(B(0,"span"),tt(1,Vbe,0,0,"ng-template",5),P()),t&2){let n=Pe();Z(),ye("ngTemplateOutlet",n.template)("ngTemplateOutletContext",dR(2,Rbe,n.context))}}function jbe(t,e){if(t&1&&Ft(0,"span",6),t&2){let n=Pe();ye("innerHTML",n.title,uO)}}function Ube(t,e,n){n=n||{};let i,r,s,o=null,a=0;function l(){a=n.leading===!1?0:+new Date,o=null,s=t.apply(i,r)}return function(){let c=+new Date;!a&&n.leading===!1&&(a=c);let u=e-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=t.apply(i,r)):!o&&n.trailing!==!1&&(o=setTimeout(l,u)),s}}function Hbe(t,e){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:Ube(s.value,t,e)}),this[r]}}}}var pi=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}(pi||{}),Rf=7;function DW(t,e,n){if(n===pi.Top)return t.top-Rf;if(n===pi.Bottom)return t.top+t.height-e.height+Rf;if(n===pi.Center)return t.top+t.height/2-e.height/2}function IW(t,e,n){if(n===pi.Left)return t.left-Rf;if(n===pi.Right)return t.left+t.width-e.width+Rf;if(n===pi.Center)return t.left+t.width/2-e.width/2}var Ly=class t{static calculateVerticalAlignment(e,n,i){let r=DW(e,n,i);return r+n.height>window.innerHeight&&(r=window.innerHeight-n.height),r}static calculateVerticalCaret(e,n,i,r){let s;r===pi.Top&&(s=e.height/2-i.height/2+Rf),r===pi.Bottom&&(s=n.height-e.height/2-i.height/2-Rf),r===pi.Center&&(s=n.height/2-i.height/2);let o=DW(e,n,r);return o+n.height>window.innerHeight&&(s+=o+n.height-window.innerHeight),s}static calculateHorizontalAlignment(e,n,i){let r=IW(e,n,i);return r+n.width>window.innerWidth&&(r=window.innerWidth-n.width),r}static calculateHorizontalCaret(e,n,i,r){let s;r===pi.Left&&(s=e.width/2-i.width/2+Rf),r===pi.Right&&(s=n.width-e.width/2-i.width/2-Rf),r===pi.Center&&(s=n.width/2-i.width/2);let o=IW(e,n,r);return o+n.width>window.innerWidth&&(s+=o+n.width-window.innerWidth),s}static shouldFlip(e,n,i,r){let s=!1;return i===pi.Right&&e.left+e.width+n.width+r>window.innerWidth&&(s=!0),i===pi.Left&&e.left-n.width-r<0&&(s=!0),i===pi.Top&&e.top-n.height-r<0&&(s=!0),i===pi.Bottom&&e.top+e.height+n.height+r>window.innerHeight&&(s=!0),s}static positionCaret(e,n,i,r,s){let o=0,a=0;return e===pi.Right?(a=-7,o=t.calculateVerticalCaret(i,n,r,s)):e===pi.Left?(a=n.width,o=t.calculateVerticalCaret(i,n,r,s)):e===pi.Top?(o=n.height,a=t.calculateHorizontalCaret(i,n,r,s)):e===pi.Bottom&&(o=-7,a=t.calculateHorizontalCaret(i,n,r,s)),{top:o,left:a}}static positionContent(e,n,i,r,s){let o=0,a=0;return e===pi.Right?(a=i.left+i.width+r,o=t.calculateVerticalAlignment(i,n,s)):e===pi.Left?(a=i.left-n.width-r,o=t.calculateVerticalAlignment(i,n,s)):e===pi.Top?(o=i.top-n.height-r,a=t.calculateHorizontalAlignment(i,n,s)):e===pi.Bottom&&(o=i.top+i.height+r,a=t.calculateHorizontalAlignment(i,n,s)),{top:o,left:a}}static determinePlacement(e,n,i,r){if(t.shouldFlip(i,n,e,r)){if(e===pi.Right)return pi.Left;if(e===pi.Left)return pi.Right;if(e===pi.Top)return pi.Bottom;if(e===pi.Bottom)return pi.Top}return e}},zbe=(()=>{class t{constructor(n,i,r){this.element=n,this.renderer=i,this.platformId=r}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!s2(this.platformId))return;let n=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=n.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(n,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,i,r){let{top:s,left:o}=Ly.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${s}px`),this.renderer.setStyle(n,"left",`${o}px`)}positionCaret(n,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Ly.positionCaret(this.placement,i,n,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(n,i){this.placement=Ly.determinePlacement(this.placement,i,n,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(n){return new(n||t)(Je(Gi),Je(Ds),Je(ks))},t.\u0275cmp=fn({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,i){if(n&1&&El(Obe,5),n&2){let r;za(r=$a())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(n,i){n&1&&Ye("resize",function(){return i.onWindowResize()},!1,hO),n&2&&tR(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(B(0,"div"),Ft(1,"span",1,0),B(3,"div",2),tt(4,Bbe,2,4,"span",3)(5,jbe,1,1,"span",4),P()()),n&2&&(Z(),lR("tooltip-caret position-",i.placement,""),ye("hidden",!i.showCaret),Z(3),ye("ngIf",!i.title),Z(),ye("ngIf",i.title))},dependencies:[hr,RR],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),c3([Hbe(100)],t.prototype,"onWindowResize",null),t})(),V4=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,n){n=this.assignDefaults(n);let i=this.injectComponent(e,n);return this.register(e,i),i}destroy(e){let n=this.components.get(e.componentType);if(n&&n.length){let i=n.indexOf(e);i>-1&&(n[i].destroy(),n.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let n=this.components.get(e);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--])}}injectComponent(e,n){return this.injectionService.appendComponent(e,n)}assignDefaults(e){let n=ut({},this.defaults.inputs),i=ut({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),n&&(e.inputs=ut(ut({},n),e.inputs)),i&&(e.outputs=ut(ut({},i),e.outputs)),e}register(e,n){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(n)}};function $be(t){return t.element}var LW=(()=>{class t{constructor(n,i,r){this.applicationRef=n,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(n){t.globalRootViewContainer=n}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return $be(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)n.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)n.instance[s]=i.outputs[s]}}return n}appendComponent(n,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new HT(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new yy(n),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return t.globalRootViewContainer=null,t.\u0275fac=function(n){return new(n||t)(ct(gd),ct(Ah),ct(Ba))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),Gbe=(()=>{class t extends V4{constructor(n){super(n),this.type=zbe}}return t.\u0275fac=function(n){return new(n||t)(ct(LW))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})();var To=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}(To||{});var MW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[Hr]]}),t})();var PW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({providers:[LW,Gbe],imports:[[Hr]]}),t})();var B4;typeof window<"u"?B4=window:typeof global<"u"&&(B4=global);var K9e=B4.MouseEvent;var ol=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[Hr,MW,PW],Hr,MW,PW]}),t})();var Q9e=[{name:"vivid",selectable:!0,group:To.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:To.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:To.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:To.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:To.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:To.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:To.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:To.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:To.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:To.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:To.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:To.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:To.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:To.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:To.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];var Wbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var NW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})(),Z9e=(0,FW.default)();var qbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var Xbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var Ybe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var OW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var J9e=2*Math.PI;var j4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})(),Kbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol,j4,OW]]}),t})();var Qbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var Zbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})();var Jbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol,j4,NW]]}),t})();function eCe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var tCe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[[ol]]}),t})(),RW=(()=>{class t{constructor(){eCe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Rn({imports:[ol,Wbe,NW,qbe,Xbe,Ybe,tCe,OW,Kbe,Qbe,j4,Zbe,Jbe]}),t})();var VW={providers:[A6(d$),OA(Ir,Fl,P8.initializeApp({apiKey:"AIzaSyDGif3NJXC7v7VKBGL1rhq_yiAQKG94WfU",authDomain:"tp02-ef411.firebaseapp.com",projectId:"tp02-ef411",storageBucket:"tp02-ef411.appspot.com",messagingSenderId:"1038947319102",appId:"1:1038947319102:web:c95224758351e20770806f"}),m9,F8,c2,Zn,pf,mf,U$,RW,zl.forRoot({echarts:()=>import("./chunk-OLTQZKZA.js")}))]};function nCe(t,e){t&1&&(B(0,"li",10)(1,"a",11),G(2,"Iniciar sesi\xF3n"),P()())}function iCe(t,e){t&1&&(B(0,"li",10)(1,"a",12),G(2,"Registrarse"),P()())}function rCe(t,e){t&1&&(B(0,"li",10)(1,"a",13),G(2,"Usuarios"),P()())}function sCe(t,e){t&1&&(B(0,"li",10)(1,"a",14),G(2,"Turnos"),P()())}function oCe(t,e){t&1&&(B(0,"li",10)(1,"a",15),G(2,"Graficos"),P()())}function aCe(t,e){t&1&&(B(0,"li",10)(1,"a",16),G(2,"Mi perfil"),P()())}function lCe(t,e){t&1&&(B(0,"li",10)(1,"a",17),G(2,"Mis Turnos"),P()())}function cCe(t,e){t&1&&(B(0,"li",10)(1,"a",18),G(2,"Mis Turnos"),P()())}function uCe(t,e){t&1&&(B(0,"li",10)(1,"a",19),G(2,"Pacientes"),P()())}function dCe(t,e){t&1&&(B(0,"li",10)(1,"a",20),G(2,"Solicitar Turno"),P()())}function hCe(t,e){if(t&1){let n=Jt();B(0,"li",10)(1,"a",21),Ye("click",function(){vt(n);let r=Pe();return _t(r.OnLogOutClick())}),G(2,"Cerrar sesi\xF3n"),P()()}}var BW=(()=>{let e=class e{constructor(i,r){this.router=i,this.auth=r,this.isAdmin=!1,this.isEspecialista=!1,this.isPaciente=!1,this.isLoggedIn$=this.auth.isLoggedIn$}ngOnInit(){this.roleSubscription=this.auth.role$.subscribe(i=>{this.isAdmin=i.esAdmin,this.isEspecialista=i.esEspecialista,this.isPaciente=i.esPaciente})}ngOnDestroy(){this.roleSubscription&&this.roleSubscription.unsubscribe()}OnLogOutClick(){return Se(this,null,function*(){yield this.auth.logout(),this.router.navigateByUrl("home")})}};e.\u0275fac=function(r){return new(r||e)(Je(fo),Je(Zn))},e.\u0275cmp=fn({type:e,selectors:[["app-root"]],standalone:!0,features:[wn],decls:28,vars:21,consts:[[1,"app-container"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["src","./../assets/icono.png",2,"width","50px"],[1,"title"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item","active"],["href","#",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","login",1,"nav-link"],["href","registro",1,"nav-link"],["href","seccion-usuarios",1,"nav-link"],["href","turnos",1,"nav-link"],["href","graficos",1,"nav-link"],["href","mi-perfil",1,"nav-link"],["href","mis-turnos-pac",1,"nav-link"],["href","mis-turnos-esp",1,"nav-link"],["href","seccion-pacientes",1,"nav-link"],["href","solicitar-turnos",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(r,s){r&1&&(B(0,"div",0)(1,"nav",1)(2,"a",2),Ft(3,"img",3),P(),B(4,"h1",4),G(5,"Lisan al-Clinic"),P(),B(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),G(10,"P\xE1gina principal"),P()(),tt(11,nCe,3,0,"li",9),Ga(12,"async"),tt(13,iCe,3,0,"li",9),Ga(14,"async"),tt(15,rCe,3,0,"li",9)(16,sCe,3,0,"li",9)(17,oCe,3,0,"li",9)(18,aCe,3,0,"li",9),Ga(19,"async"),tt(20,lCe,3,0,"li",9)(21,cCe,3,0,"li",9)(22,uCe,3,0,"li",9)(23,dCe,3,0,"li",9),Ga(24,"async"),tt(25,hCe,3,0,"li",9),Ga(26,"async"),P()()(),Ft(27,"router-outlet"),P()),r&2&&(Z(11),ye("ngIf",!Wa(12,11,s.isLoggedIn$)),Z(2),ye("ngIf",!Wa(14,13,s.isLoggedIn$)),Z(2),ye("ngIf",s.isAdmin),Z(),ye("ngIf",s.isAdmin),Z(),ye("ngIf",s.isAdmin),Z(),ye("ngIf",Wa(19,15,s.isLoggedIn$)),Z(2),ye("ngIf",s.isPaciente),Z(),ye("ngIf",s.isEspecialista),Z(),ye("ngIf",s.isEspecialista),Z(),ye("ngIf",Wa(24,17,s.isLoggedIn$)&&(s.isAdmin||s.isPaciente)),Z(2),ye("ngIf",Wa(26,19,s.isLoggedIn$)))},dependencies:[TD,hr,Hr,r2],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.navbar[_ngcontent-%COMP%]{background-color:#d1a054;display:flex;align-items:center;justify-content:space-between;padding:1rem}.title[_ngcontent-%COMP%]{margin:0;color:#2e4c6d;font-size:1.5rem;display:flex;align-items:center}.navbar-brand[_ngcontent-%COMP%]{display:flex}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;margin-right:1rem}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e4c6d;font-size:1.5rem;margin-left:335px;padding:.5rem 0;font-family:Dune,sans-serif}.navbar-nav[_ngcontent-%COMP%]{display:flex;flex-grow:1}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;text-decoration:none}.nav-item[_ngcontent-%COMP%]{margin:0 10px}.nav-link[_ngcontent-%COMP%]{color:#2e4c6d;font-size:1rem;transition:color .3s;text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{color:#d2691e}.logout-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#d2691e;font-size:1.2rem;transition:color .3s}.logout-btn[_ngcontent-%COMP%]:hover{color:#d1a054}.navbar-toggler[_ngcontent-%COMP%]{border-color:#2e4c6d}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#2e4c6d;font-size:1.5rem}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{list-style-type:none;text-decoration:none}"]});let t=e;return t})();$R(BW,VW).catch(t=>console.error(t));
